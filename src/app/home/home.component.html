<div class="home">
  <div [ngClass]="{'sidebar-open':open === true,'sidebar-collapse':!open}" class="wrap">

      <!-- 侧边菜单 -->
      <aside class="sidebar-dark-primary main-sidebar sidebar-bg" *ngIf="visible == true">
        <!-- logo -->
        <div class="nav-log d-inline-block display-inoneline">
          <img class="logo" src="../../assets/imgs/logo.png" alt="logo">
          <span class="logo-title">新阳蓝光</span>
        </div>
        <!-- ymZhao-aside下额外包一层，以隐藏滚动条 -->
        <div class="sidebar-inner">
          <ul class="first-menu">
            <!-- 一级菜单 -->
            <li *ngFor="let routes of routeTree " class="cur-pointer nav-item ">
              <!-- 没有子菜单 -->
              <a *ngIf="getture(routes.id) && !routes.children && !(customerId && routes.id == 'SM-000')" [routerLink]="[routes.routeLink]" routerLinkActive="active" class="nav-link"
               >
                <i class={{routes.icon}}></i>
                <p class="p-left">{{routes.routeTitel}}</p>
              </a>
              <!-- 有子菜单 -->
              <a *ngIf=" routes.children && !(customerId && routes.id == 'SM-000')" (click)="routes.isCollapsed = !routes.isCollapsed" class="nav-link">
               
                <i class={{routes.icon}}></i>
                <p class="p-left">{{routes.routeTitel}}</p>
                <span class="angle" *ngIf="routes.isCollapsed"><i class="fa fa-angle-right" aria-hidden="true"></i></span>
                <span class="angle" *ngIf="!routes.isCollapsed"><i class="fa fa-angle-down" aria-hidden="true"></i></span>
              </a>
              <!-- 二级菜单 -->
              <ul [ngbCollapse]="routes.isCollapsed" *ngIf=" routes.children" class="sec-menu"  
              >
                <li *ngFor="let children of routes.children" class="cur-pointer nav-item ">
                  <!-- <a *ngIf="getture(children.id)" [routerLink]="[children.routeLink]" routerLinkActive="active" class="nav-link"> -->
                  <a *ngIf="getture(children.id)" [routerLink]="[children.routeLink]" routerLinkActive="active" class="nav-link">
                    <i class={{children.icon}}></i>
                    <p class="p-left">{{children.routeTitel}}</p>
                  </a>
                  <a *ngIf="!getture(children.id)" routerLinkActive="active" class="nav-link">
                    <i class={{children.icon}}></i>
                    <p class="p-left">{{children.routeTitel}}</p>
                  </a>
                </li>
        
              </ul>
            </li>
        
          </ul>
        </div>

        <!-- 用户 -->
        <div ngbDropdown class="dropup nav-user">
          <div class="cl-blue display-inoneline" id="dropdownBasic2" ngbDropdownToggle>
            <i class="fa fa-user-circle-o nav-icon cl-blue" aria-hidden="true"></i>
            <span class="currentUsername">{{loginName}}</span>
          </div>
          <ul ngbDropdownMenu aria-labelledby="dropdownBasic2" class="user-menus">
            <li class="dropdown-item">
              <span class="dropdown-menu-list">用户管理</span>
            </li>
            <li class="dropdown-item" (click)="logout()">
              <a class="cur-pointer ">
                <span class="dropdown-menu-list">退出登录</span>
              </a>
            </li>
          </ul>
        </div>
        
      </aside>
      
      <!-- Main content -->
      <section class="content">
        <div class="container-fluid">
          <div cllas="row">
            <div class="col-12 col-md-12 " [ngClass]="{'sidebar-open':open === true,'sidebar-collapse':!open,'header-margin':visible == true}">
              <router-outlet ></router-outlet>
            </div>
          </div>
        </div>
      </section>
  </div>

</div>