(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core')) :
    typeof define === 'function' && define.amd ? define('angular2-baidu-map', ['exports', '@angular/core'], factory) :
    (factory((global['angular2-baidu-map'] = {}),global.ng.core));
}(this, (function (exports,core) { 'use strict';

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} obj
     * @return {?}
     */
    function isNull(obj) {
        return obj === null || obj === undefined;
    }
    /**
     * @param {?} obj
     * @return {?}
     */
    function isUndefined(obj) {
        return obj === undefined;
    }
    /**
     * @param {?} obj
     * @return {?}
     */
    function isBoolean(obj) {
        return Object.prototype.toString.call(obj) === '[object Boolean]';
    }
    /**
     * @param {?} obj
     * @return {?}
     */
    function isFunction(obj) {
        return Object.prototype.toString.call(obj) === '[object Function]';
    }
    /**
     * @param {?} obj
     * @return {?}
     */
    function isString(obj) {
        return Object.prototype.toString.call(obj) === '[object String]';
    }
    /**
     * @template T
     * @param {?} obj
     * @param {...?} keys
     * @return {?}
     */
    function omit(obj) {
        var keys = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            keys[_i - 1] = arguments[_i];
        }
        var /** @type {?} */ rawKeys = Object.keys(obj);
        var /** @type {?} */ finalKeys = rawKeys.filter(function (k) { return keys.indexOf(k) < 0; });
        return finalKeys.reduce(function (p, v) {
            p[v] = obj[v];
            return p;
        }, /** @type {?} */ ({}));
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} opts
     * @return {?}
     */
    function toPoint(opts) {
        if (!opts) {
            return new window.BMap.Point();
        }
        return new window.BMap.Point(opts.lng, opts.lat);
    }
    /**
     * @param {?} opts
     * @return {?}
     */
    function toPoints(opts) {
        if (!opts) {
            return [];
        }
        return opts.map(function (p) {
            return new window.BMap.Point(p.lng, p.lat);
        });
    }
    /**
     * @param {?} opts
     * @return {?}
     */
    function toSize(opts) {
        if (!opts) {
            return new window.BMap.Size();
        }
        return new window.BMap.Size(opts.width, opts.height);
    }
    /**
     * @param {?} url
     * @param {?} size
     * @param {?} options
     * @return {?}
     */
    function toIcon(url, size, options) {
        if (!size && !options) {
            return new window.BMap.Icon(url);
        }
        if (!size) {
            return new window.BMap.Icon(url, toSize(size));
        }
        var /** @type {?} */ iconOptions = {
            anchor: toSize(options.anchor),
            imageOffset: toSize(options.imageOffset),
            infoWindowAnchor: toSize(options.infoWindowAnchor),
            printImageUrl: options.printImageUrl
        };
        var /** @type {?} */ icon = new window.BMap.Icon(url, toSize(size), iconOptions);
        if (options.imageSize) {
            icon.setImageSize(toSize(options.imageSize));
        }
        return icon;
    }
    /**
     * @param {?} options
     * @return {?}
     */
    function toMarkerOptions(options) {
        var /** @type {?} */ opts = {};
        if (!options) {
            return opts;
        }
        if (options.offset) {
            opts.offset = toSize(options.offset);
        }
        if (options.icon) {
            opts.icon = toIcon(options.icon.imageUrl, options.icon.size, options.icon);
        }
        if (!isNull(options.enableMassClear)) {
            opts.enableMassClear = options.enableMassClear;
        }
        if (!isNull(options.enableDragging)) {
            opts.enableDragging = options.enableDragging;
        }
        if (!isNull(options.enableClicking)) {
            opts.enableClicking = options.enableClicking;
        }
        if (!isNull(options.raiseOnDrag)) {
            opts.raiseOnDrag = options.raiseOnDrag;
        }
        if (!isNull(options.draggingCursor)) {
            opts.draggingCursor = options.draggingCursor;
        }
        if (!isNull(options.rotation)) {
            opts.rotation = options.rotation;
        }
        if (!isNull(options.title)) {
            opts.title = options.title;
        }
        if (!isNull(options.shadow)) {
            opts.shadow = toIcon(options.shadow.imageUrl, options.shadow.size, options.shadow);
        }
        return opts;
    }
    /**
     * @param {?} options
     * @return {?}
     */
    function toNavigationControlOptions(options) {
        var /** @type {?} */ opts = {};
        if (!options) {
            return opts;
        }
        if (!isNull(options.anchor)) {
            opts.anchor = options.anchor;
        }
        if (!isNull(options.enableGeolocation)) {
            opts.enableGeolocation = options.enableGeolocation;
        }
        if (!isNull(options.offset)) {
            opts.offset = toSize(options.offset);
        }
        if (!isNull(options.showZoomInfo)) {
            opts.showZoomInfo = options.showZoomInfo;
        }
        if (!isNull(options.type)) {
            opts.type = options.type;
        }
        return opts;
    }
    /**
     * @param {?} options
     * @return {?}
     */
    function toOverviewMapControlOptions(options) {
        var /** @type {?} */ opts = {};
        if (!options) {
            return opts;
        }
        if (!isNull(options.anchor)) {
            opts.anchor = options.anchor;
        }
        if (!isNull(options.isOpen)) {
            opts.isOpen = options.isOpen;
        }
        if (!isNull(options.offset)) {
            opts.offset = toSize(options.offset);
        }
        if (!isNull(options.size)) {
            opts.size = toSize(options.size);
        }
        return opts;
    }
    /**
     * @param {?} options
     * @return {?}
     */
    function toScaleControlOptions(options) {
        var /** @type {?} */ opts = {};
        if (!options) {
            return opts;
        }
        if (!isNull(options.anchor)) {
            opts.anchor = options.anchor;
        }
        if (!isNull(options.offset)) {
            opts.offset = toSize(options.offset);
        }
        return opts;
    }
    /**
     * @param {?} options
     * @return {?}
     */
    function toMapTypeControlOptions(options) {
        var /** @type {?} */ opts = {};
        if (!options) {
            return opts;
        }
        if (!isNull(options.type)) {
            opts.type = options.type;
        }
        return opts;
    }
    /**
     * @param {?} options
     * @return {?}
     */
    function toGeolocationOptions(options) {
        var /** @type {?} */ opts = {};
        if (!options) {
            return opts;
        }
        if (!isNull(options.anchor)) {
            opts.anchor = options.anchor;
        }
        if (!isNull(options.offset)) {
            opts.offset = toSize(options.offset);
        }
        if (!isNull(options.enableAutoLocation)) {
            opts.enableAutoLocation = options.enableAutoLocation;
        }
        if (!isNull(options.locationIcon)) {
            opts.locationIcon = toIcon(options.locationIcon.imageUrl, options.locationIcon.size, options.locationIcon);
        }
        if (!isNull(options.showAddressBar)) {
            opts.showAddressBar = options.showAddressBar;
        }
        return opts;
    }
    /**
     * @param {?} style
     * @return {?}
     */
    function toTextIconStyle(style) {
        var /** @type {?} */ realStyle = {
            url: style.url,
            size: toSize(style.size)
        };
        if (style.anchor) {
            realStyle.anchor = toSize(style.anchor);
        }
        if (style.offset) {
            realStyle.offset = toSize(style.offset);
        }
        if (!isNull(style.textSize)) {
            realStyle.textSize = style.textSize;
        }
        if (!isNull(style.textColor)) {
            realStyle.textColor = style.textColor;
        }
        return realStyle;
    }
    /**
     * @param {?} options
     * @return {?}
     */
    function toMarkerClustererOptions(options) {
        var /** @type {?} */ opts = {};
        if (!options) {
            return opts;
        }
        if (options.markers) {
            opts.markers = options.markers.map(function (m) { return new window.BMap.Marker(toPoint(m.point), toMarkerOptions(m.options)); });
        }
        if (!isNull(options.girdSize)) {
            opts.girdSize = options.girdSize;
        }
        if (!isNull(options.maxZoom)) {
            opts.maxZoom = options.maxZoom;
        }
        if (!isNull(options.minClusterSize)) {
            opts.minClusterSize = options.minClusterSize;
        }
        if (!isNull(options.isAverangeCenter)) {
            opts.isAverangeCenter = options.isAverangeCenter;
        }
        if (options.styles) {
            opts.styles = options.styles.filter(function (s) { return s; }).map(function (s) { return toTextIconStyle(s); });
        }
        return opts;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /**
     * @param {?} obj
     * @param {?} msg
     * @return {?}
     */
    function nullCheck(obj, msg) {
        if (isNull(obj)) {
            throw new Error(msg);
        }
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /** @enum {number} */
    var LOADING_STATE = {
        NON: 0,
        LOADED: 1,
        LOADING: 2,
    };
    LOADING_STATE[LOADING_STATE.NON] = "NON";
    LOADING_STATE[LOADING_STATE.LOADED] = "LOADED";
    LOADING_STATE[LOADING_STATE.LOADING] = "LOADING";
    var ScriptLoaderConfig = (function () {
        function ScriptLoaderConfig() {
            this.ak = '';
        }
        return ScriptLoaderConfig;
    }());
    window._scriptLoadState = {};
    window._loadingCallbacks = {};
    var ScriptLoader = (function () {
        function ScriptLoader() {
        }
        /**
         * @param {?} url
         * @param {?=} isMain
         * @param {?=} cb
         * @return {?}
         */
        ScriptLoader.prototype.load = /**
         * @param {?} url
         * @param {?=} isMain
         * @param {?=} cb
         * @return {?}
         */
            function (url, isMain, cb) {
                if (isMain === void 0) {
                    isMain = false;
                }
                var /** @type {?} */ scriptKey = isString(url) ? url : url['key'];
                var /** @type {?} */ scriptUrls = isString(url) ? [url] : url['scripts'];
                if (window._scriptLoadState[scriptKey] === LOADING_STATE.LOADED) {
                    if (isMain) {
                        switchDisplay('baidu-map .baidu-map-instance', 'block');
                        switchDisplay('baidu-map .baidu-map-offline', 'none');
                    }
                    return cb();
                }
                if (!window._loadingCallbacks[scriptKey]) {
                    window._loadingCallbacks[scriptKey] = [];
                }
                if (window._scriptLoadState[scriptKey] === LOADING_STATE.LOADING) {
                    window._loadingCallbacks[scriptKey].push(cb);
                    return;
                }
                window._scriptLoadState[scriptKey] = LOADING_STATE.LOADING;
                window._loadingCallbacks[scriptKey].push(cb);
                if (isMain) {
                    window.baidumapinit = function () {
                        window._scriptLoadState[scriptKey] = LOADING_STATE.LOADED;
                        switchDisplay('baidu-map .baidu-map-instance', 'block');
                        switchDisplay('baidu-map .baidu-map-offline', 'none');
                        window._loadingCallbacks[scriptKey].forEach(function (c) {
                            c();
                        });
                    };
                }
                appendScriptsTag(scriptKey, scriptUrls, isMain);
            };
        ScriptLoader.decorators = [
            { type: core.Injectable },
        ];
        return ScriptLoader;
    }());
    /**
     * @param {?} scriptKey
     * @param {?} urls
     * @param {?} isMain
     * @return {?}
     */
    function appendScriptsTag(scriptKey, urls, isMain) {
        var /** @type {?} */ leftObj = {
            count: urls.length
        };
        urls.forEach(function (url) {
            appendScriptTag(scriptKey, url, isMain, leftObj);
        });
    }
    /**
     * @param {?} scriptKey
     * @param {?} url
     * @param {?} isMain
     * @param {?} leftObj
     * @return {?}
     */
    function appendScriptTag(scriptKey, url, isMain, leftObj) {
        var /** @type {?} */ script = document.createElement('script');
        script.type = 'text/javascript';
        script.src = url;
        script.onerror = function () {
            if (isMain) {
                switchDisplay('baidu-map .baidu-map-offline', 'block');
                switchDisplay('baidu-map .baidu-map-instance', 'none');
            }
            document.body.removeChild(script);
            setTimeout(function () {
                appendScriptTag(scriptKey, url, isMain, leftObj);
            }, 30000);
        };
        if (!isMain) {
            script.onload = function () {
                leftObj.count--;
                if (leftObj.count) {
                    return;
                }
                window._scriptLoadState[scriptKey] = LOADING_STATE.LOADED;
                window._loadingCallbacks[scriptKey].forEach(function (c) {
                    c();
                });
            };
        }
        document.body.appendChild(script);
    }
    /**
     * @param {?} selector
     * @param {?} state
     * @return {?}
     */
    function switchDisplay(selector, state) {
        Array.prototype.slice.call(document.querySelectorAll(selector)).forEach(function (node) {
            node.style.display = state;
        });
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /** @enum {string} */
    var MapTypeEnum = {
        BMAP_NORMAL_MAP: 'BMAP_NORMAL_MAP',
        BMAP_PERSPECTIVE_MAP: 'BMAP_PERSPECTIVE_MAP',
        BMAP_SATELLITE_MAP: 'BMAP_SATELLITE_MAP',
        BMAP_HYBRID_MAP: 'BMAP_HYBRID_MAP',
    };
    /**
     * @param {?} maptype
     * @return {?}
     */
    function isMapTypeEnum(maptype) {
        return !isFunction(((maptype)).getTileLayer);
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var MapService = (function () {
        function MapService(config, _loader) {
            var _this = this;
            this._loader = _loader;
            nullCheck(config.ak, 'ak must be provided');
            this._config = config;
            this._map = new Promise(function (resolve) {
                _this._mapResolver = resolve;
            });
        }
        /**
         * @param {?} el
         * @param {?} mapOptions
         * @return {?}
         */
        MapService.prototype.createMap = /**
         * @param {?} el
         * @param {?} mapOptions
         * @return {?}
         */
            function (el, mapOptions) {
                var _this = this;
                var /** @type {?} */ URL = "https://api.map.baidu.com/api?v=2.0&ak=" + this._config.ak + "&callback=baidumapinit&s=1";
                return new Promise(function (resolve) {
                    _this._loader.load(URL, true, function () {
                        var /** @type {?} */ map = new window.BMap.Map(el, omit(mapOptions, 'mapType'));
                        _this.setOptions(mapOptions);
                        _this._mapResolver(map);
                        resolve(map);
                    });
                });
            };
        /**
         * @param {?} opts
         * @return {?}
         */
        MapService.prototype.setOptions = /**
         * @param {?} opts
         * @return {?}
         */
            function (opts) {
                var disableDragging = opts.disableDragging, enableScrollWheelZoom = opts.enableScrollWheelZoom, disableDoubleClickZoom = opts.disableDoubleClickZoom, enableKeyboard = opts.enableKeyboard, enableInertialDragging = opts.enableInertialDragging, enableAutoResize = opts.enableAutoResize, enableContinuousZoom = opts.enableContinuousZoom, disablePinchToZoom = opts.disablePinchToZoom;
                if (isBoolean(disableDragging)) {
                    this._map.then(function (map) { return map[(disableDragging ? 'disable' : 'enable') + 'Dragging'](); });
                }
                if (isBoolean(enableScrollWheelZoom)) {
                    this._map.then(function (map) { return map[(enableScrollWheelZoom ? 'enable' : 'disable') + 'ScrollWheelZoom'](); });
                }
                if (isBoolean(enableAutoResize)) {
                    this._map.then(function (map) { return map[(enableAutoResize ? 'enable' : 'disable') + 'AutoResize'](); });
                }
                if (isBoolean(disableDoubleClickZoom)) {
                    this._map.then(function (map) { return map[(disableDoubleClickZoom ? 'disable' : 'enable') + 'DoubleClickZoom'](); });
                }
                if (isBoolean(enableKeyboard)) {
                    this._map.then(function (map) { return map[(enableKeyboard ? 'enable' : 'disable') + 'Keyboard'](); });
                }
                if (isBoolean(enableInertialDragging)) {
                    this._map.then(function (map) { return map[(enableInertialDragging ? 'enable' : 'disable') + 'InertialDragging'](); });
                }
                if (isBoolean(enableContinuousZoom)) {
                    this._map.then(function (map) { return map[(enableContinuousZoom ? 'enable' : 'disable') + 'ContinuousZoom'](); });
                }
                if (isBoolean(disablePinchToZoom)) {
                    this._map.then(function (map) { return map[(disablePinchToZoom ? 'disable' : 'enable') + 'PinchToZoom'](); });
                }
                if (!isNull(opts.cursor)) {
                    this._map.then(function (map) { return map.setDefaultCursor(opts.cursor); });
                }
                if (!isNull(opts.draggingCursor)) {
                    this._map.then(function (map) { return map.setDraggingCursor(opts.draggingCursor); });
                }
                if (!isNull(opts.currentCity)) {
                    this._map.then(function (map) { return map.setCurrentCity(opts.currentCity); });
                }
                if (!isNull(opts.centerAndZoom)) {
                    this._map.then(function (map) {
                        map.centerAndZoom(toPoint(opts.centerAndZoom), opts.centerAndZoom.zoom);
                    });
                }
                if (!isNull(opts.mapType)) {
                    this._map.then(function (map) {
                        var /** @type {?} */ realType = isMapTypeEnum(opts.mapType) ? window[opts.mapType] : opts.mapType;
                        map.setMapType(realType);
                    });
                }
            };
        /**
         * @param {?} cb
         * @return {?}
         */
        MapService.prototype.addOverlay = /**
         * @param {?} cb
         * @return {?}
         */
            function (cb) {
                return this._map.then(function (map) {
                    var /** @type {?} */ overlay = cb(map);
                    map.addOverlay(overlay);
                    return { map: map, overlay: overlay };
                });
            };
        /**
         * @param {?} overlay
         * @return {?}
         */
        MapService.prototype.removeOverlay = /**
         * @param {?} overlay
         * @return {?}
         */
            function (overlay) {
                return this._map.then(function (map) {
                    map.removeOverlay(overlay);
                });
            };
        /**
         * @param {?} cb
         * @return {?}
         */
        MapService.prototype.addTileLayer = /**
         * @param {?} cb
         * @return {?}
         */
            function (cb) {
                return this._map.then(function (map) {
                    var /** @type {?} */ tilelayer = cb(map);
                    map.addTileLayer(tilelayer);
                    return { map: map, tilelayer: tilelayer };
                });
            };
        /**
         * @param {?} tilelayer
         * @return {?}
         */
        MapService.prototype.removeTileLayer = /**
         * @param {?} tilelayer
         * @return {?}
         */
            function (tilelayer) {
                return this._map.then(function (map) {
                    map.removeOverlay(tilelayer);
                });
            };
        /**
         * @param {?} cb
         * @return {?}
         */
        MapService.prototype.addControl = /**
         * @param {?} cb
         * @return {?}
         */
            function (cb) {
                return this._map.then(function (map) {
                    var /** @type {?} */ control = cb(map);
                    map.addControl(control);
                    return { map: map, control: control };
                });
            };
        /**
         * @param {?} control
         * @return {?}
         */
        MapService.prototype.removeControl = /**
         * @param {?} control
         * @return {?}
         */
            function (control) {
                return this._map.then(function (map) {
                    map.removeControl(control);
                });
            };
        /**
         * @return {?}
         */
        MapService.prototype.getNativeMap = /**
         * @return {?}
         */
            function () {
                return this._map;
            };
        MapService.decorators = [
            { type: core.Injectable },
        ];
        /** @nocollapse */
        MapService.ctorParameters = function () {
            return [
                { type: ScriptLoaderConfig, decorators: [{ type: core.Inject, args: [ScriptLoaderConfig,] },] },
                { type: ScriptLoader, },
            ];
        };
        return MapService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var ControlComponent = (function () {
        function ControlComponent(_service) {
            this._service = _service;
            this.loaded = new core.EventEmitter();
        }
        /**
         * @return {?}
         */
        ControlComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                nullCheck(this.type, 'type is required for <control>');
                this._service
                    .addControl(function () {
                    _this.control = _this.createControl(_this.type, _this.options);
                    return _this.control;
                })
                    .then(function (_a) {
                    var control = _a.control;
                    _this.loaded.emit(control);
                });
            };
        /**
         * @return {?}
         */
        ControlComponent.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                this._service.removeControl(this.control);
            };
        /**
         * @param {?} type
         * @param {?} options
         * @return {?}
         */
        ControlComponent.prototype.createControl = /**
         * @param {?} type
         * @param {?} options
         * @return {?}
         */
            function (type, options) {
                if (type === 'navigation') {
                    return new window.BMap.NavigationControl(toNavigationControlOptions(options));
                }
                if (type === 'overviewmap') {
                    return new window.BMap.OverviewMapControl(toOverviewMapControlOptions(options));
                }
                if (type === 'scale') {
                    return new window.BMap.ScaleControl(toScaleControlOptions(options));
                }
                if (type === 'maptype') {
                    return new window.BMap.MapTypeControl(toMapTypeControlOptions(options));
                }
                if (type === 'geolocation') {
                    return new window.BMap.GeolocationControl(toGeolocationOptions(options));
                }
                if (type === 'panorama') {
                    return new window.BMap.PanoramaControl();
                }
                throw new Error("Unsupported type:" + type + " of control");
            };
        ControlComponent.decorators = [
            { type: core.Directive, args: [{
                        selector: 'control'
                    },] },
        ];
        /** @nocollapse */
        ControlComponent.ctorParameters = function () {
            return [
                { type: MapService, },
            ];
        };
        ControlComponent.propDecorators = {
            "type": [{ type: core.Input },],
            "options": [{ type: core.Input },],
            "loaded": [{ type: core.Output },],
        };
        return ControlComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var MapComponent = (function () {
        function MapComponent(_service) {
            this._service = _service;
            this.loaded = new core.EventEmitter();
            this.clicked = new core.EventEmitter();
        }
        /**
         * @return {?}
         */
        MapComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                nullCheck(this.options, 'options is required for <baidu-map>');
                nullCheck(this.options.centerAndZoom, 'options.centerAndZoom is required for <baidu-map>');
                this._service
                    .createMap(this.mapInstance.nativeElement, this.options)
                    .then(function (map) {
                    _this.loaded.emit(map);
                    return map;
                })
                    .then(function (map) {
                    _this.addListener(map);
                });
            };
        /**
         * @param {?} changes
         * @return {?}
         */
        MapComponent.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                var /** @type {?} */ opts = (changes["options"].currentValue);
                if (!opts) {
                    return console.warn('MapOptions change was ignored since you are passing empty value');
                }
                this._service.setOptions(opts);
            };
        /**
         * @return {?}
         */
        MapComponent.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                console.log('on map destroy');
            };
        /**
         * @param {?} map
         * @return {?}
         */
        MapComponent.prototype.addListener = /**
         * @param {?} map
         * @return {?}
         */
            function (map) {
                var _this = this;
                map.addEventListener('click', function (e) {
                    _this.clicked.emit(e);
                });
            };
        MapComponent.decorators = [
            { type: core.Component, args: [{
                        providers: [MapService],
                        selector: 'baidu-map',
                        styles: [
                            "\n        .baidu-map-instance {\n            width: 100%;\n            height: 100%;\n            display: none;\n        }\n        .baidu-map-offline {\n            width: 100%;\n            height: 100%;\n            background-color: #E6E6E6;\n            position: relative;\n            display: none;\n        }\n        .baidu-map-offline label {\n            fontSize: 30px;\n            margin: 0;\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            margin-right: -50%;\n            transform: translate(-50%, -50%);\n        }\n        .tranclude-content {\n            display: none;\n        }\n        "
                        ],
                        template: "\n    <div #mapinstance class=\"baidu-map-instance\"></div>\n    <div class=\"baidu-map-offline\">\n        <label>{{ 'NO_NETWORK' }}</label>\n    </div>\n    <div class=\"tranclude-content\">\n        <ng-content></ng-content>\n    </div>\n    "
                    },] },
        ];
        /** @nocollapse */
        MapComponent.ctorParameters = function () {
            return [
                { type: MapService, },
            ];
        };
        MapComponent.propDecorators = {
            "options": [{ type: core.Input },],
            "loaded": [{ type: core.Output },],
            "clicked": [{ type: core.Output },],
            "mapInstance": [{ type: core.ViewChild, args: ['mapinstance',] },],
        };
        return MapComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var MarkerComponent = (function () {
        function MarkerComponent(_service) {
            this._service = _service;
            this.loaded = new core.EventEmitter();
            this.clicked = new core.EventEmitter();
        }
        /**
         * @return {?}
         */
        MarkerComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                nullCheck(this.point, 'point is required for <marker>');
                this._service
                    .addOverlay(function () {
                    return (_this.marker = new window.BMap.Marker(toPoint(_this.point), toMarkerOptions(_this.options)));
                })
                    .then(function (_a) {
                    var map = _a.map;
                    _this.loaded.emit(_this.marker);
                    _this.addListener(_this.marker, map);
                })
                    .then(function () {
                    // workaround: it's weird that postion is set while constructing phase will make click event not working
                    // workaround: it's weird that postion is set while constructing phase will make click event not working
                    _this.marker.setPosition(new window.BMap.Point(_this.point.lng, _this.point.lat));
                });
            };
        /**
         * @param {?} changes
         * @return {?}
         */
        MarkerComponent.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                if (changes["point"] && !changes["point"].isFirstChange()) {
                    this.marker.setPosition(toPoint(changes["point"].currentValue));
                }
                if (changes["options"] && !changes["options"].isFirstChange()) {
                    this.setOptions(changes["options"].currentValue);
                }
            };
        /**
         * @return {?}
         */
        MarkerComponent.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                this._service.removeOverlay(this.marker);
            };
        /**
         * @param {?} options
         * @return {?}
         */
        MarkerComponent.prototype.setOptions = /**
         * @param {?} options
         * @return {?}
         */
            function (options) {
                if (isNull(options)) {
                    return;
                }
                if (!isNull(options.offset)) {
                    this.marker.setOffset(toSize(options.offset));
                }
                if (!isNull(options.icon)) {
                    this.marker.setIcon(toIcon(options.icon.imageUrl, options.icon.size, options.icon));
                }
                if (!isNull(options.enableMassClear)) {
                    this.marker[(options.enableMassClear ? 'enable' : 'disable') + 'MassClear']();
                }
                if (!isNull(options.enableDragging)) {
                    this.marker[(options.enableDragging ? 'enable' : 'disable') + 'Dragging']();
                }
                if (!isNull(options.rotation)) {
                    this.marker.setRotation(options.rotation);
                }
                if (!isNull(options.shadow)) {
                    this.marker.setShadow(toIcon(options.shadow.imageUrl, options.shadow.size, options.shadow));
                }
                if (!isNull(options.title)) {
                    this.marker.setTitle(options.title);
                }
            };
        /**
         * @param {?} marker
         * @param {?} map
         * @return {?}
         */
        MarkerComponent.prototype.addListener = /**
         * @param {?} marker
         * @param {?} map
         * @return {?}
         */
            function (marker, map) {
                var _this = this;
                marker.addEventListener('click', function (e) {
                    _this.clicked.emit({
                        e: e,
                        map: map,
                        marker: marker
                    });
                });
            };
        MarkerComponent.decorators = [
            { type: core.Directive, args: [{
                        selector: 'marker'
                    },] },
        ];
        /** @nocollapse */
        MarkerComponent.ctorParameters = function () {
            return [
                { type: MapService, },
            ];
        };
        MarkerComponent.propDecorators = {
            "point": [{ type: core.Input },],
            "options": [{ type: core.Input },],
            "loaded": [{ type: core.Output },],
            "clicked": [{ type: core.Output },],
        };
        return MarkerComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var PolylineComponent = (function () {
        function PolylineComponent(_service) {
            this._service = _service;
            this.loaded = new core.EventEmitter();
        }
        /**
         * @return {?}
         */
        PolylineComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                nullCheck(this.points, 'points is required for <polyline>');
                this._service
                    .addOverlay(function () {
                    return (_this.polyline = new window.BMap.Polyline(toPoints(_this.points), _this.options));
                })
                    .then(function () {
                    _this.loaded.emit(_this.polyline);
                });
            };
        /**
         * @param {?} changes
         * @return {?}
         */
        PolylineComponent.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                if (changes["points"] && !changes["points"].isFirstChange()) {
                    this.polyline.setPath(toPoints(changes["points"].currentValue));
                }
                if (changes["options"] && !changes["options"].isFirstChange()) {
                    this.setOptions(changes["options"].currentValue);
                }
            };
        /**
         * @return {?}
         */
        PolylineComponent.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                this._service.removeOverlay(this.polyline);
            };
        /**
         * @param {?} options
         * @return {?}
         */
        PolylineComponent.prototype.setOptions = /**
         * @param {?} options
         * @return {?}
         */
            function (options) {
                if (isNull(options)) {
                    return;
                }
                if (!isUndefined(options.enableEditing)) {
                    if (options.enableEditing) {
                        this.polyline.enableEditing();
                    }
                    else {
                        this.polyline.disableEditing();
                    }
                }
                if (!isUndefined(options.enableMassClear)) {
                    if (options.enableEditing) {
                        this.polyline.enableMassClear();
                    }
                    else {
                        this.polyline.disableMassClear();
                    }
                }
                if (!isUndefined(options.strokeColor)) {
                    this.polyline.setStrokeColor(options.strokeColor);
                }
                if (!isUndefined(options.strokeOpacity)) {
                    this.polyline.setStrokeOpacity(options.strokeOpacity);
                }
                if (!isUndefined(options.strokeStyle)) {
                    this.polyline.setStrokeStyle(options.strokeStyle);
                }
                if (!isUndefined(options.strokeWeight)) {
                    this.polyline.setStrokeWeight(options.strokeWeight);
                }
            };
        PolylineComponent.decorators = [
            { type: core.Directive, args: [{
                        selector: 'polyline'
                    },] },
        ];
        /** @nocollapse */
        PolylineComponent.ctorParameters = function () {
            return [
                { type: MapService, },
            ];
        };
        PolylineComponent.propDecorators = {
            "points": [{ type: core.Input },],
            "options": [{ type: core.Input },],
            "loaded": [{ type: core.Output },],
        };
        return PolylineComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var CircleComponent = (function () {
        function CircleComponent(_service) {
            this._service = _service;
            this.loaded = new core.EventEmitter();
        }
        /**
         * @return {?}
         */
        CircleComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                nullCheck(this.center, 'center is required for <circle>');
                nullCheck(this.radius, 'center is required for <circle>');
                this._service
                    .addOverlay(function () {
                    return (_this.circle = new window.BMap.Circle(toPoint(_this.center), _this.radius, _this.options));
                })
                    .then(function () {
                    _this.loaded.emit(_this.circle);
                });
            };
        /**
         * @param {?} changes
         * @return {?}
         */
        CircleComponent.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                if (changes["center"] && !changes["center"].isFirstChange()) {
                    this.circle.setCenter(toPoint(changes["center"].currentValue));
                }
                if (changes["radius"] && !changes["radius"].isFirstChange()) {
                    this.circle.setRadius(changes["radius"].currentValue);
                }
                if (changes["options"] && !changes["options"].isFirstChange()) {
                    this.setOptions(changes["options"].currentValue);
                }
            };
        /**
         * @return {?}
         */
        CircleComponent.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                this._service.removeOverlay(this.circle);
            };
        /**
         * @param {?} options
         * @return {?}
         */
        CircleComponent.prototype.setOptions = /**
         * @param {?} options
         * @return {?}
         */
            function (options) {
                if (isNull(options)) {
                    return;
                }
                if (!isUndefined(options.enableEditing)) {
                    if (options.enableEditing) {
                        this.circle.enableEditing();
                    }
                    else {
                        this.circle.disableEditing();
                    }
                }
                if (!isUndefined(options.enableMassClear)) {
                    if (options.enableEditing) {
                        this.circle.enableMassClear();
                    }
                    else {
                        this.circle.disableMassClear();
                    }
                }
                if (!isUndefined(options.strokeColor)) {
                    this.circle.setStrokeColor(options.strokeColor);
                }
                if (!isUndefined(options.fillColor)) {
                    this.circle.setFillColor(options.fillColor);
                }
                if (!isUndefined(options.strokeOpacity)) {
                    this.circle.setStrokeOpacity(options.strokeOpacity);
                }
                if (!isUndefined(options.fillOpacity)) {
                    this.circle.setFillOpacity(options.fillOpacity);
                }
                if (!isUndefined(options.strokeStyle)) {
                    this.circle.setStrokeStyle(options.strokeStyle);
                }
                if (!isUndefined(options.strokeWeight)) {
                    this.circle.setStrokeWeight(options.strokeWeight);
                }
            };
        CircleComponent.decorators = [
            { type: core.Directive, args: [{
                        selector: 'circle'
                    },] },
        ];
        /** @nocollapse */
        CircleComponent.ctorParameters = function () {
            return [
                { type: MapService, },
            ];
        };
        CircleComponent.propDecorators = {
            "center": [{ type: core.Input },],
            "radius": [{ type: core.Input },],
            "options": [{ type: core.Input },],
            "loaded": [{ type: core.Output },],
        };
        return CircleComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var PolygonComponent = (function () {
        function PolygonComponent(_service) {
            this._service = _service;
            this.loaded = new core.EventEmitter();
        }
        /**
         * @return {?}
         */
        PolygonComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                nullCheck(this.points, 'points is required for <polygon>');
                this._service
                    .addOverlay(function () {
                    return (_this.polygon = new window.BMap.Polygon(toPoints(_this.points), _this.options));
                })
                    .then(function () {
                    _this.loaded.emit(_this.polygon);
                });
            };
        /**
         * @param {?} changes
         * @return {?}
         */
        PolygonComponent.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                if (changes["points"] && !changes["points"].isFirstChange()) {
                    this.polygon.setPath(toPoints(changes["points"].currentValue));
                }
                if (changes["options"] && !changes["options"].isFirstChange()) {
                    this.setOptions(changes["options"].currentValue);
                }
            };
        /**
         * @return {?}
         */
        PolygonComponent.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                this._service.removeOverlay(this.polygon);
            };
        /**
         * @param {?} options
         * @return {?}
         */
        PolygonComponent.prototype.setOptions = /**
         * @param {?} options
         * @return {?}
         */
            function (options) {
                if (isNull(options)) {
                    return;
                }
                if (!isUndefined(options.enableEditing)) {
                    if (options.enableEditing) {
                        this.polygon.enableEditing();
                    }
                    else {
                        this.polygon.disableEditing();
                    }
                }
                if (!isUndefined(options.enableMassClear)) {
                    if (options.enableEditing) {
                        this.polygon.enableMassClear();
                    }
                    else {
                        this.polygon.disableMassClear();
                    }
                }
                if (!isUndefined(options.strokeColor)) {
                    this.polygon.setStrokeColor(options.strokeColor);
                }
                if (!isUndefined(options.fillColor)) {
                    this.polygon.setFillColor(options.fillColor);
                }
                if (!isUndefined(options.strokeOpacity)) {
                    this.polygon.setStrokeOpacity(options.strokeOpacity);
                }
                if (!isUndefined(options.fillOpacity)) {
                    this.polygon.setFillOpacity(options.fillOpacity);
                }
                if (!isUndefined(options.strokeStyle)) {
                    this.polygon.setStrokeStyle(options.strokeStyle);
                }
                if (!isUndefined(options.strokeWeight)) {
                    this.polygon.setStrokeWeight(options.strokeWeight);
                }
            };
        PolygonComponent.decorators = [
            { type: core.Directive, args: [{
                        selector: 'polygon'
                    },] },
        ];
        /** @nocollapse */
        PolygonComponent.ctorParameters = function () {
            return [
                { type: MapService, },
            ];
        };
        PolygonComponent.propDecorators = {
            "points": [{ type: core.Input },],
            "options": [{ type: core.Input },],
            "loaded": [{ type: core.Output },],
        };
        return PolygonComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var /** @type {?} */ LIB_URL = "https://api.map.baidu.com/library/Heatmap/2.0/src/Heatmap_min.js";
    var HeatmapComponent = (function () {
        function HeatmapComponent(_service, scriptLoader) {
            this._service = _service;
            this.scriptLoader = scriptLoader;
            this.loaded = new core.EventEmitter();
        }
        /**
         * @return {?}
         */
        HeatmapComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                nullCheck(this.dataset, 'dataset is required for <heatmap>');
                this._service.getNativeMap().then(function () {
                    return _this.scriptLoader.load(LIB_URL, false, function () {
                        _this._service
                            .addOverlay(function () {
                            return (_this.heatmap = new window.BMapLib.HeatmapOverlay(_this.options));
                        })
                            .then(function () {
                            _this.loaded.emit(_this.heatmap);
                            if (_this.dataset) {
                                _this.heatmap.setDataSet(_this.dataset);
                            }
                        });
                    });
                });
            };
        /**
         * @param {?} changes
         * @return {?}
         */
        HeatmapComponent.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                if (changes["dataset"] && !changes["dataset"].isFirstChange()) {
                    this.heatmap.setDataSet(changes["dataset"].currentValue);
                }
                if (changes["options"] && !changes["options"].isFirstChange()) {
                    this.heatmap.setOptions(changes["options"].currentValue);
                }
            };
        /**
         * @return {?}
         */
        HeatmapComponent.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                this._service.removeOverlay(this.heatmap);
            };
        HeatmapComponent.decorators = [
            { type: core.Directive, args: [{
                        selector: 'heatmap'
                    },] },
        ];
        /** @nocollapse */
        HeatmapComponent.ctorParameters = function () {
            return [
                { type: MapService, },
                { type: ScriptLoader, },
            ];
        };
        HeatmapComponent.propDecorators = {
            "dataset": [{ type: core.Input },],
            "options": [{ type: core.Input },],
            "loaded": [{ type: core.Output },],
        };
        return HeatmapComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var TileLayderComponent = (function () {
        function TileLayderComponent(_service) {
            this._service = _service;
            this.loaded = new core.EventEmitter();
        }
        /**
         * @return {?}
         */
        TileLayderComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                var /** @type {?} */ func = this.getTilesUrl;
                this._service
                    .addTileLayer(function () {
                    _this.tilelayer = new window.BMap.TileLayer(_this.options);
                    if (_this.getTilesUrl) {
                        _this.tilelayer.getTilesUrl = function (tileCoord, zoom) {
                            return func(tileCoord, zoom);
                        };
                    }
                    return _this.tilelayer;
                })
                    .then(function () {
                    _this.loaded.emit(_this.tilelayer);
                });
            };
        /**
         * @return {?}
         */
        TileLayderComponent.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                this._service.removeTileLayer(this.tilelayer);
            };
        TileLayderComponent.decorators = [
            { type: core.Directive, args: [{
                        selector: 'tilelayer'
                    },] },
        ];
        /** @nocollapse */
        TileLayderComponent.ctorParameters = function () {
            return [
                { type: MapService, },
            ];
        };
        TileLayderComponent.propDecorators = {
            "getTilesUrl": [{ type: core.Input },],
            "options": [{ type: core.Input },],
            "loaded": [{ type: core.Output },],
        };
        return TileLayderComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var TrafficLayderComponent = (function () {
        function TrafficLayderComponent(_service) {
            this._service = _service;
            this.loaded = new core.EventEmitter();
        }
        /**
         * @return {?}
         */
        TrafficLayderComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this._service
                    .addTileLayer(function () {
                    _this.trafficlayer = new window.BMap.TrafficLayer(_this.options);
                    return _this.trafficlayer;
                })
                    .then(function () {
                    _this.loaded.emit(_this.trafficlayer);
                });
            };
        /**
         * @return {?}
         */
        TrafficLayderComponent.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                this._service.removeTileLayer(this.trafficlayer);
            };
        TrafficLayderComponent.decorators = [
            { type: core.Directive, args: [{
                        selector: 'trafficlayer'
                    },] },
        ];
        /** @nocollapse */
        TrafficLayderComponent.ctorParameters = function () {
            return [
                { type: MapService, },
            ];
        };
        TrafficLayderComponent.propDecorators = {
            "options": [{ type: core.Input },],
            "loaded": [{ type: core.Output },],
        };
        return TrafficLayderComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var /** @type {?} */ LIB_URLS = {
        key: 'markerClusterer',
        scripts: [
            'https://api.map.baidu.com/library/MarkerClusterer/1.2/src/MarkerClusterer_min.js',
            'https://api.map.baidu.com/library/TextIconOverlay/1.2/src/TextIconOverlay_min.js'
        ]
    };
    var MarkerClustererComponent = (function () {
        function MarkerClustererComponent(_service, scriptLoader) {
            this._service = _service;
            this.scriptLoader = scriptLoader;
            this.loaded = new core.EventEmitter();
        }
        /**
         * @return {?}
         */
        MarkerClustererComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                nullCheck(this.options, 'options is required for <marker-clusterer>');
                this._service.getNativeMap().then(function (map) {
                    return _this.scriptLoader.load(LIB_URLS, false, function () {
                        _this.markerClusterer = new window.BMapLib.MarkerClusterer(map, toMarkerClustererOptions(_this.options));
                        _this.loaded.emit(_this.markerClusterer);
                    });
                });
            };
        /**
         * @param {?} changes
         * @return {?}
         */
        MarkerClustererComponent.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                if (changes["options"] && !changes["options"].isFirstChange()) {
                    this.resetOptions(changes["options"].currentValue);
                }
            };
        /**
         * @param {?} options
         * @return {?}
         */
        MarkerClustererComponent.prototype.resetOptions = /**
         * @param {?} options
         * @return {?}
         */
            function (options) {
                if (options.markers) {
                    this.markerClusterer.clearMarkers();
                    this.markerClusterer.addMarkers(options.markers.map(function (m) { return new window.BMap.Marker(toPoint(m.point), toMarkerOptions(m.options)); }));
                }
                if (!isUndefined(options.girdSize)) {
                    this.markerClusterer.setGridSize(options.girdSize);
                }
                if (!isUndefined(options.maxZoom)) {
                    this.markerClusterer.setMaxZoom(options.maxZoom);
                }
                if (options.styles) {
                    this.markerClusterer.setStyles(options.styles.filter(function (s) { return s; }).map(function (s) { return toTextIconStyle(s); }));
                }
            };
        /**
         * @return {?}
         */
        MarkerClustererComponent.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                this.markerClusterer.clearMarkers();
            };
        MarkerClustererComponent.decorators = [
            { type: core.Directive, args: [{
                        selector: 'marker-clusterer'
                    },] },
        ];
        /** @nocollapse */
        MarkerClustererComponent.ctorParameters = function () {
            return [
                { type: MapService, },
                { type: ScriptLoader, },
            ];
        };
        MarkerClustererComponent.propDecorators = {
            "options": [{ type: core.Input },],
            "loaded": [{ type: core.Output },],
        };
        return MarkerClustererComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    /** @enum {number} */
    var ControlAnchor = {
        BMAP_ANCHOR_TOP_LEFT: 0,
        BMAP_ANCHOR_TOP_RIGHT: 1,
        BMAP_ANCHOR_BOTTOM_LEFT: 2,
        BMAP_ANCHOR_BOTTOM_RIGHT: 3,
    };
    ControlAnchor[ControlAnchor.BMAP_ANCHOR_TOP_LEFT] = "BMAP_ANCHOR_TOP_LEFT";
    ControlAnchor[ControlAnchor.BMAP_ANCHOR_TOP_RIGHT] = "BMAP_ANCHOR_TOP_RIGHT";
    ControlAnchor[ControlAnchor.BMAP_ANCHOR_BOTTOM_LEFT] = "BMAP_ANCHOR_BOTTOM_LEFT";
    ControlAnchor[ControlAnchor.BMAP_ANCHOR_BOTTOM_RIGHT] = "BMAP_ANCHOR_BOTTOM_RIGHT";
    /** @enum {number} */
    var NavigationControlType = {
        BMAP_NAVIGATION_CONTROL_LARGE: 0,
        BMAP_NAVIGATION_CONTROL_SMALL: 1,
        BMAP_NAVIGATION_CONTROL_PAN: 2,
        BMAP_NAVIGATION_CONTROL_ZOOM: 3,
    };
    NavigationControlType[NavigationControlType.BMAP_NAVIGATION_CONTROL_LARGE] = "BMAP_NAVIGATION_CONTROL_LARGE";
    NavigationControlType[NavigationControlType.BMAP_NAVIGATION_CONTROL_SMALL] = "BMAP_NAVIGATION_CONTROL_SMALL";
    NavigationControlType[NavigationControlType.BMAP_NAVIGATION_CONTROL_PAN] = "BMAP_NAVIGATION_CONTROL_PAN";
    NavigationControlType[NavigationControlType.BMAP_NAVIGATION_CONTROL_ZOOM] = "BMAP_NAVIGATION_CONTROL_ZOOM";
    /** @enum {number} */
    var MapTypeControlType = {
        BMAP_MAPTYPE_CONTROL_HORIZONTAL: 0,
        BMAP_MAPTYPE_CONTROL_DROPDOWN: 1,
        BMAP_MAPTYPE_CONTROL_MAP: 2,
    };
    MapTypeControlType[MapTypeControlType.BMAP_MAPTYPE_CONTROL_HORIZONTAL] = "BMAP_MAPTYPE_CONTROL_HORIZONTAL";
    MapTypeControlType[MapTypeControlType.BMAP_MAPTYPE_CONTROL_DROPDOWN] = "BMAP_MAPTYPE_CONTROL_DROPDOWN";
    MapTypeControlType[MapTypeControlType.BMAP_MAPTYPE_CONTROL_MAP] = "BMAP_MAPTYPE_CONTROL_MAP";
    /** @enum {string} */
    var LengthUnit = {
        BMAP_UNIT_METRIC: 'metric',
        BMAP_UNIT_IMPERIAL: 'us',
    };

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var BaiduMapModule = (function () {
        function BaiduMapModule() {
        }
        /**
         * @param {?=} _config
         * @return {?}
         */
        BaiduMapModule.forRoot = /**
         * @param {?=} _config
         * @return {?}
         */
            function (_config) {
                return {
                    ngModule: BaiduMapModule,
                    providers: [{ provide: ScriptLoaderConfig, useValue: _config }, ScriptLoader]
                };
            };
        BaiduMapModule.decorators = [
            { type: core.NgModule, args: [{
                        declarations: [
                            MapComponent,
                            MarkerComponent,
                            ControlComponent,
                            PolylineComponent,
                            CircleComponent,
                            PolygonComponent,
                            HeatmapComponent,
                            TileLayderComponent,
                            TrafficLayderComponent,
                            MarkerClustererComponent
                        ],
                        exports: [
                            MapComponent,
                            MarkerComponent,
                            ControlComponent,
                            PolylineComponent,
                            CircleComponent,
                            PolygonComponent,
                            HeatmapComponent,
                            TileLayderComponent,
                            TrafficLayderComponent,
                            MarkerClustererComponent
                        ]
                    },] },
        ];
        return BaiduMapModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */

    exports.BaiduMapModule = BaiduMapModule;
    exports.MapTypeEnum = MapTypeEnum;
    exports.ControlAnchor = ControlAnchor;
    exports.LengthUnit = LengthUnit;
    exports.NavigationControlType = NavigationControlType;
    exports.MapTypeControlType = MapTypeControlType;
    exports.h = CircleComponent;
    exports.f = ControlComponent;
    exports.j = HeatmapComponent;
    exports.a = MapComponent;
    exports.e = MarkerComponent;
    exports.m = MarkerClustererComponent;
    exports.i = PolygonComponent;
    exports.g = PolylineComponent;
    exports.k = TileLayderComponent;
    exports.l = TrafficLayderComponent;
    exports.b = MapService;
    exports.d = ScriptLoader;
    exports.c = ScriptLoaderConfig;

    Object.defineProperty(exports, '__esModule', { value: true });

})));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhcjItYmFpZHUtbWFwLnVtZC5qcy5tYXAiLCJzb3VyY2VzIjpbIm5nOi8vYW5ndWxhcjItYmFpZHUtbWFwL2hlbHBlcnMvb2JqZWN0LnRzIiwibmc6Ly9hbmd1bGFyMi1iYWlkdS1tYXAvaGVscGVycy90cmFuc2Zvcm1lci50cyIsIm5nOi8vYW5ndWxhcjItYmFpZHUtbWFwL2hlbHBlcnMvdmFsaWRhdGUudHMiLCJuZzovL2FuZ3VsYXIyLWJhaWR1LW1hcC9wcm92aWRlcnMvc2NyaXB0TG9hZGVyLnRzIiwibmc6Ly9hbmd1bGFyMi1iYWlkdS1tYXAvdHlwZXMvTWFwLnRzIiwibmc6Ly9hbmd1bGFyMi1iYWlkdS1tYXAvcHJvdmlkZXJzL21hcFNlcnZpY2UudHMiLCJuZzovL2FuZ3VsYXIyLWJhaWR1LW1hcC9jb21wb25lbnRzL2NvbnRyb2wuY29tcG9uZW50LnRzIiwibmc6Ly9hbmd1bGFyMi1iYWlkdS1tYXAvY29tcG9uZW50cy9tYXAuY29tcG9uZW50LnRzIiwibmc6Ly9hbmd1bGFyMi1iYWlkdS1tYXAvY29tcG9uZW50cy9tYXJrZXIuY29tcG9uZW50LnRzIiwibmc6Ly9hbmd1bGFyMi1iYWlkdS1tYXAvY29tcG9uZW50cy9wb2x5bGluZS5jb21wb25lbnQudHMiLCJuZzovL2FuZ3VsYXIyLWJhaWR1LW1hcC9jb21wb25lbnRzL2NpcmNsZS5jb21wb25lbnQudHMiLCJuZzovL2FuZ3VsYXIyLWJhaWR1LW1hcC9jb21wb25lbnRzL3BvbHlnb24uY29tcG9uZW50LnRzIiwibmc6Ly9hbmd1bGFyMi1iYWlkdS1tYXAvY29tcG9uZW50cy9oZWF0bWFwLmNvbXBvbmVudC50cyIsIm5nOi8vYW5ndWxhcjItYmFpZHUtbWFwL2NvbXBvbmVudHMvdGlsZWxheWVyLmNvbXBvbmVudC50cyIsIm5nOi8vYW5ndWxhcjItYmFpZHUtbWFwL2NvbXBvbmVudHMvdHJhZmZpY2xheWVyLmNvbXBvbmVudC50cyIsIm5nOi8vYW5ndWxhcjItYmFpZHUtbWFwL2NvbXBvbmVudHMvbWFya2VyQ2x1c3RlcmVyLmNvbXBvbmVudC50cyIsIm5nOi8vYW5ndWxhcjItYmFpZHUtbWFwL3R5cGVzL0NvbnRyb2wudHMiLCJuZzovL2FuZ3VsYXIyLWJhaWR1LW1hcC9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gaXNOdWxsKG9iajogYW55KSB7XG4gIHJldHVybiBvYmogPT09IG51bGwgfHwgb2JqID09PSB1bmRlZmluZWRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzVW5kZWZpbmVkKG9iajogYW55KSB7XG4gIHJldHVybiBvYmogPT09IHVuZGVmaW5lZFxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNCb29sZWFuKG9iajogYW55KTogb2JqIGlzIGJvb2xlYW4ge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEJvb2xlYW5dJ1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbihvYmo6IGFueSk6IG9iaiBpcyBib29sZWFuIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBGdW5jdGlvbl0nXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1N0cmluZyhvYmo6IGFueSk6IG9iaiBpcyBib29sZWFuIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBTdHJpbmddJ1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb21pdDxUPihvYmo6IFQsIC4uLmtleXM6IEFycmF5PHN0cmluZz4pOiBUIHtcbiAgY29uc3QgcmF3S2V5cyA9IE9iamVjdC5rZXlzKG9iailcbiAgY29uc3QgZmluYWxLZXlzID0gcmF3S2V5cy5maWx0ZXIoayA9PiBrZXlzLmluZGV4T2YoaykgPCAwKVxuICByZXR1cm4gZmluYWxLZXlzLnJlZHVjZShcbiAgICAocCwgdikgPT4ge1xuICAgICAgcFt2XSA9IG9ialt2XVxuICAgICAgcmV0dXJuIHBcbiAgICB9LFxuICAgIDxUPnt9XG4gIClcbn1cbiIsImltcG9ydCB7XG4gIEJHZW9sb2NhdGlvbkNvbnRyb2xPcHRpb25zLFxuICBCTWFwVHlwZUNvbnRyb2xPcHRpb25zLFxuICBCTmF2aWdhdGlvbkNvbnRyb2xPcHRpb25zLFxuICBCT3ZlcnZpZXdNYXBDb250cm9sT3B0aW9ucyxcbiAgQlNjYWxlQ29udHJvbE9wdGlvbnMsXG4gIEdlb2xvY2F0aW9uQ29udHJvbE9wdGlvbnMsXG4gIE1hcFR5cGVDb250cm9sT3B0aW9ucyxcbiAgTmF2aWdhdGlvbkNvbnRyb2xPcHRpb25zLFxuICBPdmVydmlld01hcENvbnRyb2xPcHRpb25zLFxuICBTY2FsZUNvbnRyb2xPcHRpb25zXG59IGZyb20gJy4uL3R5cGVzL0NvbnRyb2wnXG5pbXBvcnQgeyBCSWNvbiwgSWNvbk9wdGlvbnMgfSBmcm9tICcuLi90eXBlcy9JY29uJ1xuaW1wb3J0IHsgQk1hcmtlck9wdGlvbnMsIE1hcmtlck9wdGlvbnMgfSBmcm9tICcuLi90eXBlcy9NYXJrZXInXG5pbXBvcnQgeyBCUG9pbnQsIFBvaW50IH0gZnJvbSAnLi4vdHlwZXMvUG9pbnQnXG5pbXBvcnQgeyBCU2l6ZSwgU2l6ZSB9IGZyb20gJy4uL3R5cGVzL1NpemUnXG5cbmltcG9ydCB7IGlzTnVsbCB9IGZyb20gJy4vb2JqZWN0J1xuaW1wb3J0IHsgQk1hcmtlckNsdXN0ZXJlck9wdGlvbnMsIE1hcmtlckNsdXN0ZXJlck9wdGlvbnMgfSBmcm9tICcuLi90eXBlcy9NYXJrZXJDbHVzdGVyZXInXG5pbXBvcnQgeyBUZXh0SWNvblN0eWxlLCBCVGV4dEljb25TdHlsZSB9IGZyb20gJy4uL3R5cGVzL1RleHRJY29uT3ZlcmxheSdcblxuZXhwb3J0IGZ1bmN0aW9uIHRvUG9pbnQob3B0czogUG9pbnQpOiBCUG9pbnQge1xuICBpZiAoIW9wdHMpIHtcbiAgICByZXR1cm4gbmV3IHdpbmRvdy5CTWFwLlBvaW50KClcbiAgfVxuICByZXR1cm4gbmV3IHdpbmRvdy5CTWFwLlBvaW50KG9wdHMubG5nLCBvcHRzLmxhdClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvUG9pbnRzKG9wdHM6IEFycmF5PFBvaW50Pik6IEFycmF5PEJQb2ludD4ge1xuICBpZiAoIW9wdHMpIHtcbiAgICByZXR1cm4gW11cbiAgfVxuICByZXR1cm4gb3B0cy5tYXAocCA9PiB7XG4gICAgcmV0dXJuIG5ldyB3aW5kb3cuQk1hcC5Qb2ludChwLmxuZywgcC5sYXQpXG4gIH0pXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b1NpemUob3B0czogU2l6ZSk6IEJTaXplIHtcbiAgaWYgKCFvcHRzKSB7XG4gICAgcmV0dXJuIG5ldyB3aW5kb3cuQk1hcC5TaXplKClcbiAgfVxuICByZXR1cm4gbmV3IHdpbmRvdy5CTWFwLlNpemUob3B0cy53aWR0aCwgb3B0cy5oZWlnaHQpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b0ljb24odXJsOiBzdHJpbmcsIHNpemU6IFNpemUsIG9wdGlvbnM6IEljb25PcHRpb25zKTogQkljb24ge1xuICBpZiAoIXNpemUgJiYgIW9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IHdpbmRvdy5CTWFwLkljb24odXJsKVxuICB9XG4gIGlmICghc2l6ZSkge1xuICAgIHJldHVybiBuZXcgd2luZG93LkJNYXAuSWNvbih1cmwsIHRvU2l6ZShzaXplKSlcbiAgfVxuICBjb25zdCBpY29uT3B0aW9uczogYW55ID0ge1xuICAgIGFuY2hvcjogdG9TaXplKG9wdGlvbnMuYW5jaG9yKSxcbiAgICBpbWFnZU9mZnNldDogdG9TaXplKG9wdGlvbnMuaW1hZ2VPZmZzZXQpLFxuICAgIGluZm9XaW5kb3dBbmNob3I6IHRvU2l6ZShvcHRpb25zLmluZm9XaW5kb3dBbmNob3IpLFxuICAgIHByaW50SW1hZ2VVcmw6IG9wdGlvbnMucHJpbnRJbWFnZVVybFxuICB9XG4gIGNvbnN0IGljb24gPSBuZXcgd2luZG93LkJNYXAuSWNvbih1cmwsIHRvU2l6ZShzaXplKSwgaWNvbk9wdGlvbnMpXG4gIGlmIChvcHRpb25zLmltYWdlU2l6ZSkge1xuICAgIGljb24uc2V0SW1hZ2VTaXplKHRvU2l6ZShvcHRpb25zLmltYWdlU2l6ZSkpXG4gIH1cbiAgcmV0dXJuIGljb25cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvTWFya2VyT3B0aW9ucyhvcHRpb25zOiBNYXJrZXJPcHRpb25zKTogQk1hcmtlck9wdGlvbnMge1xuICBjb25zdCBvcHRzOiBCTWFya2VyT3B0aW9ucyA9IHt9XG5cbiAgaWYgKCFvcHRpb25zKSB7XG4gICAgcmV0dXJuIG9wdHNcbiAgfVxuXG4gIGlmIChvcHRpb25zLm9mZnNldCkge1xuICAgIG9wdHMub2Zmc2V0ID0gdG9TaXplKG9wdGlvbnMub2Zmc2V0KVxuICB9XG5cbiAgaWYgKG9wdGlvbnMuaWNvbikge1xuICAgIG9wdHMuaWNvbiA9IHRvSWNvbihvcHRpb25zLmljb24uaW1hZ2VVcmwsIG9wdGlvbnMuaWNvbi5zaXplLCBvcHRpb25zLmljb24pXG4gIH1cbiAgaWYgKCFpc051bGwob3B0aW9ucy5lbmFibGVNYXNzQ2xlYXIpKSB7XG4gICAgb3B0cy5lbmFibGVNYXNzQ2xlYXIgPSBvcHRpb25zLmVuYWJsZU1hc3NDbGVhclxuICB9XG4gIGlmICghaXNOdWxsKG9wdGlvbnMuZW5hYmxlRHJhZ2dpbmcpKSB7XG4gICAgb3B0cy5lbmFibGVEcmFnZ2luZyA9IG9wdGlvbnMuZW5hYmxlRHJhZ2dpbmdcbiAgfVxuICBpZiAoIWlzTnVsbChvcHRpb25zLmVuYWJsZUNsaWNraW5nKSkge1xuICAgIG9wdHMuZW5hYmxlQ2xpY2tpbmcgPSBvcHRpb25zLmVuYWJsZUNsaWNraW5nXG4gIH1cbiAgaWYgKCFpc051bGwob3B0aW9ucy5yYWlzZU9uRHJhZykpIHtcbiAgICBvcHRzLnJhaXNlT25EcmFnID0gb3B0aW9ucy5yYWlzZU9uRHJhZ1xuICB9XG4gIGlmICghaXNOdWxsKG9wdGlvbnMuZHJhZ2dpbmdDdXJzb3IpKSB7XG4gICAgb3B0cy5kcmFnZ2luZ0N1cnNvciA9IG9wdGlvbnMuZHJhZ2dpbmdDdXJzb3JcbiAgfVxuICBpZiAoIWlzTnVsbChvcHRpb25zLnJvdGF0aW9uKSkge1xuICAgIG9wdHMucm90YXRpb24gPSBvcHRpb25zLnJvdGF0aW9uXG4gIH1cbiAgaWYgKCFpc051bGwob3B0aW9ucy50aXRsZSkpIHtcbiAgICBvcHRzLnRpdGxlID0gb3B0aW9ucy50aXRsZVxuICB9XG4gIGlmICghaXNOdWxsKG9wdGlvbnMuc2hhZG93KSkge1xuICAgIG9wdHMuc2hhZG93ID0gdG9JY29uKG9wdGlvbnMuc2hhZG93LmltYWdlVXJsLCBvcHRpb25zLnNoYWRvdy5zaXplLCBvcHRpb25zLnNoYWRvdylcbiAgfVxuXG4gIHJldHVybiBvcHRzXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b05hdmlnYXRpb25Db250cm9sT3B0aW9ucyhvcHRpb25zOiBOYXZpZ2F0aW9uQ29udHJvbE9wdGlvbnMpOiBCTmF2aWdhdGlvbkNvbnRyb2xPcHRpb25zIHtcbiAgY29uc3Qgb3B0czogQk5hdmlnYXRpb25Db250cm9sT3B0aW9ucyA9IHt9XG5cbiAgaWYgKCFvcHRpb25zKSB7XG4gICAgcmV0dXJuIG9wdHNcbiAgfVxuXG4gIGlmICghaXNOdWxsKG9wdGlvbnMuYW5jaG9yKSkge1xuICAgIG9wdHMuYW5jaG9yID0gb3B0aW9ucy5hbmNob3JcbiAgfVxuICBpZiAoIWlzTnVsbChvcHRpb25zLmVuYWJsZUdlb2xvY2F0aW9uKSkge1xuICAgIG9wdHMuZW5hYmxlR2VvbG9jYXRpb24gPSBvcHRpb25zLmVuYWJsZUdlb2xvY2F0aW9uXG4gIH1cbiAgaWYgKCFpc051bGwob3B0aW9ucy5vZmZzZXQpKSB7XG4gICAgb3B0cy5vZmZzZXQgPSB0b1NpemUob3B0aW9ucy5vZmZzZXQpXG4gIH1cbiAgaWYgKCFpc051bGwob3B0aW9ucy5zaG93Wm9vbUluZm8pKSB7XG4gICAgb3B0cy5zaG93Wm9vbUluZm8gPSBvcHRpb25zLnNob3dab29tSW5mb1xuICB9XG5cbiAgaWYgKCFpc051bGwob3B0aW9ucy50eXBlKSkge1xuICAgIG9wdHMudHlwZSA9IG9wdGlvbnMudHlwZVxuICB9XG4gIHJldHVybiBvcHRzXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b092ZXJ2aWV3TWFwQ29udHJvbE9wdGlvbnMob3B0aW9uczogT3ZlcnZpZXdNYXBDb250cm9sT3B0aW9ucyk6IEJPdmVydmlld01hcENvbnRyb2xPcHRpb25zIHtcbiAgY29uc3Qgb3B0czogQk92ZXJ2aWV3TWFwQ29udHJvbE9wdGlvbnMgPSB7fVxuXG4gIGlmICghb3B0aW9ucykge1xuICAgIHJldHVybiBvcHRzXG4gIH1cblxuICBpZiAoIWlzTnVsbChvcHRpb25zLmFuY2hvcikpIHtcbiAgICBvcHRzLmFuY2hvciA9IG9wdGlvbnMuYW5jaG9yXG4gIH1cbiAgaWYgKCFpc051bGwob3B0aW9ucy5pc09wZW4pKSB7XG4gICAgb3B0cy5pc09wZW4gPSBvcHRpb25zLmlzT3BlblxuICB9XG4gIGlmICghaXNOdWxsKG9wdGlvbnMub2Zmc2V0KSkge1xuICAgIG9wdHMub2Zmc2V0ID0gdG9TaXplKG9wdGlvbnMub2Zmc2V0KVxuICB9XG4gIGlmICghaXNOdWxsKG9wdGlvbnMuc2l6ZSkpIHtcbiAgICBvcHRzLnNpemUgPSB0b1NpemUob3B0aW9ucy5zaXplKVxuICB9XG4gIHJldHVybiBvcHRzXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b1NjYWxlQ29udHJvbE9wdGlvbnMob3B0aW9uczogU2NhbGVDb250cm9sT3B0aW9ucyk6IEJTY2FsZUNvbnRyb2xPcHRpb25zIHtcbiAgY29uc3Qgb3B0czogQlNjYWxlQ29udHJvbE9wdGlvbnMgPSB7fVxuXG4gIGlmICghb3B0aW9ucykge1xuICAgIHJldHVybiBvcHRzXG4gIH1cblxuICBpZiAoIWlzTnVsbChvcHRpb25zLmFuY2hvcikpIHtcbiAgICBvcHRzLmFuY2hvciA9IG9wdGlvbnMuYW5jaG9yXG4gIH1cbiAgaWYgKCFpc051bGwob3B0aW9ucy5vZmZzZXQpKSB7XG4gICAgb3B0cy5vZmZzZXQgPSB0b1NpemUob3B0aW9ucy5vZmZzZXQpXG4gIH1cbiAgcmV0dXJuIG9wdHNcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvTWFwVHlwZUNvbnRyb2xPcHRpb25zKG9wdGlvbnM6IE1hcFR5cGVDb250cm9sT3B0aW9ucyk6IEJNYXBUeXBlQ29udHJvbE9wdGlvbnMge1xuICBjb25zdCBvcHRzOiBCTWFwVHlwZUNvbnRyb2xPcHRpb25zID0ge31cblxuICBpZiAoIW9wdGlvbnMpIHtcbiAgICByZXR1cm4gb3B0c1xuICB9XG5cbiAgaWYgKCFpc051bGwob3B0aW9ucy50eXBlKSkge1xuICAgIG9wdHMudHlwZSA9IG9wdGlvbnMudHlwZVxuICB9XG4gIHJldHVybiBvcHRzXG59XG5leHBvcnQgZnVuY3Rpb24gdG9HZW9sb2NhdGlvbk9wdGlvbnMob3B0aW9uczogR2VvbG9jYXRpb25Db250cm9sT3B0aW9ucyk6IEJHZW9sb2NhdGlvbkNvbnRyb2xPcHRpb25zIHtcbiAgY29uc3Qgb3B0czogQkdlb2xvY2F0aW9uQ29udHJvbE9wdGlvbnMgPSB7fVxuXG4gIGlmICghb3B0aW9ucykge1xuICAgIHJldHVybiBvcHRzXG4gIH1cblxuICBpZiAoIWlzTnVsbChvcHRpb25zLmFuY2hvcikpIHtcbiAgICBvcHRzLmFuY2hvciA9IG9wdGlvbnMuYW5jaG9yXG4gIH1cbiAgaWYgKCFpc051bGwob3B0aW9ucy5vZmZzZXQpKSB7XG4gICAgb3B0cy5vZmZzZXQgPSB0b1NpemUob3B0aW9ucy5vZmZzZXQpXG4gIH1cbiAgaWYgKCFpc051bGwob3B0aW9ucy5lbmFibGVBdXRvTG9jYXRpb24pKSB7XG4gICAgb3B0cy5lbmFibGVBdXRvTG9jYXRpb24gPSBvcHRpb25zLmVuYWJsZUF1dG9Mb2NhdGlvblxuICB9XG4gIGlmICghaXNOdWxsKG9wdGlvbnMubG9jYXRpb25JY29uKSkge1xuICAgIG9wdHMubG9jYXRpb25JY29uID0gdG9JY29uKG9wdGlvbnMubG9jYXRpb25JY29uLmltYWdlVXJsLCBvcHRpb25zLmxvY2F0aW9uSWNvbi5zaXplLCBvcHRpb25zLmxvY2F0aW9uSWNvbilcbiAgfVxuICBpZiAoIWlzTnVsbChvcHRpb25zLnNob3dBZGRyZXNzQmFyKSkge1xuICAgIG9wdHMuc2hvd0FkZHJlc3NCYXIgPSBvcHRpb25zLnNob3dBZGRyZXNzQmFyXG4gIH1cbiAgcmV0dXJuIG9wdHNcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvVGV4dEljb25TdHlsZShzdHlsZTogVGV4dEljb25TdHlsZSk6IEJUZXh0SWNvblN0eWxlIHtcbiAgY29uc3QgcmVhbFN0eWxlOiBCVGV4dEljb25TdHlsZSA9IHtcbiAgICB1cmw6IHN0eWxlLnVybCxcbiAgICBzaXplOiB0b1NpemUoc3R5bGUuc2l6ZSlcbiAgfVxuICBpZiAoc3R5bGUuYW5jaG9yKSB7XG4gICAgcmVhbFN0eWxlLmFuY2hvciA9IHRvU2l6ZShzdHlsZS5hbmNob3IpXG4gIH1cbiAgaWYgKHN0eWxlLm9mZnNldCkge1xuICAgIHJlYWxTdHlsZS5vZmZzZXQgPSB0b1NpemUoc3R5bGUub2Zmc2V0KVxuICB9XG4gIGlmICghaXNOdWxsKHN0eWxlLnRleHRTaXplKSkge1xuICAgIHJlYWxTdHlsZS50ZXh0U2l6ZSA9IHN0eWxlLnRleHRTaXplXG4gIH1cbiAgaWYgKCFpc051bGwoc3R5bGUudGV4dENvbG9yKSkge1xuICAgIHJlYWxTdHlsZS50ZXh0Q29sb3IgPSBzdHlsZS50ZXh0Q29sb3JcbiAgfVxuXG4gIHJldHVybiByZWFsU3R5bGVcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvTWFya2VyQ2x1c3RlcmVyT3B0aW9ucyhvcHRpb25zOiBNYXJrZXJDbHVzdGVyZXJPcHRpb25zKTogQk1hcmtlckNsdXN0ZXJlck9wdGlvbnMge1xuICBjb25zdCBvcHRzOiBCTWFya2VyQ2x1c3RlcmVyT3B0aW9ucyA9IHt9XG5cbiAgaWYgKCFvcHRpb25zKSB7XG4gICAgcmV0dXJuIG9wdHNcbiAgfVxuXG4gIGlmIChvcHRpb25zLm1hcmtlcnMpIHtcbiAgICBvcHRzLm1hcmtlcnMgPSBvcHRpb25zLm1hcmtlcnMubWFwKFxuICAgICAgbSA9PiBuZXcgd2luZG93LkJNYXAuTWFya2VyKHRvUG9pbnQobS5wb2ludCksIHRvTWFya2VyT3B0aW9ucyhtLm9wdGlvbnMpKVxuICAgIClcbiAgfVxuXG4gIGlmICghaXNOdWxsKG9wdGlvbnMuZ2lyZFNpemUpKSB7XG4gICAgb3B0cy5naXJkU2l6ZSA9IG9wdGlvbnMuZ2lyZFNpemVcbiAgfVxuICBpZiAoIWlzTnVsbChvcHRpb25zLm1heFpvb20pKSB7XG4gICAgb3B0cy5tYXhab29tID0gb3B0aW9ucy5tYXhab29tXG4gIH1cbiAgaWYgKCFpc051bGwob3B0aW9ucy5taW5DbHVzdGVyU2l6ZSkpIHtcbiAgICBvcHRzLm1pbkNsdXN0ZXJTaXplID0gb3B0aW9ucy5taW5DbHVzdGVyU2l6ZVxuICB9XG4gIGlmICghaXNOdWxsKG9wdGlvbnMuaXNBdmVyYW5nZUNlbnRlcikpIHtcbiAgICBvcHRzLmlzQXZlcmFuZ2VDZW50ZXIgPSBvcHRpb25zLmlzQXZlcmFuZ2VDZW50ZXJcbiAgfVxuICBpZiAob3B0aW9ucy5zdHlsZXMpIHtcbiAgICBvcHRzLnN0eWxlcyA9IG9wdGlvbnMuc3R5bGVzLmZpbHRlcihzID0+IHMpLm1hcChzID0+IHRvVGV4dEljb25TdHlsZShzKSlcbiAgfVxuXG4gIHJldHVybiBvcHRzXG59XG4iLCJpbXBvcnQgeyBpc051bGwgfSBmcm9tICcuL29iamVjdCdcblxuZXhwb3J0IGZ1bmN0aW9uIG51bGxDaGVjayhvYmo6IGFueSwgbXNnOiBzdHJpbmcpIHtcbiAgaWYgKGlzTnVsbChvYmopKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKG1zZylcbiAgfVxufVxuIiwiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnXG5pbXBvcnQgeyBpc1N0cmluZyB9IGZyb20gJy4uL2hlbHBlcnMvb2JqZWN0J1xuaW1wb3J0IHsgU2NyaXB0VHlwZSB9IGZyb20gJy4uL3R5cGVzL1NjcmlwdCdcblxuZXhwb3J0IGVudW0gTE9BRElOR19TVEFURSB7XG4gIE5PTiA9IDAsXG4gIExPQURFRCA9IDEsXG4gIExPQURJTkcgPSAyXG59XG5cbmV4cG9ydCBjbGFzcyBTY3JpcHRMb2FkZXJDb25maWcge1xuICBwdWJsaWMgYWs6IHN0cmluZyA9ICcnXG59XG5cbndpbmRvdy5fc2NyaXB0TG9hZFN0YXRlID0ge31cbndpbmRvdy5fbG9hZGluZ0NhbGxiYWNrcyA9IHt9XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBTY3JpcHRMb2FkZXIge1xuICBwdWJsaWMgbG9hZCh1cmw6IHN0cmluZyB8IFNjcmlwdFR5cGUsIGlzTWFpbjogYm9vbGVhbiA9IGZhbHNlLCBjYjogKCkgPT4gdm9pZCk6IHZvaWQge1xuICAgIGNvbnN0IHNjcmlwdEtleSA9IGlzU3RyaW5nKHVybCkgPyB1cmwgOiB1cmxbJ2tleSddXG4gICAgY29uc3Qgc2NyaXB0VXJscyA9IGlzU3RyaW5nKHVybCkgPyBbdXJsXSA6IHVybFsnc2NyaXB0cyddXG5cbiAgICBpZiAod2luZG93Ll9zY3JpcHRMb2FkU3RhdGVbc2NyaXB0S2V5XSA9PT0gTE9BRElOR19TVEFURS5MT0FERUQpIHtcbiAgICAgIGlmIChpc01haW4pIHtcbiAgICAgICAgc3dpdGNoRGlzcGxheSgnYmFpZHUtbWFwIC5iYWlkdS1tYXAtaW5zdGFuY2UnLCAnYmxvY2snKVxuICAgICAgICBzd2l0Y2hEaXNwbGF5KCdiYWlkdS1tYXAgLmJhaWR1LW1hcC1vZmZsaW5lJywgJ25vbmUnKVxuICAgICAgfVxuICAgICAgcmV0dXJuIGNiKClcbiAgICB9XG4gICAgaWYgKCF3aW5kb3cuX2xvYWRpbmdDYWxsYmFja3Nbc2NyaXB0S2V5XSkge1xuICAgICAgd2luZG93Ll9sb2FkaW5nQ2FsbGJhY2tzW3NjcmlwdEtleV0gPSBbXVxuICAgIH1cbiAgICBpZiAod2luZG93Ll9zY3JpcHRMb2FkU3RhdGVbc2NyaXB0S2V5XSA9PT0gTE9BRElOR19TVEFURS5MT0FESU5HKSB7XG4gICAgICB3aW5kb3cuX2xvYWRpbmdDYWxsYmFja3Nbc2NyaXB0S2V5XS5wdXNoKGNiKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHdpbmRvdy5fc2NyaXB0TG9hZFN0YXRlW3NjcmlwdEtleV0gPSBMT0FESU5HX1NUQVRFLkxPQURJTkdcbiAgICB3aW5kb3cuX2xvYWRpbmdDYWxsYmFja3Nbc2NyaXB0S2V5XS5wdXNoKGNiKVxuXG4gICAgaWYgKGlzTWFpbikge1xuICAgICAgd2luZG93LmJhaWR1bWFwaW5pdCA9ICgpID0+IHtcbiAgICAgICAgd2luZG93Ll9zY3JpcHRMb2FkU3RhdGVbc2NyaXB0S2V5XSA9IExPQURJTkdfU1RBVEUuTE9BREVEXG4gICAgICAgIHN3aXRjaERpc3BsYXkoJ2JhaWR1LW1hcCAuYmFpZHUtbWFwLWluc3RhbmNlJywgJ2Jsb2NrJylcbiAgICAgICAgc3dpdGNoRGlzcGxheSgnYmFpZHUtbWFwIC5iYWlkdS1tYXAtb2ZmbGluZScsICdub25lJylcbiAgICAgICAgd2luZG93Ll9sb2FkaW5nQ2FsbGJhY2tzW3NjcmlwdEtleV0uZm9yRWFjaCgoYzogKCkgPT4gdm9pZCkgPT4ge1xuICAgICAgICAgIGMoKVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cbiAgICBhcHBlbmRTY3JpcHRzVGFnKHNjcmlwdEtleSwgc2NyaXB0VXJscywgaXNNYWluKVxuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGVuZFNjcmlwdHNUYWcoc2NyaXB0S2V5OiBzdHJpbmcsIHVybHM6IEFycmF5PHN0cmluZz4sIGlzTWFpbjogYm9vbGVhbikge1xuICBjb25zdCBsZWZ0T2JqID0ge1xuICAgIGNvdW50OiB1cmxzLmxlbmd0aFxuICB9XG4gIHVybHMuZm9yRWFjaCh1cmwgPT4ge1xuICAgIGFwcGVuZFNjcmlwdFRhZyhzY3JpcHRLZXksIHVybCwgaXNNYWluLCBsZWZ0T2JqKVxuICB9KVxufVxuXG5mdW5jdGlvbiBhcHBlbmRTY3JpcHRUYWcoc2NyaXB0S2V5OiBzdHJpbmcsIHVybDogc3RyaW5nLCBpc01haW46IGJvb2xlYW4sIGxlZnRPYmo6IHsgY291bnQ6IG51bWJlciB9KSB7XG4gIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpXG4gIHNjcmlwdC50eXBlID0gJ3RleHQvamF2YXNjcmlwdCdcbiAgc2NyaXB0LnNyYyA9IHVybFxuICBzY3JpcHQub25lcnJvciA9ICgpID0+IHtcbiAgICBpZiAoaXNNYWluKSB7XG4gICAgICBzd2l0Y2hEaXNwbGF5KCdiYWlkdS1tYXAgLmJhaWR1LW1hcC1vZmZsaW5lJywgJ2Jsb2NrJylcbiAgICAgIHN3aXRjaERpc3BsYXkoJ2JhaWR1LW1hcCAuYmFpZHUtbWFwLWluc3RhbmNlJywgJ25vbmUnKVxuICAgIH1cbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHNjcmlwdClcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgYXBwZW5kU2NyaXB0VGFnKHNjcmlwdEtleSwgdXJsLCBpc01haW4sIGxlZnRPYmopXG4gICAgfSwgMzAwMDApXG4gIH1cblxuICBpZiAoIWlzTWFpbikge1xuICAgIHNjcmlwdC5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICBsZWZ0T2JqLmNvdW50LS1cbiAgICAgIGlmIChsZWZ0T2JqLmNvdW50KSB7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgd2luZG93Ll9zY3JpcHRMb2FkU3RhdGVbc2NyaXB0S2V5XSA9IExPQURJTkdfU1RBVEUuTE9BREVEXG4gICAgICB3aW5kb3cuX2xvYWRpbmdDYWxsYmFja3Nbc2NyaXB0S2V5XS5mb3JFYWNoKChjOiAoKSA9PiB2b2lkKSA9PiB7XG4gICAgICAgIGMoKVxuICAgICAgfSlcbiAgICB9XG4gIH1cbiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHQpXG59XG5cbmZ1bmN0aW9uIHN3aXRjaERpc3BsYXkoc2VsZWN0b3I6IHN0cmluZywgc3RhdGU6IHN0cmluZykge1xuICBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSkuZm9yRWFjaCgobm9kZTogSFRNTEVsZW1lbnQpID0+IHtcbiAgICBub2RlLnN0eWxlLmRpc3BsYXkgPSBzdGF0ZVxuICB9KVxufVxuIiwiaW1wb3J0IHsgQkJvdW5kcyB9IGZyb20gJy4vQm91bmRzJ1xuaW1wb3J0IHsgQkNvbnRyb2wgfSBmcm9tICcuL0NvbnRyb2wnXG5pbXBvcnQgeyBPdmVybGF5IH0gZnJvbSAnLi9PdmVybGF5J1xuaW1wb3J0IHsgQlBvaW50LCBQb2ludCB9IGZyb20gJy4vUG9pbnQnXG5pbXBvcnQgeyBCVGlsZUxheWVyIH0gZnJvbSAnLi9UaWxlTGF5ZXInXG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vaGVscGVycy9vYmplY3QnXG5pbXBvcnQgeyBCU2l6ZSB9IGZyb20gJy4vU2l6ZSdcbmltcG9ydCB7IEJNYXBUeXBlIH0gZnJvbSAnLi9NYXBUeXBlJ1xuXG5leHBvcnQgaW50ZXJmYWNlIEJNYXBDb25zdHJ1Y3RvciB7XG4gIG5ldyAoZWw6IEhUTUxFbGVtZW50IHwgc3RyaW5nLCBvcHRzOiBNYXBPcHRpb25zKTogQk1hcEluc3RhbmNlXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQk1hcEluc3RhbmNlIHtcbiAgZGlzYWJsZURyYWdnaW5nKCk6IHZvaWRcbiAgZW5hYmxlRHJhZ2dpbmcoKTogdm9pZFxuXG4gIGRpc2FibGVTY3JvbGxXaGVlbFpvb20oKTogdm9pZFxuICBlbmFibGVTY3JvbGxXaGVlbFpvb20oKTogdm9pZFxuXG4gIGRpc2FibGVEb3VibGVDbGlja1pvb20oKTogdm9pZFxuICBlbmFibGVEb3VibGVDbGlja1pvb20oKTogdm9pZFxuXG4gIGRpc2FibGVLZXlib2FyZCgpOiB2b2lkXG4gIGVuYWJsZUtleWJvYXJkKCk6IHZvaWRcblxuICBkaXNhYmxlSW5lcnRpYWxEcmFnZ2luZygpOiB2b2lkXG4gIGVuYWJsZUluZXJ0aWFsRHJhZ2dpbmcoKTogdm9pZFxuXG4gIGRpc2FibGVDb250aW51b3VzWm9vbSgpOiB2b2lkXG4gIGVuYWJsZUNvbnRpbnVvdXNab29tKCk6IHZvaWRcblxuICBkaXNhYmxlUGluY2hUb1pvb20oKTogdm9pZFxuICBlbmFibGVQaW5jaFRvWm9vbSgpOiB2b2lkXG5cbiAgZGlzYWJsZUF1dG9SZXNpemUoKTogdm9pZFxuICBlbmFibGVBdXRvUmVzaXplKCk6IHZvaWRcblxuICBhZGRDb250cm9sKGNvbnRyb2w6IEJDb250cm9sKTogdm9pZFxuICByZW1vdmVDb250cm9sKGNvbnRyb2w6IEJDb250cm9sKTogdm9pZFxuXG4gIGFkZE92ZXJsYXkoY29udHJvbDogT3ZlcmxheSk6IHZvaWRcbiAgcmVtb3ZlT3ZlcmxheShjb250cm9sOiBPdmVybGF5KTogdm9pZFxuICBjbGVhck92ZXJsYXlzKCk6IHZvaWRcblxuICBhZGRUaWxlTGF5ZXIodGlsZUxheWVyOiBCVGlsZUxheWVyKTogdm9pZFxuICByZW1vdmVUaWxlTGF5ZXIodGlsZUxheWVyOiBCVGlsZUxheWVyKTogdm9pZFxuXG4gIHNldERlZmF1bHRDdXJzb3IoY3Vyc29yOiBzdHJpbmcpOiB2b2lkXG4gIGdldERlZmF1bHRDdXJzb3IoKTogc3RyaW5nXG5cbiAgc2V0RHJhZ2dpbmdDdXJzb3IoZHJhZ2dpbmdDdXJzb3I6IHN0cmluZyk6IHZvaWRcbiAgZ2V0RHJhZ2dpbmdDdXJzb3IoKTogc3RyaW5nXG5cbiAgc2V0TWluWm9vbSh6b29tOiBudW1iZXIpOiB2b2lkXG4gIHNldE1heFpvb20oem9vbTogbnVtYmVyKTogdm9pZFxuXG4gIGdldEJvdW5kcygpOiBCQm91bmRzXG5cbiAgc2V0Q2VudGVyKGNlbnRlcjogQlBvaW50IHwgc3RyaW5nKTogdm9pZFxuICBnZXRDZW50ZXIoKTogQlBvaW50XG5cbiAgZ2V0RGlzdGFuY2Uoc3RhcnQ6IEJQb2ludCwgZW5kOiBCUG9pbnQpOiBudW1iZXJcblxuICBzZXRDdXJyZW50Q2l0eShjaXR5OiBzdHJpbmcpOiB2b2lkXG4gIGNlbnRlckFuZFpvb20oY2VudGVyOiBCUG9pbnQsIHpvb206IG51bWJlcik6IHZvaWRcblxuICBzZXRNYXBUeXBlKG1hcFR5cGU6IEJNYXBUeXBlIHwgTWFwVHlwZUVudW0pOiB2b2lkXG4gIGdldE1hcFR5cGUoKTogQk1hcFR5cGVcblxuICBnZXRTaXplKCk6IEJTaXplXG5cbiAgc2V0Wm9vbSh6b29tOiBudW1iZXIpOiB2b2lkXG4gIGdldFpvb20oKTogbnVtYmVyXG5cbiAgcGFuVG8oY2VudGVyOiBCUG9pbnQsIG9wdHM6IEJQYW5PcHRpb25zKTogdm9pZFxuXG4gIHBhbkJ5KHg6IG51bWJlciwgeTogbnVtYmVyLCBvcHRzOiBCUGFuT3B0aW9ucyk6IHZvaWRcblxuICByZXNldCgpOiB2b2lkXG5cbiAgaGlnaFJlc29sdXRpb25FbmFibGVkKCk6IGJvb2xlYW5cblxuICB6b29tSW4oKTogdm9pZFxuICB6b29tT3V0KCk6IHZvaWRcblxuICBnZXRDb250YWluZXIoKTogSFRNTEVsZW1lbnRcblxuICBjbG9zZUluZm9XaW5kb3coKTogdm9pZFxuXG4gIGFkZEV2ZW50TGlzdGVuZXIoZXZlbnQ6IHN0cmluZywgaGFuZGxlcjogKGU6IGFueSkgPT4gdm9pZCk6IHZvaWRcbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudDogc3RyaW5nLCBoYW5kbGVyOiAoKSA9PiB2b2lkKTogdm9pZFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1hcE9wdGlvbnMge1xuICBtaW5ab29tPzogbnVtYmVyXG4gIG1heFpvb20/OiBudW1iZXJcbiAgZW5hYmxlSGlnaFJlc29sdXRpb24/OiBib29sZWFuXG4gIGVuYWJsZUF1dG9SZXNpemU/OiBib29sZWFuXG4gIGVuYWJsZU1hcENsaWNrPzogYm9vbGVhblxuXG4gIGRpc2FibGVEcmFnZ2luZz86IGJvb2xlYW5cbiAgZW5hYmxlU2Nyb2xsV2hlZWxab29tPzogYm9vbGVhblxuICBkaXNhYmxlRG91YmxlQ2xpY2tab29tPzogYm9vbGVhblxuICBlbmFibGVLZXlib2FyZD86IGJvb2xlYW5cbiAgZW5hYmxlSW5lcnRpYWxEcmFnZ2luZz86IGJvb2xlYW5cbiAgZW5hYmxlQ29udGludW91c1pvb20/OiBib29sZWFuXG4gIGRpc2FibGVQaW5jaFRvWm9vbT86IGJvb2xlYW5cblxuICBjdXJzb3I/OiBzdHJpbmdcbiAgZHJhZ2dpbmdDdXJzb3I/OiBzdHJpbmdcbiAgY3VycmVudENpdHk/OiBzdHJpbmdcbiAgY2VudGVyQW5kWm9vbT86IENlbnRlckFuZFpvb21cblxuICBtYXBUeXBlPzogQk1hcFR5cGUgfCBNYXBUeXBlRW51bVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIENlbnRlckFuZFpvb20gZXh0ZW5kcyBQb2ludCB7XG4gIHpvb20/OiBudW1iZXJcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCUGFuT3B0aW9ucyB7XG4gIG5vQW5pbWF0aW9uOiBib29sZWFuXG59XG5cbmV4cG9ydCBlbnVtIE1hcFR5cGVFbnVtIHtcbiAgQk1BUF9OT1JNQUxfTUFQID0gJ0JNQVBfTk9STUFMX01BUCcsXG4gIEJNQVBfUEVSU1BFQ1RJVkVfTUFQID0gJ0JNQVBfUEVSU1BFQ1RJVkVfTUFQJyxcbiAgQk1BUF9TQVRFTExJVEVfTUFQID0gJ0JNQVBfU0FURUxMSVRFX01BUCcsXG4gIEJNQVBfSFlCUklEX01BUCA9ICdCTUFQX0hZQlJJRF9NQVAnXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc01hcFR5cGVFbnVtKG1hcHR5cGU6IE1hcFR5cGVFbnVtIHwgQk1hcFR5cGUpOiBtYXB0eXBlIGlzIE1hcFR5cGVFbnVtIHtcbiAgcmV0dXJuICFpc0Z1bmN0aW9uKCg8Qk1hcFR5cGU+bWFwdHlwZSkuZ2V0VGlsZUxheWVyKVxufVxuIiwiaW1wb3J0IHsgSW5qZWN0YWJsZSwgSW5qZWN0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSdcbmltcG9ydCB7IGlzQm9vbGVhbiwgaXNOdWxsLCBvbWl0IH0gZnJvbSAnLi4vaGVscGVycy9vYmplY3QnXG5pbXBvcnQgeyBudWxsQ2hlY2sgfSBmcm9tICcuLi9oZWxwZXJzL3ZhbGlkYXRlJ1xuaW1wb3J0IHsgQkNvbnRyb2wgfSBmcm9tICcuLi90eXBlcy9Db250cm9sJ1xuaW1wb3J0IHsgU2NyaXB0TG9hZGVyQ29uZmlnIH0gZnJvbSAnLi9zY3JpcHRMb2FkZXInXG5pbXBvcnQgeyBCTWFwSW5zdGFuY2UsIE1hcE9wdGlvbnMsIGlzTWFwVHlwZUVudW0gfSBmcm9tICcuLi90eXBlcy9NYXAnXG5pbXBvcnQgeyBPdmVybGF5IH0gZnJvbSAnLi4vdHlwZXMvT3ZlcmxheSdcbmltcG9ydCB7IEJUaWxlTGF5ZXIgfSBmcm9tICcuLi90eXBlcy9UaWxlTGF5ZXInXG5cbmltcG9ydCB7IHRvUG9pbnQgfSBmcm9tICcuLi9oZWxwZXJzL3RyYW5zZm9ybWVyJ1xuXG5pbXBvcnQgeyBTY3JpcHRMb2FkZXIgfSBmcm9tICcuL3NjcmlwdExvYWRlcidcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIE1hcFNlcnZpY2Uge1xuICBwcml2YXRlIF9jb25maWc6IFNjcmlwdExvYWRlckNvbmZpZ1xuXG4gIHByaXZhdGUgX21hcDogUHJvbWlzZTxCTWFwSW5zdGFuY2U+XG4gIHByaXZhdGUgX21hcFJlc29sdmVyOiAodmFsdWU6IEJNYXBJbnN0YW5jZSkgPT4gdm9pZFxuXG4gIGNvbnN0cnVjdG9yKEBJbmplY3QoU2NyaXB0TG9hZGVyQ29uZmlnKSBjb25maWc6IFNjcmlwdExvYWRlckNvbmZpZywgcHJpdmF0ZSBfbG9hZGVyOiBTY3JpcHRMb2FkZXIpIHtcbiAgICBudWxsQ2hlY2soY29uZmlnLmFrLCAnYWsgbXVzdCBiZSBwcm92aWRlZCcpXG5cbiAgICB0aGlzLl9jb25maWcgPSBjb25maWdcblxuICAgIHRoaXMuX21hcCA9IG5ldyBQcm9taXNlPEJNYXBJbnN0YW5jZT4oKHJlc29sdmU6ICgpID0+IHZvaWQpID0+IHtcbiAgICAgIHRoaXMuX21hcFJlc29sdmVyID0gcmVzb2x2ZVxuICAgIH0pXG4gIH1cblxuICBwdWJsaWMgY3JlYXRlTWFwKGVsOiBIVE1MRWxlbWVudCwgbWFwT3B0aW9uczogTWFwT3B0aW9ucyk6IFByb21pc2U8Qk1hcEluc3RhbmNlPiB7XG4gICAgY29uc3QgVVJMID0gYGh0dHBzOi8vYXBpLm1hcC5iYWlkdS5jb20vYXBpP3Y9Mi4wJmFrPSR7dGhpcy5fY29uZmlnLmFrfSZjYWxsYmFjaz1iYWlkdW1hcGluaXQmcz0xYFxuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgdGhpcy5fbG9hZGVyLmxvYWQoVVJMLCB0cnVlLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1hcCA9IG5ldyB3aW5kb3cuQk1hcC5NYXAoZWwsIG9taXQobWFwT3B0aW9ucywgJ21hcFR5cGUnKSlcbiAgICAgICAgdGhpcy5zZXRPcHRpb25zKG1hcE9wdGlvbnMpXG4gICAgICAgIHRoaXMuX21hcFJlc29sdmVyKG1hcClcbiAgICAgICAgcmVzb2x2ZShtYXApXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBwdWJsaWMgc2V0T3B0aW9ucyhvcHRzOiBNYXBPcHRpb25zKTogdm9pZCB7XG4gICAgY29uc3Qge1xuICAgICAgZGlzYWJsZURyYWdnaW5nLFxuICAgICAgZW5hYmxlU2Nyb2xsV2hlZWxab29tLFxuICAgICAgZGlzYWJsZURvdWJsZUNsaWNrWm9vbSxcbiAgICAgIGVuYWJsZUtleWJvYXJkLFxuICAgICAgZW5hYmxlSW5lcnRpYWxEcmFnZ2luZyxcbiAgICAgIGVuYWJsZUF1dG9SZXNpemUsXG4gICAgICBlbmFibGVDb250aW51b3VzWm9vbSxcbiAgICAgIGRpc2FibGVQaW5jaFRvWm9vbVxuICAgIH0gPSBvcHRzXG5cbiAgICBpZiAoaXNCb29sZWFuKGRpc2FibGVEcmFnZ2luZykpIHtcbiAgICAgIHRoaXMuX21hcC50aGVuKG1hcCA9PiBtYXBbKGRpc2FibGVEcmFnZ2luZyA/ICdkaXNhYmxlJyA6ICdlbmFibGUnKSArICdEcmFnZ2luZyddKCkpXG4gICAgfVxuICAgIGlmIChpc0Jvb2xlYW4oZW5hYmxlU2Nyb2xsV2hlZWxab29tKSkge1xuICAgICAgdGhpcy5fbWFwLnRoZW4obWFwID0+IG1hcFsoZW5hYmxlU2Nyb2xsV2hlZWxab29tID8gJ2VuYWJsZScgOiAnZGlzYWJsZScpICsgJ1Njcm9sbFdoZWVsWm9vbSddKCkpXG4gICAgfVxuICAgIGlmIChpc0Jvb2xlYW4oZW5hYmxlQXV0b1Jlc2l6ZSkpIHtcbiAgICAgIHRoaXMuX21hcC50aGVuKG1hcCA9PiBtYXBbKGVuYWJsZUF1dG9SZXNpemUgPyAnZW5hYmxlJyA6ICdkaXNhYmxlJykgKyAnQXV0b1Jlc2l6ZSddKCkpXG4gICAgfVxuICAgIGlmIChpc0Jvb2xlYW4oZGlzYWJsZURvdWJsZUNsaWNrWm9vbSkpIHtcbiAgICAgIHRoaXMuX21hcC50aGVuKG1hcCA9PiBtYXBbKGRpc2FibGVEb3VibGVDbGlja1pvb20gPyAnZGlzYWJsZScgOiAnZW5hYmxlJykgKyAnRG91YmxlQ2xpY2tab29tJ10oKSlcbiAgICB9XG4gICAgaWYgKGlzQm9vbGVhbihlbmFibGVLZXlib2FyZCkpIHtcbiAgICAgIHRoaXMuX21hcC50aGVuKG1hcCA9PiBtYXBbKGVuYWJsZUtleWJvYXJkID8gJ2VuYWJsZScgOiAnZGlzYWJsZScpICsgJ0tleWJvYXJkJ10oKSlcbiAgICB9XG4gICAgaWYgKGlzQm9vbGVhbihlbmFibGVJbmVydGlhbERyYWdnaW5nKSkge1xuICAgICAgdGhpcy5fbWFwLnRoZW4obWFwID0+IG1hcFsoZW5hYmxlSW5lcnRpYWxEcmFnZ2luZyA/ICdlbmFibGUnIDogJ2Rpc2FibGUnKSArICdJbmVydGlhbERyYWdnaW5nJ10oKSlcbiAgICB9XG4gICAgaWYgKGlzQm9vbGVhbihlbmFibGVDb250aW51b3VzWm9vbSkpIHtcbiAgICAgIHRoaXMuX21hcC50aGVuKG1hcCA9PiBtYXBbKGVuYWJsZUNvbnRpbnVvdXNab29tID8gJ2VuYWJsZScgOiAnZGlzYWJsZScpICsgJ0NvbnRpbnVvdXNab29tJ10oKSlcbiAgICB9XG4gICAgaWYgKGlzQm9vbGVhbihkaXNhYmxlUGluY2hUb1pvb20pKSB7XG4gICAgICB0aGlzLl9tYXAudGhlbihtYXAgPT4gbWFwWyhkaXNhYmxlUGluY2hUb1pvb20gPyAnZGlzYWJsZScgOiAnZW5hYmxlJykgKyAnUGluY2hUb1pvb20nXSgpKVxuICAgIH1cbiAgICBpZiAoIWlzTnVsbChvcHRzLmN1cnNvcikpIHtcbiAgICAgIHRoaXMuX21hcC50aGVuKG1hcCA9PiBtYXAuc2V0RGVmYXVsdEN1cnNvcihvcHRzLmN1cnNvcikpXG4gICAgfVxuICAgIGlmICghaXNOdWxsKG9wdHMuZHJhZ2dpbmdDdXJzb3IpKSB7XG4gICAgICB0aGlzLl9tYXAudGhlbihtYXAgPT4gbWFwLnNldERyYWdnaW5nQ3Vyc29yKG9wdHMuZHJhZ2dpbmdDdXJzb3IpKVxuICAgIH1cbiAgICBpZiAoIWlzTnVsbChvcHRzLmN1cnJlbnRDaXR5KSkge1xuICAgICAgdGhpcy5fbWFwLnRoZW4obWFwID0+IG1hcC5zZXRDdXJyZW50Q2l0eShvcHRzLmN1cnJlbnRDaXR5KSlcbiAgICB9XG4gICAgaWYgKCFpc051bGwob3B0cy5jZW50ZXJBbmRab29tKSkge1xuICAgICAgdGhpcy5fbWFwLnRoZW4obWFwID0+IHtcbiAgICAgICAgbWFwLmNlbnRlckFuZFpvb20odG9Qb2ludChvcHRzLmNlbnRlckFuZFpvb20pLCBvcHRzLmNlbnRlckFuZFpvb20uem9vbSlcbiAgICAgIH0pXG4gICAgfVxuICAgIGlmICghaXNOdWxsKG9wdHMubWFwVHlwZSkpIHtcbiAgICAgIHRoaXMuX21hcC50aGVuKG1hcCA9PiB7XG4gICAgICAgIGNvbnN0IHJlYWxUeXBlID0gaXNNYXBUeXBlRW51bShvcHRzLm1hcFR5cGUpID8gd2luZG93W29wdHMubWFwVHlwZV0gOiBvcHRzLm1hcFR5cGVcbiAgICAgICAgbWFwLnNldE1hcFR5cGUocmVhbFR5cGUpXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBhZGRPdmVybGF5KGNiOiAobWFwOiBCTWFwSW5zdGFuY2UpID0+IE92ZXJsYXkpOiBQcm9taXNlPHsgbWFwOiBCTWFwSW5zdGFuY2U7IG92ZXJsYXk6IE92ZXJsYXkgfT4ge1xuICAgIHJldHVybiB0aGlzLl9tYXAudGhlbigobWFwOiBCTWFwSW5zdGFuY2UpID0+IHtcbiAgICAgIGNvbnN0IG92ZXJsYXkgPSBjYihtYXApXG4gICAgICBtYXAuYWRkT3ZlcmxheShvdmVybGF5KVxuICAgICAgcmV0dXJuIHsgbWFwLCBvdmVybGF5IH1cbiAgICB9KVxuICB9XG5cbiAgcHVibGljIHJlbW92ZU92ZXJsYXkob3ZlcmxheTogT3ZlcmxheSk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiB0aGlzLl9tYXAudGhlbigobWFwOiBCTWFwSW5zdGFuY2UpID0+IHtcbiAgICAgIG1hcC5yZW1vdmVPdmVybGF5KG92ZXJsYXkpXG4gICAgfSlcbiAgfVxuXG4gIHB1YmxpYyBhZGRUaWxlTGF5ZXIoXG4gICAgY2I6IChtYXA6IEJNYXBJbnN0YW5jZSkgPT4gQlRpbGVMYXllclxuICApOiBQcm9taXNlPHsgbWFwOiBCTWFwSW5zdGFuY2U7IHRpbGVsYXllcjogQlRpbGVMYXllciB9PiB7XG4gICAgcmV0dXJuIHRoaXMuX21hcC50aGVuKChtYXA6IEJNYXBJbnN0YW5jZSkgPT4ge1xuICAgICAgY29uc3QgdGlsZWxheWVyID0gY2IobWFwKVxuICAgICAgbWFwLmFkZFRpbGVMYXllcih0aWxlbGF5ZXIpXG4gICAgICByZXR1cm4geyBtYXAsIHRpbGVsYXllciB9XG4gICAgfSlcbiAgfVxuXG4gIHB1YmxpYyByZW1vdmVUaWxlTGF5ZXIodGlsZWxheWVyOiBCVGlsZUxheWVyKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIHRoaXMuX21hcC50aGVuKChtYXA6IEJNYXBJbnN0YW5jZSkgPT4ge1xuICAgICAgbWFwLnJlbW92ZU92ZXJsYXkodGlsZWxheWVyKVxuICAgIH0pXG4gIH1cblxuICBwdWJsaWMgYWRkQ29udHJvbChjYjogKG1hcDogQk1hcEluc3RhbmNlKSA9PiBCQ29udHJvbCk6IFByb21pc2U8eyBtYXA6IEJNYXBJbnN0YW5jZTsgY29udHJvbDogQkNvbnRyb2wgfT4ge1xuICAgIHJldHVybiB0aGlzLl9tYXAudGhlbigobWFwOiBCTWFwSW5zdGFuY2UpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRyb2wgPSBjYihtYXApXG4gICAgICBtYXAuYWRkQ29udHJvbChjb250cm9sKVxuICAgICAgcmV0dXJuIHsgbWFwLCBjb250cm9sIH1cbiAgICB9KVxuICB9XG5cbiAgcHVibGljIHJlbW92ZUNvbnRyb2woY29udHJvbDogQkNvbnRyb2wpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gdGhpcy5fbWFwLnRoZW4oKG1hcDogQk1hcEluc3RhbmNlKSA9PiB7XG4gICAgICBtYXAucmVtb3ZlQ29udHJvbChjb250cm9sKVxuICAgIH0pXG4gIH1cblxuICBwdWJsaWMgZ2V0TmF0aXZlTWFwKCk6IFByb21pc2U8Qk1hcEluc3RhbmNlPiB7XG4gICAgcmV0dXJuIHRoaXMuX21hcFxuICB9XG59XG4iLCJpbXBvcnQgeyBEaXJlY3RpdmUsIEV2ZW50RW1pdHRlciwgSW5wdXQsIE91dHB1dCwgT25EZXN0cm95LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJ1xuXG5pbXBvcnQge1xuICB0b0dlb2xvY2F0aW9uT3B0aW9ucyxcbiAgdG9NYXBUeXBlQ29udHJvbE9wdGlvbnMsXG4gIHRvTmF2aWdhdGlvbkNvbnRyb2xPcHRpb25zLFxuICB0b092ZXJ2aWV3TWFwQ29udHJvbE9wdGlvbnMsXG4gIHRvU2NhbGVDb250cm9sT3B0aW9uc1xufSBmcm9tICcuLi9oZWxwZXJzL3RyYW5zZm9ybWVyJ1xuaW1wb3J0IHsgbnVsbENoZWNrIH0gZnJvbSAnLi4vaGVscGVycy92YWxpZGF0ZSdcbmltcG9ydCB7IE1hcFNlcnZpY2UgfSBmcm9tICcuLi9wcm92aWRlcnMvbWFwU2VydmljZSdcbmltcG9ydCB7IEJDb250cm9sLCBDb250cm9sVHlwZSB9IGZyb20gJy4uL3R5cGVzL0NvbnRyb2wnXG5cbkBEaXJlY3RpdmUoe1xuICBzZWxlY3RvcjogJ2NvbnRyb2wnXG59KVxuZXhwb3J0IGNsYXNzIENvbnRyb2xDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uRGVzdHJveSB7XG4gIEBJbnB1dCgpIHByaXZhdGUgdHlwZTogQ29udHJvbFR5cGVcbiAgQElucHV0KCkgcHJpdmF0ZSBvcHRpb25zOiB7IFtrZXk6IHN0cmluZ106IGFueSB9XG5cbiAgQE91dHB1dCgpIHByaXZhdGUgbG9hZGVkID0gbmV3IEV2ZW50RW1pdHRlcigpXG5cbiAgcHJpdmF0ZSBjb250cm9sOiBCQ29udHJvbFxuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgX3NlcnZpY2U6IE1hcFNlcnZpY2UpIHt9XG5cbiAgcHVibGljIG5nT25Jbml0KCkge1xuICAgIG51bGxDaGVjayh0aGlzLnR5cGUsICd0eXBlIGlzIHJlcXVpcmVkIGZvciA8Y29udHJvbD4nKVxuXG4gICAgdGhpcy5fc2VydmljZVxuICAgICAgLmFkZENvbnRyb2woKCkgPT4ge1xuICAgICAgICB0aGlzLmNvbnRyb2wgPSB0aGlzLmNyZWF0ZUNvbnRyb2wodGhpcy50eXBlLCB0aGlzLm9wdGlvbnMpXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRyb2xcbiAgICAgIH0pXG4gICAgICAudGhlbigoeyBjb250cm9sIH0pID0+IHtcbiAgICAgICAgdGhpcy5sb2FkZWQuZW1pdChjb250cm9sKVxuICAgICAgfSlcbiAgfVxuXG4gIHB1YmxpYyBuZ09uRGVzdHJveSgpIHtcbiAgICB0aGlzLl9zZXJ2aWNlLnJlbW92ZUNvbnRyb2wodGhpcy5jb250cm9sKVxuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVDb250cm9sKHR5cGU6IENvbnRyb2xUeXBlLCBvcHRpb25zOiB7IFtrZXk6IHN0cmluZ106IGFueSB9KTogQkNvbnRyb2wge1xuICAgIGlmICh0eXBlID09PSAnbmF2aWdhdGlvbicpIHtcbiAgICAgIHJldHVybiBuZXcgd2luZG93LkJNYXAuTmF2aWdhdGlvbkNvbnRyb2wodG9OYXZpZ2F0aW9uQ29udHJvbE9wdGlvbnMob3B0aW9ucykpXG4gICAgfVxuICAgIGlmICh0eXBlID09PSAnb3ZlcnZpZXdtYXAnKSB7XG4gICAgICByZXR1cm4gbmV3IHdpbmRvdy5CTWFwLk92ZXJ2aWV3TWFwQ29udHJvbCh0b092ZXJ2aWV3TWFwQ29udHJvbE9wdGlvbnMob3B0aW9ucykpXG4gICAgfVxuICAgIGlmICh0eXBlID09PSAnc2NhbGUnKSB7XG4gICAgICByZXR1cm4gbmV3IHdpbmRvdy5CTWFwLlNjYWxlQ29udHJvbCh0b1NjYWxlQ29udHJvbE9wdGlvbnMob3B0aW9ucykpXG4gICAgfVxuICAgIGlmICh0eXBlID09PSAnbWFwdHlwZScpIHtcbiAgICAgIHJldHVybiBuZXcgd2luZG93LkJNYXAuTWFwVHlwZUNvbnRyb2wodG9NYXBUeXBlQ29udHJvbE9wdGlvbnMob3B0aW9ucykpXG4gICAgfVxuICAgIGlmICh0eXBlID09PSAnZ2VvbG9jYXRpb24nKSB7XG4gICAgICByZXR1cm4gbmV3IHdpbmRvdy5CTWFwLkdlb2xvY2F0aW9uQ29udHJvbCh0b0dlb2xvY2F0aW9uT3B0aW9ucyhvcHRpb25zKSlcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09ICdwYW5vcmFtYScpIHtcbiAgICAgIHJldHVybiBuZXcgd2luZG93LkJNYXAuUGFub3JhbWFDb250cm9sKClcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCB0eXBlOiR7dHlwZX0gb2YgY29udHJvbGApXG4gIH1cbn1cbiIsImltcG9ydCB7XG4gIENvbXBvbmVudCxcbiAgRWxlbWVudFJlZixcbiAgRXZlbnRFbWl0dGVyLFxuICBJbnB1dCxcbiAgT25DaGFuZ2VzLFxuICBPbkluaXQsXG4gIE91dHB1dCxcbiAgU2ltcGxlQ2hhbmdlLFxuICBWaWV3Q2hpbGRcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSdcblxuaW1wb3J0IHsgTWFwU2VydmljZSB9IGZyb20gJy4uL3Byb3ZpZGVycy9tYXBTZXJ2aWNlJ1xuaW1wb3J0IHsgQk1hcEluc3RhbmNlLCBNYXBPcHRpb25zIH0gZnJvbSAnLi4vdHlwZXMvTWFwJ1xuXG5pbXBvcnQgeyBudWxsQ2hlY2sgfSBmcm9tICcuLi9oZWxwZXJzL3ZhbGlkYXRlJ1xuXG5AQ29tcG9uZW50KHtcbiAgcHJvdmlkZXJzOiBbTWFwU2VydmljZV0sXG4gIHNlbGVjdG9yOiAnYmFpZHUtbWFwJyxcbiAgc3R5bGVzOiBbXG4gICAgYFxuICAgICAgICAuYmFpZHUtbWFwLWluc3RhbmNlIHtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgICAgfVxuICAgICAgICAuYmFpZHUtbWFwLW9mZmxpbmUge1xuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRTZFNkU2O1xuICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgICAgfVxuICAgICAgICAuYmFpZHUtbWFwLW9mZmxpbmUgbGFiZWwge1xuICAgICAgICAgICAgZm9udFNpemU6IDMwcHg7XG4gICAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICB0b3A6IDUwJTtcbiAgICAgICAgICAgIGxlZnQ6IDUwJTtcbiAgICAgICAgICAgIG1hcmdpbi1yaWdodDogLTUwJTtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xuICAgICAgICB9XG4gICAgICAgIC50cmFuY2x1ZGUtY29udGVudCB7XG4gICAgICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgICB9XG4gICAgICAgIGBcbiAgXSxcbiAgdGVtcGxhdGU6IGBcbiAgICA8ZGl2ICNtYXBpbnN0YW5jZSBjbGFzcz1cImJhaWR1LW1hcC1pbnN0YW5jZVwiPjwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJiYWlkdS1tYXAtb2ZmbGluZVwiPlxuICAgICAgICA8bGFiZWw+e3sgJ05PX05FVFdPUksnIH19PC9sYWJlbD5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwidHJhbmNsdWRlLWNvbnRlbnRcIj5cbiAgICAgICAgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PlxuICAgIDwvZGl2PlxuICAgIGBcbn0pXG5leHBvcnQgY2xhc3MgTWFwQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkNoYW5nZXMge1xuICBASW5wdXQoKSBwcml2YXRlIG9wdGlvbnM6IE1hcE9wdGlvbnNcblxuICBAT3V0cHV0KCkgcHJpdmF0ZSBsb2FkZWQgPSBuZXcgRXZlbnRFbWl0dGVyKClcbiAgQE91dHB1dCgpIHByaXZhdGUgY2xpY2tlZCA9IG5ldyBFdmVudEVtaXR0ZXIoKVxuXG4gIEBWaWV3Q2hpbGQoJ21hcGluc3RhbmNlJykgcHJpdmF0ZSBtYXBJbnN0YW5jZTogRWxlbWVudFJlZlxuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgX3NlcnZpY2U6IE1hcFNlcnZpY2UpIHt9XG5cbiAgcHVibGljIG5nT25Jbml0KCkge1xuICAgIG51bGxDaGVjayh0aGlzLm9wdGlvbnMsICdvcHRpb25zIGlzIHJlcXVpcmVkIGZvciA8YmFpZHUtbWFwPicpXG4gICAgbnVsbENoZWNrKHRoaXMub3B0aW9ucy5jZW50ZXJBbmRab29tLCAnb3B0aW9ucy5jZW50ZXJBbmRab29tIGlzIHJlcXVpcmVkIGZvciA8YmFpZHUtbWFwPicpXG5cbiAgICB0aGlzLl9zZXJ2aWNlXG4gICAgICAuY3JlYXRlTWFwKHRoaXMubWFwSW5zdGFuY2UubmF0aXZlRWxlbWVudCwgdGhpcy5vcHRpb25zKVxuICAgICAgLnRoZW4obWFwID0+IHtcbiAgICAgICAgdGhpcy5sb2FkZWQuZW1pdChtYXApXG4gICAgICAgIHJldHVybiBtYXBcbiAgICAgIH0pXG4gICAgICAudGhlbihtYXAgPT4ge1xuICAgICAgICB0aGlzLmFkZExpc3RlbmVyKG1hcClcbiAgICAgIH0pXG4gIH1cblxuICBwdWJsaWMgbmdPbkNoYW5nZXMoY2hhbmdlczogeyBbcHJvcGVydHlOYW1lOiBzdHJpbmddOiBTaW1wbGVDaGFuZ2UgfSkge1xuICAgIGNvbnN0IG9wdHMgPSBjaGFuZ2VzLm9wdGlvbnMuY3VycmVudFZhbHVlIGFzIE1hcE9wdGlvbnNcbiAgICBpZiAoIW9wdHMpIHtcbiAgICAgIHJldHVybiBjb25zb2xlLndhcm4oJ01hcE9wdGlvbnMgY2hhbmdlIHdhcyBpZ25vcmVkIHNpbmNlIHlvdSBhcmUgcGFzc2luZyBlbXB0eSB2YWx1ZScpXG4gICAgfVxuICAgIHRoaXMuX3NlcnZpY2Uuc2V0T3B0aW9ucyhvcHRzKVxuICB9XG5cbiAgcHVibGljIG5nT25EZXN0cm95KCkge1xuICAgIGNvbnNvbGUubG9nKCdvbiBtYXAgZGVzdHJveScpXG4gIH1cblxuICBwcml2YXRlIGFkZExpc3RlbmVyKG1hcDogQk1hcEluc3RhbmNlKSB7XG4gICAgbWFwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGU6IGFueSkgPT4ge1xuICAgICAgdGhpcy5jbGlja2VkLmVtaXQoZSlcbiAgICB9KVxuICB9XG59XG4iLCJpbXBvcnQge1xuICBEaXJlY3RpdmUsXG4gIEV2ZW50RW1pdHRlcixcbiAgSW5wdXQsXG4gIE9uQ2hhbmdlcyxcbiAgT25EZXN0cm95LFxuICBPbkluaXQsXG4gIE91dHB1dCxcbiAgU2ltcGxlQ2hhbmdlXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnXG5cbmltcG9ydCB7IGlzTnVsbCB9IGZyb20gJy4uL2hlbHBlcnMvb2JqZWN0J1xuaW1wb3J0IHsgdG9JY29uLCB0b01hcmtlck9wdGlvbnMsIHRvUG9pbnQsIHRvU2l6ZSB9IGZyb20gJy4uL2hlbHBlcnMvdHJhbnNmb3JtZXInXG5pbXBvcnQgeyBudWxsQ2hlY2sgfSBmcm9tICcuLi9oZWxwZXJzL3ZhbGlkYXRlJ1xuaW1wb3J0IHsgTWFwU2VydmljZSB9IGZyb20gJy4uL3Byb3ZpZGVycy9tYXBTZXJ2aWNlJ1xuaW1wb3J0IHsgQk1hcEluc3RhbmNlIH0gZnJvbSAnLi4vdHlwZXMvTWFwJ1xuaW1wb3J0IHsgQk1hcmtlciwgTWFya2VyT3B0aW9ucyB9IGZyb20gJy4uL3R5cGVzL01hcmtlcidcbmltcG9ydCB7IFBvaW50IH0gZnJvbSAnLi4vdHlwZXMvUG9pbnQnXG5cbkBEaXJlY3RpdmUoe1xuICBzZWxlY3RvcjogJ21hcmtlcidcbn0pXG5leHBvcnQgY2xhc3MgTWFya2VyQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkNoYW5nZXMsIE9uRGVzdHJveSB7XG4gIEBJbnB1dCgpIHByaXZhdGUgcG9pbnQ6IFBvaW50XG4gIEBJbnB1dCgpIHByaXZhdGUgb3B0aW9uczogTWFya2VyT3B0aW9uc1xuXG4gIEBPdXRwdXQoKSBwcml2YXRlIGxvYWRlZCA9IG5ldyBFdmVudEVtaXR0ZXIoKVxuICBAT3V0cHV0KCkgcHJpdmF0ZSBjbGlja2VkID0gbmV3IEV2ZW50RW1pdHRlcigpXG5cbiAgcHJpdmF0ZSBtYXJrZXI6IEJNYXJrZXJcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9zZXJ2aWNlOiBNYXBTZXJ2aWNlKSB7fVxuXG4gIHB1YmxpYyBuZ09uSW5pdCgpIHtcbiAgICBudWxsQ2hlY2sodGhpcy5wb2ludCwgJ3BvaW50IGlzIHJlcXVpcmVkIGZvciA8bWFya2VyPicpXG5cbiAgICB0aGlzLl9zZXJ2aWNlXG4gICAgICAuYWRkT3ZlcmxheSgoKSA9PiB7XG4gICAgICAgIHJldHVybiAodGhpcy5tYXJrZXIgPSBuZXcgd2luZG93LkJNYXAuTWFya2VyKHRvUG9pbnQodGhpcy5wb2ludCksIHRvTWFya2VyT3B0aW9ucyh0aGlzLm9wdGlvbnMpKSlcbiAgICAgIH0pXG4gICAgICAudGhlbigoeyBtYXAgfSkgPT4ge1xuICAgICAgICB0aGlzLmxvYWRlZC5lbWl0KHRoaXMubWFya2VyKVxuICAgICAgICB0aGlzLmFkZExpc3RlbmVyKHRoaXMubWFya2VyLCBtYXApXG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAvLyB3b3JrYXJvdW5kOiBpdCdzIHdlaXJkIHRoYXQgcG9zdGlvbiBpcyBzZXQgd2hpbGUgY29uc3RydWN0aW5nIHBoYXNlIHdpbGwgbWFrZSBjbGljayBldmVudCBub3Qgd29ya2luZ1xuICAgICAgICB0aGlzLm1hcmtlci5zZXRQb3NpdGlvbihuZXcgd2luZG93LkJNYXAuUG9pbnQodGhpcy5wb2ludC5sbmcsIHRoaXMucG9pbnQubGF0KSlcbiAgICAgIH0pXG4gIH1cblxuICBwdWJsaWMgbmdPbkNoYW5nZXMoY2hhbmdlczogeyBbcHJvcGVydHlOYW1lOiBzdHJpbmddOiBTaW1wbGVDaGFuZ2UgfSkge1xuICAgIGlmIChjaGFuZ2VzLnBvaW50ICYmICFjaGFuZ2VzLnBvaW50LmlzRmlyc3RDaGFuZ2UoKSkge1xuICAgICAgdGhpcy5tYXJrZXIuc2V0UG9zaXRpb24odG9Qb2ludChjaGFuZ2VzLnBvaW50LmN1cnJlbnRWYWx1ZSkpXG4gICAgfVxuICAgIGlmIChjaGFuZ2VzLm9wdGlvbnMgJiYgIWNoYW5nZXMub3B0aW9ucy5pc0ZpcnN0Q2hhbmdlKCkpIHtcbiAgICAgIHRoaXMuc2V0T3B0aW9ucyhjaGFuZ2VzLm9wdGlvbnMuY3VycmVudFZhbHVlKVxuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBuZ09uRGVzdHJveSgpIHtcbiAgICB0aGlzLl9zZXJ2aWNlLnJlbW92ZU92ZXJsYXkodGhpcy5tYXJrZXIpXG4gIH1cblxuICBwcml2YXRlIHNldE9wdGlvbnMob3B0aW9uczogTWFya2VyT3B0aW9ucyk6IHZvaWQge1xuICAgIGlmIChpc051bGwob3B0aW9ucykpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBpZiAoIWlzTnVsbChvcHRpb25zLm9mZnNldCkpIHtcbiAgICAgIHRoaXMubWFya2VyLnNldE9mZnNldCh0b1NpemUob3B0aW9ucy5vZmZzZXQpKVxuICAgIH1cbiAgICBpZiAoIWlzTnVsbChvcHRpb25zLmljb24pKSB7XG4gICAgICB0aGlzLm1hcmtlci5zZXRJY29uKHRvSWNvbihvcHRpb25zLmljb24uaW1hZ2VVcmwsIG9wdGlvbnMuaWNvbi5zaXplLCBvcHRpb25zLmljb24pKVxuICAgIH1cbiAgICBpZiAoIWlzTnVsbChvcHRpb25zLmVuYWJsZU1hc3NDbGVhcikpIHtcbiAgICAgIHRoaXMubWFya2VyWyhvcHRpb25zLmVuYWJsZU1hc3NDbGVhciA/ICdlbmFibGUnIDogJ2Rpc2FibGUnKSArICdNYXNzQ2xlYXInXSgpXG4gICAgfVxuICAgIGlmICghaXNOdWxsKG9wdGlvbnMuZW5hYmxlRHJhZ2dpbmcpKSB7XG4gICAgICB0aGlzLm1hcmtlclsob3B0aW9ucy5lbmFibGVEcmFnZ2luZyA/ICdlbmFibGUnIDogJ2Rpc2FibGUnKSArICdEcmFnZ2luZyddKClcbiAgICB9XG4gICAgaWYgKCFpc051bGwob3B0aW9ucy5yb3RhdGlvbikpIHtcbiAgICAgIHRoaXMubWFya2VyLnNldFJvdGF0aW9uKG9wdGlvbnMucm90YXRpb24pXG4gICAgfVxuICAgIGlmICghaXNOdWxsKG9wdGlvbnMuc2hhZG93KSkge1xuICAgICAgdGhpcy5tYXJrZXIuc2V0U2hhZG93KHRvSWNvbihvcHRpb25zLnNoYWRvdy5pbWFnZVVybCwgb3B0aW9ucy5zaGFkb3cuc2l6ZSwgb3B0aW9ucy5zaGFkb3cpKVxuICAgIH1cbiAgICBpZiAoIWlzTnVsbChvcHRpb25zLnRpdGxlKSkge1xuICAgICAgdGhpcy5tYXJrZXIuc2V0VGl0bGUob3B0aW9ucy50aXRsZSlcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFkZExpc3RlbmVyKG1hcmtlcjogQk1hcmtlciwgbWFwOiBCTWFwSW5zdGFuY2UpIHtcbiAgICBtYXJrZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZTogYW55KSA9PiB7XG4gICAgICB0aGlzLmNsaWNrZWQuZW1pdCh7XG4gICAgICAgIGUsXG4gICAgICAgIG1hcCxcbiAgICAgICAgbWFya2VyXG4gICAgICB9KVxuICAgIH0pXG4gIH1cbn1cbiIsImltcG9ydCB7XG4gIERpcmVjdGl2ZSxcbiAgRXZlbnRFbWl0dGVyLFxuICBJbnB1dCxcbiAgT25DaGFuZ2VzLFxuICBPbkRlc3Ryb3ksXG4gIE9uSW5pdCxcbiAgT3V0cHV0LFxuICBTaW1wbGVDaGFuZ2Vcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSdcblxuaW1wb3J0IHsgaXNOdWxsLCBpc1VuZGVmaW5lZCB9IGZyb20gJy4uL2hlbHBlcnMvb2JqZWN0J1xuaW1wb3J0IHsgdG9Qb2ludHMgfSBmcm9tICcuLi9oZWxwZXJzL3RyYW5zZm9ybWVyJ1xuaW1wb3J0IHsgbnVsbENoZWNrIH0gZnJvbSAnLi4vaGVscGVycy92YWxpZGF0ZSdcbmltcG9ydCB7IE1hcFNlcnZpY2UgfSBmcm9tICcuLi9wcm92aWRlcnMvbWFwU2VydmljZSdcbmltcG9ydCB7IEJQb2x5bGluZSwgUG9seWxpbmVPcHRpb25zIH0gZnJvbSAnLi4vdHlwZXMvUG9seWxpbmUnXG5pbXBvcnQgeyBQb2ludCB9IGZyb20gJy4uL3R5cGVzL1BvaW50J1xuXG5ARGlyZWN0aXZlKHtcbiAgc2VsZWN0b3I6ICdwb2x5bGluZSdcbn0pXG5leHBvcnQgY2xhc3MgUG9seWxpbmVDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uQ2hhbmdlcywgT25EZXN0cm95IHtcbiAgQElucHV0KCkgcHJpdmF0ZSBwb2ludHM6IEFycmF5PFBvaW50PlxuICBASW5wdXQoKSBwcml2YXRlIG9wdGlvbnM6IFBvbHlsaW5lT3B0aW9uc1xuXG4gIEBPdXRwdXQoKSBwcml2YXRlIGxvYWRlZCA9IG5ldyBFdmVudEVtaXR0ZXIoKVxuXG4gIHByaXZhdGUgcG9seWxpbmU6IEJQb2x5bGluZVxuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgX3NlcnZpY2U6IE1hcFNlcnZpY2UpIHt9XG5cbiAgcHVibGljIG5nT25Jbml0KCkge1xuICAgIG51bGxDaGVjayh0aGlzLnBvaW50cywgJ3BvaW50cyBpcyByZXF1aXJlZCBmb3IgPHBvbHlsaW5lPicpXG5cbiAgICB0aGlzLl9zZXJ2aWNlXG4gICAgICAuYWRkT3ZlcmxheSgoKSA9PiB7XG4gICAgICAgIHJldHVybiAodGhpcy5wb2x5bGluZSA9IG5ldyB3aW5kb3cuQk1hcC5Qb2x5bGluZSh0b1BvaW50cyh0aGlzLnBvaW50cyksIHRoaXMub3B0aW9ucykpXG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICB0aGlzLmxvYWRlZC5lbWl0KHRoaXMucG9seWxpbmUpXG4gICAgICB9KVxuICB9XG5cbiAgcHVibGljIG5nT25DaGFuZ2VzKGNoYW5nZXM6IHsgW3Byb3BlcnR5TmFtZTogc3RyaW5nXTogU2ltcGxlQ2hhbmdlIH0pIHtcbiAgICBpZiAoY2hhbmdlcy5wb2ludHMgJiYgIWNoYW5nZXMucG9pbnRzLmlzRmlyc3RDaGFuZ2UoKSkge1xuICAgICAgdGhpcy5wb2x5bGluZS5zZXRQYXRoKHRvUG9pbnRzKGNoYW5nZXMucG9pbnRzLmN1cnJlbnRWYWx1ZSkpXG4gICAgfVxuICAgIGlmIChjaGFuZ2VzLm9wdGlvbnMgJiYgIWNoYW5nZXMub3B0aW9ucy5pc0ZpcnN0Q2hhbmdlKCkpIHtcbiAgICAgIHRoaXMuc2V0T3B0aW9ucyhjaGFuZ2VzLm9wdGlvbnMuY3VycmVudFZhbHVlKVxuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBuZ09uRGVzdHJveSgpIHtcbiAgICB0aGlzLl9zZXJ2aWNlLnJlbW92ZU92ZXJsYXkodGhpcy5wb2x5bGluZSlcbiAgfVxuXG4gIHByaXZhdGUgc2V0T3B0aW9ucyhvcHRpb25zOiBQb2x5bGluZU9wdGlvbnMpOiB2b2lkIHtcbiAgICBpZiAoaXNOdWxsKG9wdGlvbnMpKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChvcHRpb25zLmVuYWJsZUVkaXRpbmcpKSB7XG4gICAgICBpZiAob3B0aW9ucy5lbmFibGVFZGl0aW5nKSB7XG4gICAgICAgIHRoaXMucG9seWxpbmUuZW5hYmxlRWRpdGluZygpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnBvbHlsaW5lLmRpc2FibGVFZGl0aW5nKClcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChvcHRpb25zLmVuYWJsZU1hc3NDbGVhcikpIHtcbiAgICAgIGlmIChvcHRpb25zLmVuYWJsZUVkaXRpbmcpIHtcbiAgICAgICAgdGhpcy5wb2x5bGluZS5lbmFibGVNYXNzQ2xlYXIoKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5wb2x5bGluZS5kaXNhYmxlTWFzc0NsZWFyKClcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChvcHRpb25zLnN0cm9rZUNvbG9yKSkge1xuICAgICAgdGhpcy5wb2x5bGluZS5zZXRTdHJva2VDb2xvcihvcHRpb25zLnN0cm9rZUNvbG9yKVxuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKG9wdGlvbnMuc3Ryb2tlT3BhY2l0eSkpIHtcbiAgICAgIHRoaXMucG9seWxpbmUuc2V0U3Ryb2tlT3BhY2l0eShvcHRpb25zLnN0cm9rZU9wYWNpdHkpXG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQob3B0aW9ucy5zdHJva2VTdHlsZSkpIHtcbiAgICAgIHRoaXMucG9seWxpbmUuc2V0U3Ryb2tlU3R5bGUob3B0aW9ucy5zdHJva2VTdHlsZSlcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChvcHRpb25zLnN0cm9rZVdlaWdodCkpIHtcbiAgICAgIHRoaXMucG9seWxpbmUuc2V0U3Ryb2tlV2VpZ2h0KG9wdGlvbnMuc3Ryb2tlV2VpZ2h0KVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHtcbiAgRGlyZWN0aXZlLFxuICBFdmVudEVtaXR0ZXIsXG4gIElucHV0LFxuICBPbkNoYW5nZXMsXG4gIE9uRGVzdHJveSxcbiAgT25Jbml0LFxuICBPdXRwdXQsXG4gIFNpbXBsZUNoYW5nZVxufSBmcm9tICdAYW5ndWxhci9jb3JlJ1xuXG5pbXBvcnQgeyBpc051bGwsIGlzVW5kZWZpbmVkIH0gZnJvbSAnLi4vaGVscGVycy9vYmplY3QnXG5pbXBvcnQgeyB0b1BvaW50IH0gZnJvbSAnLi4vaGVscGVycy90cmFuc2Zvcm1lcidcbmltcG9ydCB7IG51bGxDaGVjayB9IGZyb20gJy4uL2hlbHBlcnMvdmFsaWRhdGUnXG5pbXBvcnQgeyBNYXBTZXJ2aWNlIH0gZnJvbSAnLi4vcHJvdmlkZXJzL21hcFNlcnZpY2UnXG5pbXBvcnQgeyBCQ2lyY2xlLCBDaXJjbGVPcHRpb25zIH0gZnJvbSAnLi4vdHlwZXMvQ2lyY2xlJ1xuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICcuLi90eXBlcy9Qb2ludCdcblxuQERpcmVjdGl2ZSh7XG4gIHNlbGVjdG9yOiAnY2lyY2xlJ1xufSlcbmV4cG9ydCBjbGFzcyBDaXJjbGVDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uQ2hhbmdlcywgT25EZXN0cm95IHtcbiAgQElucHV0KCkgcHJpdmF0ZSBjZW50ZXI6IFBvaW50XG4gIEBJbnB1dCgpIHByaXZhdGUgcmFkaXVzOiBudW1iZXJcbiAgQElucHV0KCkgcHJpdmF0ZSBvcHRpb25zOiBDaXJjbGVPcHRpb25zXG5cbiAgQE91dHB1dCgpIHByaXZhdGUgbG9hZGVkID0gbmV3IEV2ZW50RW1pdHRlcigpXG5cbiAgcHJpdmF0ZSBjaXJjbGU6IEJDaXJjbGVcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9zZXJ2aWNlOiBNYXBTZXJ2aWNlKSB7fVxuXG4gIHB1YmxpYyBuZ09uSW5pdCgpIHtcbiAgICBudWxsQ2hlY2sodGhpcy5jZW50ZXIsICdjZW50ZXIgaXMgcmVxdWlyZWQgZm9yIDxjaXJjbGU+JylcbiAgICBudWxsQ2hlY2sodGhpcy5yYWRpdXMsICdjZW50ZXIgaXMgcmVxdWlyZWQgZm9yIDxjaXJjbGU+JylcblxuICAgIHRoaXMuX3NlcnZpY2VcbiAgICAgIC5hZGRPdmVybGF5KCgpID0+IHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmNpcmNsZSA9IG5ldyB3aW5kb3cuQk1hcC5DaXJjbGUodG9Qb2ludCh0aGlzLmNlbnRlciksIHRoaXMucmFkaXVzLCB0aGlzLm9wdGlvbnMpKVxuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgdGhpcy5sb2FkZWQuZW1pdCh0aGlzLmNpcmNsZSlcbiAgICAgIH0pXG4gIH1cblxuICBwdWJsaWMgbmdPbkNoYW5nZXMoY2hhbmdlczogeyBbcHJvcGVydHlOYW1lOiBzdHJpbmddOiBTaW1wbGVDaGFuZ2UgfSkge1xuICAgIGlmIChjaGFuZ2VzLmNlbnRlciAmJiAhY2hhbmdlcy5jZW50ZXIuaXNGaXJzdENoYW5nZSgpKSB7XG4gICAgICB0aGlzLmNpcmNsZS5zZXRDZW50ZXIodG9Qb2ludChjaGFuZ2VzLmNlbnRlci5jdXJyZW50VmFsdWUpKVxuICAgIH1cbiAgICBpZiAoY2hhbmdlcy5yYWRpdXMgJiYgIWNoYW5nZXMucmFkaXVzLmlzRmlyc3RDaGFuZ2UoKSkge1xuICAgICAgdGhpcy5jaXJjbGUuc2V0UmFkaXVzKGNoYW5nZXMucmFkaXVzLmN1cnJlbnRWYWx1ZSlcbiAgICB9XG4gICAgaWYgKGNoYW5nZXMub3B0aW9ucyAmJiAhY2hhbmdlcy5vcHRpb25zLmlzRmlyc3RDaGFuZ2UoKSkge1xuICAgICAgdGhpcy5zZXRPcHRpb25zKGNoYW5nZXMub3B0aW9ucy5jdXJyZW50VmFsdWUpXG4gICAgfVxuICB9XG5cbiAgcHVibGljIG5nT25EZXN0cm95KCkge1xuICAgIHRoaXMuX3NlcnZpY2UucmVtb3ZlT3ZlcmxheSh0aGlzLmNpcmNsZSlcbiAgfVxuXG4gIHByaXZhdGUgc2V0T3B0aW9ucyhvcHRpb25zOiBDaXJjbGVPcHRpb25zKTogdm9pZCB7XG4gICAgaWYgKGlzTnVsbChvcHRpb25zKSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQob3B0aW9ucy5lbmFibGVFZGl0aW5nKSkge1xuICAgICAgaWYgKG9wdGlvbnMuZW5hYmxlRWRpdGluZykge1xuICAgICAgICB0aGlzLmNpcmNsZS5lbmFibGVFZGl0aW5nKClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY2lyY2xlLmRpc2FibGVFZGl0aW5nKClcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChvcHRpb25zLmVuYWJsZU1hc3NDbGVhcikpIHtcbiAgICAgIGlmIChvcHRpb25zLmVuYWJsZUVkaXRpbmcpIHtcbiAgICAgICAgdGhpcy5jaXJjbGUuZW5hYmxlTWFzc0NsZWFyKClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY2lyY2xlLmRpc2FibGVNYXNzQ2xlYXIoKVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKG9wdGlvbnMuc3Ryb2tlQ29sb3IpKSB7XG4gICAgICB0aGlzLmNpcmNsZS5zZXRTdHJva2VDb2xvcihvcHRpb25zLnN0cm9rZUNvbG9yKVxuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKG9wdGlvbnMuZmlsbENvbG9yKSkge1xuICAgICAgdGhpcy5jaXJjbGUuc2V0RmlsbENvbG9yKG9wdGlvbnMuZmlsbENvbG9yKVxuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKG9wdGlvbnMuc3Ryb2tlT3BhY2l0eSkpIHtcbiAgICAgIHRoaXMuY2lyY2xlLnNldFN0cm9rZU9wYWNpdHkob3B0aW9ucy5zdHJva2VPcGFjaXR5KVxuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKG9wdGlvbnMuZmlsbE9wYWNpdHkpKSB7XG4gICAgICB0aGlzLmNpcmNsZS5zZXRGaWxsT3BhY2l0eShvcHRpb25zLmZpbGxPcGFjaXR5KVxuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKG9wdGlvbnMuc3Ryb2tlU3R5bGUpKSB7XG4gICAgICB0aGlzLmNpcmNsZS5zZXRTdHJva2VTdHlsZShvcHRpb25zLnN0cm9rZVN0eWxlKVxuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKG9wdGlvbnMuc3Ryb2tlV2VpZ2h0KSkge1xuICAgICAgdGhpcy5jaXJjbGUuc2V0U3Ryb2tlV2VpZ2h0KG9wdGlvbnMuc3Ryb2tlV2VpZ2h0KVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHtcbiAgRGlyZWN0aXZlLFxuICBFdmVudEVtaXR0ZXIsXG4gIElucHV0LFxuICBPbkNoYW5nZXMsXG4gIE9uRGVzdHJveSxcbiAgT25Jbml0LFxuICBPdXRwdXQsXG4gIFNpbXBsZUNoYW5nZVxufSBmcm9tICdAYW5ndWxhci9jb3JlJ1xuXG5pbXBvcnQgeyBpc051bGwsIGlzVW5kZWZpbmVkIH0gZnJvbSAnLi4vaGVscGVycy9vYmplY3QnXG5pbXBvcnQgeyB0b1BvaW50cyB9IGZyb20gJy4uL2hlbHBlcnMvdHJhbnNmb3JtZXInXG5pbXBvcnQgeyBudWxsQ2hlY2sgfSBmcm9tICcuLi9oZWxwZXJzL3ZhbGlkYXRlJ1xuaW1wb3J0IHsgTWFwU2VydmljZSB9IGZyb20gJy4uL3Byb3ZpZGVycy9tYXBTZXJ2aWNlJ1xuaW1wb3J0IHsgQlBvbHlnb24sIFBvbHlnb25PcHRpb25zIH0gZnJvbSAnLi4vdHlwZXMvUG9seWdvbidcbmltcG9ydCB7IFBvaW50IH0gZnJvbSAnLi4vdHlwZXMvUG9pbnQnXG5cbkBEaXJlY3RpdmUoe1xuICBzZWxlY3RvcjogJ3BvbHlnb24nXG59KVxuZXhwb3J0IGNsYXNzIFBvbHlnb25Db21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uQ2hhbmdlcywgT25EZXN0cm95IHtcbiAgQElucHV0KCkgcHJpdmF0ZSBwb2ludHM6IEFycmF5PFBvaW50PlxuICBASW5wdXQoKSBwcml2YXRlIG9wdGlvbnM6IFBvbHlnb25PcHRpb25zXG5cbiAgQE91dHB1dCgpIHByaXZhdGUgbG9hZGVkID0gbmV3IEV2ZW50RW1pdHRlcigpXG5cbiAgcHJpdmF0ZSBwb2x5Z29uOiBCUG9seWdvblxuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgX3NlcnZpY2U6IE1hcFNlcnZpY2UpIHt9XG5cbiAgcHVibGljIG5nT25Jbml0KCkge1xuICAgIG51bGxDaGVjayh0aGlzLnBvaW50cywgJ3BvaW50cyBpcyByZXF1aXJlZCBmb3IgPHBvbHlnb24+JylcblxuICAgIHRoaXMuX3NlcnZpY2VcbiAgICAgIC5hZGRPdmVybGF5KCgpID0+IHtcbiAgICAgICAgcmV0dXJuICh0aGlzLnBvbHlnb24gPSBuZXcgd2luZG93LkJNYXAuUG9seWdvbih0b1BvaW50cyh0aGlzLnBvaW50cyksIHRoaXMub3B0aW9ucykpXG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICB0aGlzLmxvYWRlZC5lbWl0KHRoaXMucG9seWdvbilcbiAgICAgIH0pXG4gIH1cblxuICBwdWJsaWMgbmdPbkNoYW5nZXMoY2hhbmdlczogeyBbcHJvcGVydHlOYW1lOiBzdHJpbmddOiBTaW1wbGVDaGFuZ2UgfSkge1xuICAgIGlmIChjaGFuZ2VzLnBvaW50cyAmJiAhY2hhbmdlcy5wb2ludHMuaXNGaXJzdENoYW5nZSgpKSB7XG4gICAgICB0aGlzLnBvbHlnb24uc2V0UGF0aCh0b1BvaW50cyhjaGFuZ2VzLnBvaW50cy5jdXJyZW50VmFsdWUpKVxuICAgIH1cbiAgICBpZiAoY2hhbmdlcy5vcHRpb25zICYmICFjaGFuZ2VzLm9wdGlvbnMuaXNGaXJzdENoYW5nZSgpKSB7XG4gICAgICB0aGlzLnNldE9wdGlvbnMoY2hhbmdlcy5vcHRpb25zLmN1cnJlbnRWYWx1ZSlcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgbmdPbkRlc3Ryb3koKSB7XG4gICAgdGhpcy5fc2VydmljZS5yZW1vdmVPdmVybGF5KHRoaXMucG9seWdvbilcbiAgfVxuXG4gIHByaXZhdGUgc2V0T3B0aW9ucyhvcHRpb25zOiBQb2x5Z29uT3B0aW9ucyk6IHZvaWQge1xuICAgIGlmIChpc051bGwob3B0aW9ucykpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKG9wdGlvbnMuZW5hYmxlRWRpdGluZykpIHtcbiAgICAgIGlmIChvcHRpb25zLmVuYWJsZUVkaXRpbmcpIHtcbiAgICAgICAgdGhpcy5wb2x5Z29uLmVuYWJsZUVkaXRpbmcoKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5wb2x5Z29uLmRpc2FibGVFZGl0aW5nKClcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChvcHRpb25zLmVuYWJsZU1hc3NDbGVhcikpIHtcbiAgICAgIGlmIChvcHRpb25zLmVuYWJsZUVkaXRpbmcpIHtcbiAgICAgICAgdGhpcy5wb2x5Z29uLmVuYWJsZU1hc3NDbGVhcigpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnBvbHlnb24uZGlzYWJsZU1hc3NDbGVhcigpXG4gICAgICB9XG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQob3B0aW9ucy5zdHJva2VDb2xvcikpIHtcbiAgICAgIHRoaXMucG9seWdvbi5zZXRTdHJva2VDb2xvcihvcHRpb25zLnN0cm9rZUNvbG9yKVxuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKG9wdGlvbnMuZmlsbENvbG9yKSkge1xuICAgICAgdGhpcy5wb2x5Z29uLnNldEZpbGxDb2xvcihvcHRpb25zLmZpbGxDb2xvcilcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChvcHRpb25zLnN0cm9rZU9wYWNpdHkpKSB7XG4gICAgICB0aGlzLnBvbHlnb24uc2V0U3Ryb2tlT3BhY2l0eShvcHRpb25zLnN0cm9rZU9wYWNpdHkpXG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQob3B0aW9ucy5maWxsT3BhY2l0eSkpIHtcbiAgICAgIHRoaXMucG9seWdvbi5zZXRGaWxsT3BhY2l0eShvcHRpb25zLmZpbGxPcGFjaXR5KVxuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKG9wdGlvbnMuc3Ryb2tlU3R5bGUpKSB7XG4gICAgICB0aGlzLnBvbHlnb24uc2V0U3Ryb2tlU3R5bGUob3B0aW9ucy5zdHJva2VTdHlsZSlcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChvcHRpb25zLnN0cm9rZVdlaWdodCkpIHtcbiAgICAgIHRoaXMucG9seWdvbi5zZXRTdHJva2VXZWlnaHQob3B0aW9ucy5zdHJva2VXZWlnaHQpXG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQge1xuICBEaXJlY3RpdmUsXG4gIEV2ZW50RW1pdHRlcixcbiAgSW5wdXQsXG4gIE9uQ2hhbmdlcyxcbiAgT25EZXN0cm95LFxuICBPbkluaXQsXG4gIE91dHB1dCxcbiAgU2ltcGxlQ2hhbmdlXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnXG5cbmltcG9ydCB7IG51bGxDaGVjayB9IGZyb20gJy4uL2hlbHBlcnMvdmFsaWRhdGUnXG5pbXBvcnQgeyBNYXBTZXJ2aWNlIH0gZnJvbSAnLi4vcHJvdmlkZXJzL21hcFNlcnZpY2UnXG5pbXBvcnQgeyBCSGVhdG1hcCwgSGVhdG1hcE9wdGlvbnMsIEhlYXRtYXBEYXRhIH0gZnJvbSAnLi4vdHlwZXMvSGVhdG1hcCdcbmltcG9ydCB7IFNjcmlwdExvYWRlciB9IGZyb20gJy4uL3Byb3ZpZGVycy9zY3JpcHRMb2FkZXInXG5cbmNvbnN0IExJQl9VUkwgPSBgaHR0cHM6Ly9hcGkubWFwLmJhaWR1LmNvbS9saWJyYXJ5L0hlYXRtYXAvMi4wL3NyYy9IZWF0bWFwX21pbi5qc2BcblxuQERpcmVjdGl2ZSh7XG4gIHNlbGVjdG9yOiAnaGVhdG1hcCdcbn0pXG5leHBvcnQgY2xhc3MgSGVhdG1hcENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25DaGFuZ2VzLCBPbkRlc3Ryb3kge1xuICBASW5wdXQoKSBwcml2YXRlIGRhdGFzZXQ6IEhlYXRtYXBEYXRhXG4gIEBJbnB1dCgpIHByaXZhdGUgb3B0aW9uczogSGVhdG1hcE9wdGlvbnNcblxuICBAT3V0cHV0KCkgcHJpdmF0ZSBsb2FkZWQgPSBuZXcgRXZlbnRFbWl0dGVyKClcblxuICBwcml2YXRlIGhlYXRtYXA6IEJIZWF0bWFwXG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBfc2VydmljZTogTWFwU2VydmljZSwgcHJpdmF0ZSBzY3JpcHRMb2FkZXI6IFNjcmlwdExvYWRlcikge31cblxuICBwdWJsaWMgbmdPbkluaXQoKSB7XG4gICAgbnVsbENoZWNrKHRoaXMuZGF0YXNldCwgJ2RhdGFzZXQgaXMgcmVxdWlyZWQgZm9yIDxoZWF0bWFwPicpXG5cbiAgICB0aGlzLl9zZXJ2aWNlLmdldE5hdGl2ZU1hcCgpLnRoZW4oKCkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuc2NyaXB0TG9hZGVyLmxvYWQoTElCX1VSTCwgZmFsc2UsICgpID0+IHtcbiAgICAgICAgdGhpcy5fc2VydmljZVxuICAgICAgICAgIC5hZGRPdmVybGF5KCgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5oZWF0bWFwID0gbmV3IHdpbmRvdy5CTWFwTGliLkhlYXRtYXBPdmVybGF5KHRoaXMub3B0aW9ucykpXG4gICAgICAgICAgfSlcbiAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmxvYWRlZC5lbWl0KHRoaXMuaGVhdG1hcClcbiAgICAgICAgICAgIGlmICh0aGlzLmRhdGFzZXQpIHtcbiAgICAgICAgICAgICAgdGhpcy5oZWF0bWFwLnNldERhdGFTZXQodGhpcy5kYXRhc2V0KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBwdWJsaWMgbmdPbkNoYW5nZXMoY2hhbmdlczogeyBbcHJvcGVydHlOYW1lOiBzdHJpbmddOiBTaW1wbGVDaGFuZ2UgfSkge1xuICAgIGlmIChjaGFuZ2VzLmRhdGFzZXQgJiYgIWNoYW5nZXMuZGF0YXNldC5pc0ZpcnN0Q2hhbmdlKCkpIHtcbiAgICAgIHRoaXMuaGVhdG1hcC5zZXREYXRhU2V0KGNoYW5nZXMuZGF0YXNldC5jdXJyZW50VmFsdWUpXG4gICAgfVxuICAgIGlmIChjaGFuZ2VzLm9wdGlvbnMgJiYgIWNoYW5nZXMub3B0aW9ucy5pc0ZpcnN0Q2hhbmdlKCkpIHtcbiAgICAgIHRoaXMuaGVhdG1hcC5zZXRPcHRpb25zKGNoYW5nZXMub3B0aW9ucy5jdXJyZW50VmFsdWUpXG4gICAgfVxuICB9XG5cbiAgcHVibGljIG5nT25EZXN0cm95KCkge1xuICAgIHRoaXMuX3NlcnZpY2UucmVtb3ZlT3ZlcmxheSh0aGlzLmhlYXRtYXApXG4gIH1cbn1cbiIsImltcG9ydCB7IERpcmVjdGl2ZSwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT25EZXN0cm95LCBPbkluaXQsIE91dHB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnXG5cbmltcG9ydCB7IE1hcFNlcnZpY2UgfSBmcm9tICcuLi9wcm92aWRlcnMvbWFwU2VydmljZSdcbmltcG9ydCB7IEJUaWxlTGF5ZXIsIFRpbGVMYXllck9wdGlvbnMsIGdldFRpbGVzVXJsRnVuYyB9IGZyb20gJy4uL3R5cGVzL1RpbGVMYXllcidcbmltcG9ydCB7IEJQaXhlbCB9IGZyb20gJy4uL3R5cGVzL1BpeGVsJ1xuXG5ARGlyZWN0aXZlKHtcbiAgc2VsZWN0b3I6ICd0aWxlbGF5ZXInXG59KVxuZXhwb3J0IGNsYXNzIFRpbGVMYXlkZXJDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uRGVzdHJveSB7XG4gIEBJbnB1dCgpIHByaXZhdGUgZ2V0VGlsZXNVcmw6IGdldFRpbGVzVXJsRnVuY1xuICBASW5wdXQoKSBwcml2YXRlIG9wdGlvbnM6IFRpbGVMYXllck9wdGlvbnNcblxuICBAT3V0cHV0KCkgcHJpdmF0ZSBsb2FkZWQgPSBuZXcgRXZlbnRFbWl0dGVyKClcblxuICBwcml2YXRlIHRpbGVsYXllcjogQlRpbGVMYXllclxuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgX3NlcnZpY2U6IE1hcFNlcnZpY2UpIHt9XG5cbiAgcHVibGljIG5nT25Jbml0KCkge1xuICAgIGNvbnN0IGZ1bmMgPSB0aGlzLmdldFRpbGVzVXJsXG5cbiAgICB0aGlzLl9zZXJ2aWNlXG4gICAgICAuYWRkVGlsZUxheWVyKCgpID0+IHtcbiAgICAgICAgdGhpcy50aWxlbGF5ZXIgPSBuZXcgd2luZG93LkJNYXAuVGlsZUxheWVyKHRoaXMub3B0aW9ucylcblxuICAgICAgICBpZiAodGhpcy5nZXRUaWxlc1VybCkge1xuICAgICAgICAgIHRoaXMudGlsZWxheWVyLmdldFRpbGVzVXJsID0gZnVuY3Rpb24odGlsZUNvb3JkOiBCUGl4ZWwsIHpvb206IG51bWJlcikge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmModGlsZUNvb3JkLCB6b29tKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy50aWxlbGF5ZXJcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIHRoaXMubG9hZGVkLmVtaXQodGhpcy50aWxlbGF5ZXIpXG4gICAgICB9KVxuICB9XG5cbiAgcHVibGljIG5nT25EZXN0cm95KCkge1xuICAgIHRoaXMuX3NlcnZpY2UucmVtb3ZlVGlsZUxheWVyKHRoaXMudGlsZWxheWVyKVxuICB9XG59XG4iLCJpbXBvcnQgeyBEaXJlY3RpdmUsIEV2ZW50RW1pdHRlciwgSW5wdXQsIE9uRGVzdHJveSwgT25Jbml0LCBPdXRwdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJ1xuXG5pbXBvcnQgeyBNYXBTZXJ2aWNlIH0gZnJvbSAnLi4vcHJvdmlkZXJzL21hcFNlcnZpY2UnXG5pbXBvcnQgeyBCVHJhZmZpY0xheWVyLCBUcmFmZmljTGF5ZXJPcHRpb25zIH0gZnJvbSAnLi4vdHlwZXMvVHJhZmZpY0xheWVyJ1xuXG5ARGlyZWN0aXZlKHtcbiAgc2VsZWN0b3I6ICd0cmFmZmljbGF5ZXInXG59KVxuZXhwb3J0IGNsYXNzIFRyYWZmaWNMYXlkZXJDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uRGVzdHJveSB7XG4gIEBJbnB1dCgpIHByaXZhdGUgb3B0aW9uczogVHJhZmZpY0xheWVyT3B0aW9uc1xuXG4gIEBPdXRwdXQoKSBwcml2YXRlIGxvYWRlZCA9IG5ldyBFdmVudEVtaXR0ZXIoKVxuXG4gIHByaXZhdGUgdHJhZmZpY2xheWVyOiBCVHJhZmZpY0xheWVyXG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBfc2VydmljZTogTWFwU2VydmljZSkge31cblxuICBwdWJsaWMgbmdPbkluaXQoKSB7XG4gICAgdGhpcy5fc2VydmljZVxuICAgICAgLmFkZFRpbGVMYXllcigoKSA9PiB7XG4gICAgICAgIHRoaXMudHJhZmZpY2xheWVyID0gbmV3IHdpbmRvdy5CTWFwLlRyYWZmaWNMYXllcih0aGlzLm9wdGlvbnMpXG4gICAgICAgIHJldHVybiB0aGlzLnRyYWZmaWNsYXllclxuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgdGhpcy5sb2FkZWQuZW1pdCh0aGlzLnRyYWZmaWNsYXllcilcbiAgICAgIH0pXG4gIH1cblxuICBwdWJsaWMgbmdPbkRlc3Ryb3koKSB7XG4gICAgdGhpcy5fc2VydmljZS5yZW1vdmVUaWxlTGF5ZXIodGhpcy50cmFmZmljbGF5ZXIpXG4gIH1cbn1cbiIsImltcG9ydCB7XG4gIERpcmVjdGl2ZSxcbiAgRXZlbnRFbWl0dGVyLFxuICBJbnB1dCxcbiAgT25DaGFuZ2VzLFxuICBPbkRlc3Ryb3ksXG4gIE9uSW5pdCxcbiAgT3V0cHV0LFxuICBTaW1wbGVDaGFuZ2Vcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSdcblxuaW1wb3J0IHsgbnVsbENoZWNrIH0gZnJvbSAnLi4vaGVscGVycy92YWxpZGF0ZSdcbmltcG9ydCB7IGlzVW5kZWZpbmVkIH0gZnJvbSAnLi4vaGVscGVycy9vYmplY3QnXG5pbXBvcnQgeyB0b01hcmtlckNsdXN0ZXJlck9wdGlvbnMsIHRvUG9pbnQsIHRvTWFya2VyT3B0aW9ucywgdG9UZXh0SWNvblN0eWxlIH0gZnJvbSAnLi4vaGVscGVycy90cmFuc2Zvcm1lcidcbmltcG9ydCB7IE1hcFNlcnZpY2UgfSBmcm9tICcuLi9wcm92aWRlcnMvbWFwU2VydmljZSdcbmltcG9ydCB7IE1hcmtlckNsdXN0ZXJlck9wdGlvbnMsIEJNYXJrZXJDbHVzdGVyZXIgfSBmcm9tICcuLi90eXBlcy9NYXJrZXJDbHVzdGVyZXInXG5pbXBvcnQgeyBTY3JpcHRMb2FkZXIgfSBmcm9tICcuLi9wcm92aWRlcnMvc2NyaXB0TG9hZGVyJ1xuaW1wb3J0IHsgQk1hcEluc3RhbmNlIH0gZnJvbSAnLi4vdHlwZXMvTWFwJ1xuXG5jb25zdCBMSUJfVVJMUyA9IHtcbiAga2V5OiAnbWFya2VyQ2x1c3RlcmVyJyxcbiAgc2NyaXB0czogW1xuICAgICdodHRwczovL2FwaS5tYXAuYmFpZHUuY29tL2xpYnJhcnkvTWFya2VyQ2x1c3RlcmVyLzEuMi9zcmMvTWFya2VyQ2x1c3RlcmVyX21pbi5qcycsXG4gICAgJ2h0dHBzOi8vYXBpLm1hcC5iYWlkdS5jb20vbGlicmFyeS9UZXh0SWNvbk92ZXJsYXkvMS4yL3NyYy9UZXh0SWNvbk92ZXJsYXlfbWluLmpzJ1xuICBdXG59XG5cbkBEaXJlY3RpdmUoe1xuICBzZWxlY3RvcjogJ21hcmtlci1jbHVzdGVyZXInXG59KVxuZXhwb3J0IGNsYXNzIE1hcmtlckNsdXN0ZXJlckNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25DaGFuZ2VzLCBPbkRlc3Ryb3kge1xuICBASW5wdXQoKSBwcml2YXRlIG9wdGlvbnM6IE1hcmtlckNsdXN0ZXJlck9wdGlvbnNcblxuICBAT3V0cHV0KCkgcHJpdmF0ZSBsb2FkZWQgPSBuZXcgRXZlbnRFbWl0dGVyKClcblxuICBwcml2YXRlIG1hcmtlckNsdXN0ZXJlcjogQk1hcmtlckNsdXN0ZXJlclxuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgX3NlcnZpY2U6IE1hcFNlcnZpY2UsIHByaXZhdGUgc2NyaXB0TG9hZGVyOiBTY3JpcHRMb2FkZXIpIHt9XG5cbiAgcHVibGljIG5nT25Jbml0KCkge1xuICAgIG51bGxDaGVjayh0aGlzLm9wdGlvbnMsICdvcHRpb25zIGlzIHJlcXVpcmVkIGZvciA8bWFya2VyLWNsdXN0ZXJlcj4nKVxuXG4gICAgdGhpcy5fc2VydmljZS5nZXROYXRpdmVNYXAoKS50aGVuKChtYXA6IEJNYXBJbnN0YW5jZSkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuc2NyaXB0TG9hZGVyLmxvYWQoTElCX1VSTFMsIGZhbHNlLCAoKSA9PiB7XG4gICAgICAgIHRoaXMubWFya2VyQ2x1c3RlcmVyID0gbmV3IHdpbmRvdy5CTWFwTGliLk1hcmtlckNsdXN0ZXJlcihtYXAsIHRvTWFya2VyQ2x1c3RlcmVyT3B0aW9ucyh0aGlzLm9wdGlvbnMpKVxuXG4gICAgICAgIHRoaXMubG9hZGVkLmVtaXQodGhpcy5tYXJrZXJDbHVzdGVyZXIpXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBwdWJsaWMgbmdPbkNoYW5nZXMoY2hhbmdlczogeyBbcHJvcGVydHlOYW1lOiBzdHJpbmddOiBTaW1wbGVDaGFuZ2UgfSkge1xuICAgIGlmIChjaGFuZ2VzLm9wdGlvbnMgJiYgIWNoYW5nZXMub3B0aW9ucy5pc0ZpcnN0Q2hhbmdlKCkpIHtcbiAgICAgIHRoaXMucmVzZXRPcHRpb25zKGNoYW5nZXMub3B0aW9ucy5jdXJyZW50VmFsdWUpXG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSByZXNldE9wdGlvbnMob3B0aW9uczogTWFya2VyQ2x1c3RlcmVyT3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zLm1hcmtlcnMpIHtcbiAgICAgIHRoaXMubWFya2VyQ2x1c3RlcmVyLmNsZWFyTWFya2VycygpXG4gICAgICB0aGlzLm1hcmtlckNsdXN0ZXJlci5hZGRNYXJrZXJzKFxuICAgICAgICBvcHRpb25zLm1hcmtlcnMubWFwKG0gPT4gbmV3IHdpbmRvdy5CTWFwLk1hcmtlcih0b1BvaW50KG0ucG9pbnQpLCB0b01hcmtlck9wdGlvbnMobS5vcHRpb25zKSkpXG4gICAgICApXG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQob3B0aW9ucy5naXJkU2l6ZSkpIHtcbiAgICAgIHRoaXMubWFya2VyQ2x1c3RlcmVyLnNldEdyaWRTaXplKG9wdGlvbnMuZ2lyZFNpemUpXG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQob3B0aW9ucy5tYXhab29tKSkge1xuICAgICAgdGhpcy5tYXJrZXJDbHVzdGVyZXIuc2V0TWF4Wm9vbShvcHRpb25zLm1heFpvb20pXG4gICAgfVxuICAgIGlmIChvcHRpb25zLnN0eWxlcykge1xuICAgICAgdGhpcy5tYXJrZXJDbHVzdGVyZXIuc2V0U3R5bGVzKG9wdGlvbnMuc3R5bGVzLmZpbHRlcihzID0+IHMpLm1hcChzID0+IHRvVGV4dEljb25TdHlsZShzKSkpXG4gICAgfVxuICB9XG5cbiAgcHVibGljIG5nT25EZXN0cm95KCkge1xuICAgIHRoaXMubWFya2VyQ2x1c3RlcmVyLmNsZWFyTWFya2VycygpXG4gIH1cbn1cbiIsImltcG9ydCB7IEJJY29uLCBJY29uIH0gZnJvbSAnLi9JY29uJ1xuaW1wb3J0IHsgQlNpemUsIFNpemUgfSBmcm9tICcuL1NpemUnXG5cbmV4cG9ydCBpbnRlcmZhY2UgQkNvbnRyb2xDb25zdHJ1Y3RvciB7XG4gIG5ldyAob3B0czogYW55KTogQkNvbnRyb2xcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCQ29udHJvbCB7fVxuXG5leHBvcnQgaW50ZXJmYWNlIEJOYXZpZ2F0aW9uQ29udHJvbENvbnN0cnVjdG9yIGV4dGVuZHMgQkNvbnRyb2xDb25zdHJ1Y3RvciB7XG4gIG5ldyAob3B0czogQk5hdmlnYXRpb25Db250cm9sT3B0aW9ucyk6IEJOYXZpZ2F0aW9uQ29udHJvbFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJPdmVydmlld01hcENvbnRyb2xDb25zdHJ1Y3RvciBleHRlbmRzIEJDb250cm9sQ29uc3RydWN0b3Ige1xuICBuZXcgKG9wdHM6IEJPdmVydmlld01hcENvbnRyb2xPcHRpb25zKTogQk92ZXJ2aWV3TWFwQ29udHJvbFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJTY2FsZUNvbnRyb2xDb25zdHJ1Y3RvciBleHRlbmRzIEJDb250cm9sQ29uc3RydWN0b3Ige1xuICBuZXcgKG9wdHM6IEJTY2FsZUNvbnRyb2xPcHRpb25zKTogQlNjYWxlQ29udHJvbFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJNYXBUeXBlQ29udHJvbENvbnN0cnVjdG9yIGV4dGVuZHMgQkNvbnRyb2xDb25zdHJ1Y3RvciB7XG4gIG5ldyAob3B0czogQk1hcFR5cGVDb250cm9sT3B0aW9ucyk6IEJNYXBUeXBlQ29udHJvbFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJHZW9sb2NhdGlvbkNvbnN0cnVjdG9yIGV4dGVuZHMgQkNvbnRyb2xDb25zdHJ1Y3RvciB7XG4gIG5ldyAob3B0czogQkdlb2xvY2F0aW9uQ29udHJvbE9wdGlvbnMpOiBCR2VvbG9jYXRpb25Db250cm9sXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQlBhbm9yYW1hQ29udHJvbENvbnN0cnVjdG9yIGV4dGVuZHMgQkNvbnRyb2xDb25zdHJ1Y3RvciB7XG4gIG5ldyAoKTogQlBhbm9yYW1hQ29udHJvbENvbnRyb2xcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCTmF2aWdhdGlvbkNvbnRyb2wgZXh0ZW5kcyBCQ29udHJvbCB7XG4gIGdldFR5cGUoKTogTmF2aWdhdGlvbkNvbnRyb2xUeXBlXG4gIHNldFR5cGUodHlwZTogTmF2aWdhdGlvbkNvbnRyb2xUeXBlKTogdm9pZFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJPdmVydmlld01hcENvbnRyb2wgZXh0ZW5kcyBCQ29udHJvbCB7XG4gIGNoYW5nZVZpZXcoKTogdm9pZFxuICBzZXRTaXplKHNpemU6IEJTaXplKTogdm9pZFxuICBnZXRTaXplKCk6IEJTaXplXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQlNjYWxlQ29udHJvbCBleHRlbmRzIEJDb250cm9sIHtcbiAgZ2V0VW5pdCgpOiBMZW5ndGhVbml0XG4gIHNldFVuaXQodW5pdDogTGVuZ3RoVW5pdCk6IHZvaWRcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCTWFwVHlwZUNvbnRyb2wgZXh0ZW5kcyBCQ29udHJvbCB7fVxuXG5leHBvcnQgaW50ZXJmYWNlIEJHZW9sb2NhdGlvbkNvbnRyb2wgZXh0ZW5kcyBCQ29udHJvbCB7XG4gIGxvY2F0aW9uKCk6IHZvaWRcbiAgZ2V0QWRkcmVzc0NvbXBvbmVudCgpOiBBZGRyZXNzQ29tcG9uZW50XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQlBhbm9yYW1hQ29udHJvbENvbnRyb2wgZXh0ZW5kcyBCQ29udHJvbCB7fVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbnRyb2xPcHRpb25zIHtcbiAgYW5jaG9yPzogQ29udHJvbEFuY2hvclxuICBvZmZzZXQ/OiBTaXplXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQkNvbnRyb2xPcHRpb25zIHtcbiAgYW5jaG9yPzogQ29udHJvbEFuY2hvclxuICBvZmZzZXQ/OiBCU2l6ZVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIE5hdmlnYXRpb25Db250cm9sT3B0aW9ucyBleHRlbmRzIENvbnRyb2xPcHRpb25zIHtcbiAgdHlwZT86IE5hdmlnYXRpb25Db250cm9sVHlwZVxuICBzaG93Wm9vbUluZm8/OiBib29sZWFuXG4gIGVuYWJsZUdlb2xvY2F0aW9uPzogYm9vbGVhblxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJOYXZpZ2F0aW9uQ29udHJvbE9wdGlvbnMgZXh0ZW5kcyBCQ29udHJvbE9wdGlvbnMge1xuICB0eXBlPzogTmF2aWdhdGlvbkNvbnRyb2xUeXBlXG4gIHNob3dab29tSW5mbz86IGJvb2xlYW5cbiAgZW5hYmxlR2VvbG9jYXRpb24/OiBib29sZWFuXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgT3ZlcnZpZXdNYXBDb250cm9sT3B0aW9ucyBleHRlbmRzIENvbnRyb2xPcHRpb25zIHtcbiAgc2l6ZT86IFNpemVcbiAgaXNPcGVuPzogYm9vbGVhblxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJPdmVydmlld01hcENvbnRyb2xPcHRpb25zIGV4dGVuZHMgQkNvbnRyb2xPcHRpb25zIHtcbiAgc2l6ZT86IEJTaXplXG4gIGlzT3Blbj86IGJvb2xlYW5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBTY2FsZUNvbnRyb2xPcHRpb25zIGV4dGVuZHMgQ29udHJvbE9wdGlvbnMge31cblxuZXhwb3J0IGludGVyZmFjZSBCU2NhbGVDb250cm9sT3B0aW9ucyBleHRlbmRzIEJDb250cm9sT3B0aW9ucyB7fVxuXG5leHBvcnQgaW50ZXJmYWNlIE1hcFR5cGVDb250cm9sT3B0aW9ucyB7XG4gIHR5cGU/OiBNYXBUeXBlQ29udHJvbFR5cGVcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCTWFwVHlwZUNvbnRyb2xPcHRpb25zIHtcbiAgdHlwZT86IE1hcFR5cGVDb250cm9sVHlwZVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdlb2xvY2F0aW9uQ29udHJvbE9wdGlvbnMgZXh0ZW5kcyBDb250cm9sT3B0aW9ucyB7XG4gIHNob3dBZGRyZXNzQmFyPzogYm9vbGVhblxuICBlbmFibGVBdXRvTG9jYXRpb24/OiBib29sZWFuXG4gIGxvY2F0aW9uSWNvbj86IEljb25cbn1cblxuZXhwb3J0IGludGVyZmFjZSBCR2VvbG9jYXRpb25Db250cm9sT3B0aW9ucyBleHRlbmRzIEJDb250cm9sT3B0aW9ucyB7XG4gIHNob3dBZGRyZXNzQmFyPzogYm9vbGVhblxuICBlbmFibGVBdXRvTG9jYXRpb24/OiBib29sZWFuXG4gIGxvY2F0aW9uSWNvbj86IEJJY29uXG59XG5cbmV4cG9ydCBlbnVtIENvbnRyb2xBbmNob3Ige1xuICBCTUFQX0FOQ0hPUl9UT1BfTEVGVCA9IDAsXG4gIEJNQVBfQU5DSE9SX1RPUF9SSUdIVCA9IDEsXG4gIEJNQVBfQU5DSE9SX0JPVFRPTV9MRUZUID0gMixcbiAgQk1BUF9BTkNIT1JfQk9UVE9NX1JJR0hUID0gM1xufVxuXG5leHBvcnQgZW51bSBOYXZpZ2F0aW9uQ29udHJvbFR5cGUge1xuICBCTUFQX05BVklHQVRJT05fQ09OVFJPTF9MQVJHRSA9IDAsXG4gIEJNQVBfTkFWSUdBVElPTl9DT05UUk9MX1NNQUxMID0gMSxcbiAgQk1BUF9OQVZJR0FUSU9OX0NPTlRST0xfUEFOID0gMixcbiAgQk1BUF9OQVZJR0FUSU9OX0NPTlRST0xfWk9PTSA9IDNcbn1cblxuZXhwb3J0IGVudW0gTWFwVHlwZUNvbnRyb2xUeXBlIHtcbiAgQk1BUF9NQVBUWVBFX0NPTlRST0xfSE9SSVpPTlRBTCA9IDAsXG4gIEJNQVBfTUFQVFlQRV9DT05UUk9MX0RST1BET1dOID0gMSxcbiAgQk1BUF9NQVBUWVBFX0NPTlRST0xfTUFQID0gMlxufVxuXG5leHBvcnQgZW51bSBMZW5ndGhVbml0IHtcbiAgQk1BUF9VTklUX01FVFJJQyA9ICdtZXRyaWMnLFxuICBCTUFQX1VOSVRfSU1QRVJJQUwgPSAndXMnXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQWRkcmVzc0NvbXBvbmVudCB7XG4gIHN0cmVldE51bWJlcjogc3RyaW5nXG4gIHN0cmVldDogc3RyaW5nXG4gIGRpc3RyaWN0OiBzdHJpbmdcbiAgY2l0eTogc3RyaW5nXG4gIHByb3ZpbmNlOiBzdHJpbmdcbn1cblxuZXhwb3J0IHR5cGUgQ29udHJvbFR5cGUgPSAnbmF2aWdhdGlvbicgfCAnb3ZlcnZpZXdtYXAnIHwgJ3NjYWxlJyB8ICdtYXB0eXBlJyB8ICdnZW9sb2NhdGlvbicgfCAncGFub3JhbWEnXG4iLCJpbXBvcnQgeyBNb2R1bGVXaXRoUHJvdmlkZXJzLCBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnXG5cbmltcG9ydCB7IENvbnRyb2xDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvY29udHJvbC5jb21wb25lbnQnXG5pbXBvcnQgeyBNYXBDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvbWFwLmNvbXBvbmVudCdcbmltcG9ydCB7IE1hcmtlckNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9tYXJrZXIuY29tcG9uZW50J1xuaW1wb3J0IHsgUG9seWxpbmVDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvcG9seWxpbmUuY29tcG9uZW50J1xuaW1wb3J0IHsgQ2lyY2xlQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL2NpcmNsZS5jb21wb25lbnQnXG5pbXBvcnQgeyBQb2x5Z29uQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL3BvbHlnb24uY29tcG9uZW50J1xuaW1wb3J0IHsgSGVhdG1hcENvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9oZWF0bWFwLmNvbXBvbmVudCdcbmltcG9ydCB7IFRpbGVMYXlkZXJDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvdGlsZWxheWVyLmNvbXBvbmVudCdcbmltcG9ydCB7IFRyYWZmaWNMYXlkZXJDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvdHJhZmZpY2xheWVyLmNvbXBvbmVudCdcbmltcG9ydCB7IE1hcmtlckNsdXN0ZXJlckNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9tYXJrZXJDbHVzdGVyZXIuY29tcG9uZW50J1xuaW1wb3J0IHsgTE9BRElOR19TVEFURSwgU2NyaXB0TG9hZGVyLCBTY3JpcHRMb2FkZXJDb25maWcgfSBmcm9tICcuL3Byb3ZpZGVycy9zY3JpcHRMb2FkZXInXG5cbmltcG9ydCB7IEJNYXAgfSBmcm9tICcuL3R5cGVzL0JNYXAnXG5pbXBvcnQgeyBCTWFwTGliIH0gZnJvbSAnLi90eXBlcy9CTWFwTGliJ1xuXG5ATmdNb2R1bGUoe1xuICBkZWNsYXJhdGlvbnM6IFtcbiAgICBNYXBDb21wb25lbnQsXG4gICAgTWFya2VyQ29tcG9uZW50LFxuICAgIENvbnRyb2xDb21wb25lbnQsXG4gICAgUG9seWxpbmVDb21wb25lbnQsXG4gICAgQ2lyY2xlQ29tcG9uZW50LFxuICAgIFBvbHlnb25Db21wb25lbnQsXG4gICAgSGVhdG1hcENvbXBvbmVudCxcbiAgICBUaWxlTGF5ZGVyQ29tcG9uZW50LFxuICAgIFRyYWZmaWNMYXlkZXJDb21wb25lbnQsXG4gICAgTWFya2VyQ2x1c3RlcmVyQ29tcG9uZW50XG4gIF0sXG4gIGV4cG9ydHM6IFtcbiAgICBNYXBDb21wb25lbnQsXG4gICAgTWFya2VyQ29tcG9uZW50LFxuICAgIENvbnRyb2xDb21wb25lbnQsXG4gICAgUG9seWxpbmVDb21wb25lbnQsXG4gICAgQ2lyY2xlQ29tcG9uZW50LFxuICAgIFBvbHlnb25Db21wb25lbnQsXG4gICAgSGVhdG1hcENvbXBvbmVudCxcbiAgICBUaWxlTGF5ZGVyQ29tcG9uZW50LFxuICAgIFRyYWZmaWNMYXlkZXJDb21wb25lbnQsXG4gICAgTWFya2VyQ2x1c3RlcmVyQ29tcG9uZW50XG4gIF1cbn0pXG5leHBvcnQgY2xhc3MgQmFpZHVNYXBNb2R1bGUge1xuICBwdWJsaWMgc3RhdGljIGZvclJvb3QoX2NvbmZpZz86IFNjcmlwdExvYWRlckNvbmZpZyk6IE1vZHVsZVdpdGhQcm92aWRlcnMge1xuICAgIHJldHVybiB7XG4gICAgICBuZ01vZHVsZTogQmFpZHVNYXBNb2R1bGUsXG4gICAgICBwcm92aWRlcnM6IFt7IHByb3ZpZGU6IFNjcmlwdExvYWRlckNvbmZpZywgdXNlVmFsdWU6IF9jb25maWcgfSwgU2NyaXB0TG9hZGVyXVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgeyBCTWFwSW5zdGFuY2UsIE1hcE9wdGlvbnMsIE1hcFR5cGVFbnVtIH0gZnJvbSAnLi90eXBlcy9NYXAnXG5leHBvcnQgeyBCTWFwVHlwZSB9IGZyb20gJy4vdHlwZXMvTWFwVHlwZSdcbmV4cG9ydCB7IEJQcm9qZWN0aW9uIH0gZnJvbSAnLi90eXBlcy9Qcm9qZWN0aW9uJ1xuZXhwb3J0IHsgUG9pbnQgfSBmcm9tICcuL3R5cGVzL1BvaW50J1xuZXhwb3J0IHsgQk1hcmtlciwgTWFya2VyLCBNYXJrZXJPcHRpb25zIH0gZnJvbSAnLi90eXBlcy9NYXJrZXInXG5leHBvcnQgeyBCUG9seWxpbmUsIFBvbHlsaW5lT3B0aW9ucyB9IGZyb20gJy4vdHlwZXMvUG9seWxpbmUnXG5leHBvcnQgeyBCQ2lyY2xlLCBDaXJjbGVPcHRpb25zIH0gZnJvbSAnLi90eXBlcy9DaXJjbGUnXG5leHBvcnQgeyBCUG9seWdvbiwgUG9seWdvbk9wdGlvbnMgfSBmcm9tICcuL3R5cGVzL1BvbHlnb24nXG5leHBvcnQgeyBCSGVhdG1hcCwgSGVhdG1hcE9wdGlvbnMsIEhlYXRtYXBEYXRhIH0gZnJvbSAnLi90eXBlcy9IZWF0bWFwJ1xuZXhwb3J0IHsgQlRpbGVMYXllciwgVGlsZUxheWVyT3B0aW9ucywgZ2V0VGlsZXNVcmxGdW5jIH0gZnJvbSAnLi90eXBlcy9UaWxlTGF5ZXInXG5leHBvcnQgeyBCVHJhZmZpY0xheWVyLCBUcmFmZmljTGF5ZXJPcHRpb25zLCBQcmVkaWN0RGF0ZSB9IGZyb20gJy4vdHlwZXMvVHJhZmZpY0xheWVyJ1xuZXhwb3J0IHsgQk1hcmtlckNsdXN0ZXJlciwgTWFya2VyQ2x1c3RlcmVyT3B0aW9ucyB9IGZyb20gJy4vdHlwZXMvTWFya2VyQ2x1c3RlcmVyJ1xuZXhwb3J0IHsgVGV4dEljb25TdHlsZSB9IGZyb20gJy4vdHlwZXMvVGV4dEljb25PdmVybGF5J1xuZXhwb3J0IHtcbiAgQkNvbnRyb2wsXG4gIEJOYXZpZ2F0aW9uQ29udHJvbCxcbiAgQk92ZXJ2aWV3TWFwQ29udHJvbCxcbiAgQlNjYWxlQ29udHJvbCxcbiAgQk1hcFR5cGVDb250cm9sLFxuICBCR2VvbG9jYXRpb25Db250cm9sLFxuICBCUGFub3JhbWFDb250cm9sQ29udHJvbCxcbiAgQ29udHJvbFR5cGUsXG4gIENvbnRyb2xBbmNob3IsXG4gIEdlb2xvY2F0aW9uQ29udHJvbE9wdGlvbnMsXG4gIExlbmd0aFVuaXQsXG4gIE5hdmlnYXRpb25Db250cm9sT3B0aW9ucyxcbiAgTmF2aWdhdGlvbkNvbnRyb2xUeXBlLFxuICBPdmVydmlld01hcENvbnRyb2xPcHRpb25zLFxuICBTY2FsZUNvbnRyb2xPcHRpb25zLFxuICBNYXBUeXBlQ29udHJvbE9wdGlvbnMsXG4gIE1hcFR5cGVDb250cm9sVHlwZVxufSBmcm9tICcuL3R5cGVzL0NvbnRyb2wnXG5leHBvcnQgeyBCSW5mb1dpbmRvd0NvbnN0cnVjdG9yLCBCSW5mb1dpbmRvd09wdGlvbnMgfSBmcm9tICcuL3R5cGVzL0luZm9XaW5kb3cnXG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIFdpbmRvdyB7XG4gICAgX3NjcmlwdExvYWRTdGF0ZTogeyBbdXJsOiBzdHJpbmddOiBMT0FESU5HX1NUQVRFIH1cbiAgICBfbG9hZGluZ0NhbGxiYWNrczogeyBbdXJsOiBzdHJpbmddOiBBcnJheTwoKSA9PiB2b2lkPiB9XG4gICAgQk1hcDogQk1hcFxuICAgIEJNYXBMaWI6IEJNYXBMaWJcbiAgICBiYWlkdW1hcGluaXQ6ICgpID0+IHZvaWRcbiAgICBCTUFQX1BFUlNQRUNUSVZFX01BUDogYW55XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJJbmplY3RhYmxlIiwiSW5qZWN0IiwiRXZlbnRFbWl0dGVyIiwiRGlyZWN0aXZlIiwiSW5wdXQiLCJPdXRwdXQiLCJDb21wb25lbnQiLCJWaWV3Q2hpbGQiLCJOZ01vZHVsZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBdUIsR0FBUTtRQUM3QixPQUFPLEdBQUcsS0FBSyxJQUFJLElBQUksR0FBRyxLQUFLLFNBQVMsQ0FBQTtLQUN6Qzs7Ozs7QUFFRCx5QkFBNEIsR0FBUTtRQUNsQyxPQUFPLEdBQUcsS0FBSyxTQUFTLENBQUE7S0FDekI7Ozs7O0FBRUQsdUJBQTBCLEdBQVE7UUFDaEMsT0FBTyxNQUFNLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssa0JBQWtCLENBQUE7S0FDbEU7Ozs7O0FBRUQsd0JBQTJCLEdBQVE7UUFDakMsT0FBTyxNQUFNLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssbUJBQW1CLENBQUE7S0FDbkU7Ozs7O0FBRUQsc0JBQXlCLEdBQVE7UUFDL0IsT0FBTyxNQUFNLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssaUJBQWlCLENBQUE7S0FDakU7Ozs7Ozs7QUFFRCxrQkFBd0IsR0FBTTtRQUFFLGNBQXNCO2FBQXRCLFVBQXNCLEVBQXRCLHFCQUFzQixFQUF0QixJQUFzQjtZQUF0Qiw2QkFBc0I7O1FBQ3BELHFCQUFNLE9BQU8sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ2hDLHFCQUFNLFNBQVMsR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLFVBQUEsQ0FBQyxJQUFJLE9BQUEsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUEsQ0FBQyxDQUFBO1FBQzFELE9BQU8sU0FBUyxDQUFDLE1BQU0sQ0FDckIsVUFBQyxDQUFD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