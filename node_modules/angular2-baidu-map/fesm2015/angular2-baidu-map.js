import { Injectable, Inject, Directive, EventEmitter, Input, Output, Component, ViewChild, NgModule } from '@angular/core';

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
/**
 * @param {?} obj
 * @return {?}
 */
function isNull(obj) {
    return obj === null || obj === undefined;
}
/**
 * @param {?} obj
 * @return {?}
 */
function isUndefined(obj) {
    return obj === undefined;
}
/**
 * @param {?} obj
 * @return {?}
 */
function isBoolean(obj) {
    return Object.prototype.toString.call(obj) === '[object Boolean]';
}
/**
 * @param {?} obj
 * @return {?}
 */
function isFunction(obj) {
    return Object.prototype.toString.call(obj) === '[object Function]';
}
/**
 * @param {?} obj
 * @return {?}
 */
function isString(obj) {
    return Object.prototype.toString.call(obj) === '[object String]';
}
/**
 * @template T
 * @param {?} obj
 * @param {...?} keys
 * @return {?}
 */
function omit(obj, ...keys) {
    const /** @type {?} */ rawKeys = Object.keys(obj);
    const /** @type {?} */ finalKeys = rawKeys.filter(k => keys.indexOf(k) < 0);
    return finalKeys.reduce((p, v) => {
        p[v] = obj[v];
        return p;
    }, /** @type {?} */ ({}));
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
/**
 * @param {?} opts
 * @return {?}
 */
function toPoint(opts) {
    if (!opts) {
        return new window.BMap.Point();
    }
    return new window.BMap.Point(opts.lng, opts.lat);
}
/**
 * @param {?} opts
 * @return {?}
 */
function toPoints(opts) {
    if (!opts) {
        return [];
    }
    return opts.map(p => {
        return new window.BMap.Point(p.lng, p.lat);
    });
}
/**
 * @param {?} opts
 * @return {?}
 */
function toSize(opts) {
    if (!opts) {
        return new window.BMap.Size();
    }
    return new window.BMap.Size(opts.width, opts.height);
}
/**
 * @param {?} url
 * @param {?} size
 * @param {?} options
 * @return {?}
 */
function toIcon(url, size, options) {
    if (!size && !options) {
        return new window.BMap.Icon(url);
    }
    if (!size) {
        return new window.BMap.Icon(url, toSize(size));
    }
    const /** @type {?} */ iconOptions = {
        anchor: toSize(options.anchor),
        imageOffset: toSize(options.imageOffset),
        infoWindowAnchor: toSize(options.infoWindowAnchor),
        printImageUrl: options.printImageUrl
    };
    const /** @type {?} */ icon = new window.BMap.Icon(url, toSize(size), iconOptions);
    if (options.imageSize) {
        icon.setImageSize(toSize(options.imageSize));
    }
    return icon;
}
/**
 * @param {?} options
 * @return {?}
 */
function toMarkerOptions(options) {
    const /** @type {?} */ opts = {};
    if (!options) {
        return opts;
    }
    if (options.offset) {
        opts.offset = toSize(options.offset);
    }
    if (options.icon) {
        opts.icon = toIcon(options.icon.imageUrl, options.icon.size, options.icon);
    }
    if (!isNull(options.enableMassClear)) {
        opts.enableMassClear = options.enableMassClear;
    }
    if (!isNull(options.enableDragging)) {
        opts.enableDragging = options.enableDragging;
    }
    if (!isNull(options.enableClicking)) {
        opts.enableClicking = options.enableClicking;
    }
    if (!isNull(options.raiseOnDrag)) {
        opts.raiseOnDrag = options.raiseOnDrag;
    }
    if (!isNull(options.draggingCursor)) {
        opts.draggingCursor = options.draggingCursor;
    }
    if (!isNull(options.rotation)) {
        opts.rotation = options.rotation;
    }
    if (!isNull(options.title)) {
        opts.title = options.title;
    }
    if (!isNull(options.shadow)) {
        opts.shadow = toIcon(options.shadow.imageUrl, options.shadow.size, options.shadow);
    }
    return opts;
}
/**
 * @param {?} options
 * @return {?}
 */
function toNavigationControlOptions(options) {
    const /** @type {?} */ opts = {};
    if (!options) {
        return opts;
    }
    if (!isNull(options.anchor)) {
        opts.anchor = options.anchor;
    }
    if (!isNull(options.enableGeolocation)) {
        opts.enableGeolocation = options.enableGeolocation;
    }
    if (!isNull(options.offset)) {
        opts.offset = toSize(options.offset);
    }
    if (!isNull(options.showZoomInfo)) {
        opts.showZoomInfo = options.showZoomInfo;
    }
    if (!isNull(options.type)) {
        opts.type = options.type;
    }
    return opts;
}
/**
 * @param {?} options
 * @return {?}
 */
function toOverviewMapControlOptions(options) {
    const /** @type {?} */ opts = {};
    if (!options) {
        return opts;
    }
    if (!isNull(options.anchor)) {
        opts.anchor = options.anchor;
    }
    if (!isNull(options.isOpen)) {
        opts.isOpen = options.isOpen;
    }
    if (!isNull(options.offset)) {
        opts.offset = toSize(options.offset);
    }
    if (!isNull(options.size)) {
        opts.size = toSize(options.size);
    }
    return opts;
}
/**
 * @param {?} options
 * @return {?}
 */
function toScaleControlOptions(options) {
    const /** @type {?} */ opts = {};
    if (!options) {
        return opts;
    }
    if (!isNull(options.anchor)) {
        opts.anchor = options.anchor;
    }
    if (!isNull(options.offset)) {
        opts.offset = toSize(options.offset);
    }
    return opts;
}
/**
 * @param {?} options
 * @return {?}
 */
function toMapTypeControlOptions(options) {
    const /** @type {?} */ opts = {};
    if (!options) {
        return opts;
    }
    if (!isNull(options.type)) {
        opts.type = options.type;
    }
    return opts;
}
/**
 * @param {?} options
 * @return {?}
 */
function toGeolocationOptions(options) {
    const /** @type {?} */ opts = {};
    if (!options) {
        return opts;
    }
    if (!isNull(options.anchor)) {
        opts.anchor = options.anchor;
    }
    if (!isNull(options.offset)) {
        opts.offset = toSize(options.offset);
    }
    if (!isNull(options.enableAutoLocation)) {
        opts.enableAutoLocation = options.enableAutoLocation;
    }
    if (!isNull(options.locationIcon)) {
        opts.locationIcon = toIcon(options.locationIcon.imageUrl, options.locationIcon.size, options.locationIcon);
    }
    if (!isNull(options.showAddressBar)) {
        opts.showAddressBar = options.showAddressBar;
    }
    return opts;
}
/**
 * @param {?} style
 * @return {?}
 */
function toTextIconStyle(style) {
    const /** @type {?} */ realStyle = {
        url: style.url,
        size: toSize(style.size)
    };
    if (style.anchor) {
        realStyle.anchor = toSize(style.anchor);
    }
    if (style.offset) {
        realStyle.offset = toSize(style.offset);
    }
    if (!isNull(style.textSize)) {
        realStyle.textSize = style.textSize;
    }
    if (!isNull(style.textColor)) {
        realStyle.textColor = style.textColor;
    }
    return realStyle;
}
/**
 * @param {?} options
 * @return {?}
 */
function toMarkerClustererOptions(options) {
    const /** @type {?} */ opts = {};
    if (!options) {
        return opts;
    }
    if (options.markers) {
        opts.markers = options.markers.map(m => new window.BMap.Marker(toPoint(m.point), toMarkerOptions(m.options)));
    }
    if (!isNull(options.girdSize)) {
        opts.girdSize = options.girdSize;
    }
    if (!isNull(options.maxZoom)) {
        opts.maxZoom = options.maxZoom;
    }
    if (!isNull(options.minClusterSize)) {
        opts.minClusterSize = options.minClusterSize;
    }
    if (!isNull(options.isAverangeCenter)) {
        opts.isAverangeCenter = options.isAverangeCenter;
    }
    if (options.styles) {
        opts.styles = options.styles.filter(s => s).map(s => toTextIconStyle(s));
    }
    return opts;
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
/**
 * @param {?} obj
 * @param {?} msg
 * @return {?}
 */
function nullCheck(obj, msg) {
    if (isNull(obj)) {
        throw new Error(msg);
    }
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
/** @enum {number} */
const LOADING_STATE = {
    NON: 0,
    LOADED: 1,
    LOADING: 2,
};
LOADING_STATE[LOADING_STATE.NON] = "NON";
LOADING_STATE[LOADING_STATE.LOADED] = "LOADED";
LOADING_STATE[LOADING_STATE.LOADING] = "LOADING";
class ScriptLoaderConfig {
    constructor() {
        this.ak = '';
    }
}
window._scriptLoadState = {};
window._loadingCallbacks = {};
class ScriptLoader {
    /**
     * @param {?} url
     * @param {?=} isMain
     * @param {?=} cb
     * @return {?}
     */
    load(url, isMain = false, cb) {
        const /** @type {?} */ scriptKey = isString(url) ? url : url['key'];
        const /** @type {?} */ scriptUrls = isString(url) ? [url] : url['scripts'];
        if (window._scriptLoadState[scriptKey] === LOADING_STATE.LOADED) {
            if (isMain) {
                switchDisplay('baidu-map .baidu-map-instance', 'block');
                switchDisplay('baidu-map .baidu-map-offline', 'none');
            }
            return cb();
        }
        if (!window._loadingCallbacks[scriptKey]) {
            window._loadingCallbacks[scriptKey] = [];
        }
        if (window._scriptLoadState[scriptKey] === LOADING_STATE.LOADING) {
            window._loadingCallbacks[scriptKey].push(cb);
            return;
        }
        window._scriptLoadState[scriptKey] = LOADING_STATE.LOADING;
        window._loadingCallbacks[scriptKey].push(cb);
        if (isMain) {
            window.baidumapinit = () => {
                window._scriptLoadState[scriptKey] = LOADING_STATE.LOADED;
                switchDisplay('baidu-map .baidu-map-instance', 'block');
                switchDisplay('baidu-map .baidu-map-offline', 'none');
                window._loadingCallbacks[scriptKey].forEach((c) => {
                    c();
                });
            };
        }
        appendScriptsTag(scriptKey, scriptUrls, isMain);
    }
}
ScriptLoader.decorators = [
    { type: Injectable },
];
/**
 * @param {?} scriptKey
 * @param {?} urls
 * @param {?} isMain
 * @return {?}
 */
function appendScriptsTag(scriptKey, urls, isMain) {
    const /** @type {?} */ leftObj = {
        count: urls.length
    };
    urls.forEach(url => {
        appendScriptTag(scriptKey, url, isMain, leftObj);
    });
}
/**
 * @param {?} scriptKey
 * @param {?} url
 * @param {?} isMain
 * @param {?} leftObj
 * @return {?}
 */
function appendScriptTag(scriptKey, url, isMain, leftObj) {
    const /** @type {?} */ script = document.createElement('script');
    script.type = 'text/javascript';
    script.src = url;
    script.onerror = () => {
        if (isMain) {
            switchDisplay('baidu-map .baidu-map-offline', 'block');
            switchDisplay('baidu-map .baidu-map-instance', 'none');
        }
        document.body.removeChild(script);
        setTimeout(() => {
            appendScriptTag(scriptKey, url, isMain, leftObj);
        }, 30000);
    };
    if (!isMain) {
        script.onload = () => {
            leftObj.count--;
            if (leftObj.count) {
                return;
            }
            window._scriptLoadState[scriptKey] = LOADING_STATE.LOADED;
            window._loadingCallbacks[scriptKey].forEach((c) => {
                c();
            });
        };
    }
    document.body.appendChild(script);
}
/**
 * @param {?} selector
 * @param {?} state
 * @return {?}
 */
function switchDisplay(selector, state) {
    Array.prototype.slice.call(document.querySelectorAll(selector)).forEach((node) => {
        node.style.display = state;
    });
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
/** @enum {string} */
const MapTypeEnum = {
    BMAP_NORMAL_MAP: 'BMAP_NORMAL_MAP',
    BMAP_PERSPECTIVE_MAP: 'BMAP_PERSPECTIVE_MAP',
    BMAP_SATELLITE_MAP: 'BMAP_SATELLITE_MAP',
    BMAP_HYBRID_MAP: 'BMAP_HYBRID_MAP',
};
/**
 * @param {?} maptype
 * @return {?}
 */
function isMapTypeEnum(maptype) {
    return !isFunction((/** @type {?} */ (maptype)).getTileLayer);
}

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
class MapService {
    /**
     * @param {?} config
     * @param {?} _loader
     */
    constructor(config, _loader) {
        this._loader = _loader;
        nullCheck(config.ak, 'ak must be provided');
        this._config = config;
        this._map = new Promise((resolve) => {
            this._mapResolver = resolve;
        });
    }
    /**
     * @param {?} el
     * @param {?} mapOptions
     * @return {?}
     */
    createMap(el, mapOptions) {
        const /** @type {?} */ URL = `https://api.map.baidu.com/api?v=2.0&ak=${this._config.ak}&callback=baidumapinit&s=1`;
        return new Promise(resolve => {
            this._loader.load(URL, true, () => {
                const /** @type {?} */ map = new window.BMap.Map(el, omit(mapOptions, 'mapType'));
                this.setOptions(mapOptions);
                this._mapResolver(map);
                resolve(map);
            });
        });
    }
    /**
     * @param {?} opts
     * @return {?}
     */
    setOptions(opts) {
        const { disableDragging, enableScrollWheelZoom, disableDoubleClickZoom, enableKeyboard, enableInertialDragging, enableAutoResize, enableContinuousZoom, disablePinchToZoom } = opts;
        if (isBoolean(disableDragging)) {
            this._map.then(map => map[(disableDragging ? 'disable' : 'enable') + 'Dragging']());
        }
        if (isBoolean(enableScrollWheelZoom)) {
            this._map.then(map => map[(enableScrollWheelZoom ? 'enable' : 'disable') + 'ScrollWheelZoom']());
        }
        if (isBoolean(enableAutoResize)) {
            this._map.then(map => map[(enableAutoResize ? 'enable' : 'disable') + 'AutoResize']());
        }
        if (isBoolean(disableDoubleClickZoom)) {
            this._map.then(map => map[(disableDoubleClickZoom ? 'disable' : 'enable') + 'DoubleClickZoom']());
        }
        if (isBoolean(enableKeyboard)) {
            this._map.then(map => map[(enableKeyboard ? 'enable' : 'disable') + 'Keyboard']());
        }
        if (isBoolean(enableInertialDragging)) {
            this._map.then(map => map[(enableInertialDragging ? 'enable' : 'disable') + 'InertialDragging']());
        }
        if (isBoolean(enableContinuousZoom)) {
            this._map.then(map => map[(enableContinuousZoom ? 'enable' : 'disable') + 'ContinuousZoom']());
        }
        if (isBoolean(disablePinchToZoom)) {
            this._map.then(map => map[(disablePinchToZoom ? 'disable' : 'enable') + 'PinchToZoom']());
        }
        if (!isNull(opts.cursor)) {
            this._map.then(map => map.setDefaultCursor(opts.cursor));
        }
        if (!isNull(opts.draggingCursor)) {
            this._map.then(map => map.setDraggingCursor(opts.draggingCursor));
        }
        if (!isNull(opts.currentCity)) {
            this._map.then(map => map.setCurrentCity(opts.currentCity));
        }
        if (!isNull(opts.centerAndZoom)) {
            this._map.then(map => {
                map.centerAndZoom(toPoint(opts.centerAndZoom), opts.centerAndZoom.zoom);
            });
        }
        if (!isNull(opts.mapType)) {
            this._map.then(map => {
                const /** @type {?} */ realType = isMapTypeEnum(opts.mapType) ? window[opts.mapType] : opts.mapType;
                map.setMapType(realType);
            });
        }
    }
    /**
     * @param {?} cb
     * @return {?}
     */
    addOverlay(cb) {
        return this._map.then((map) => {
            const /** @type {?} */ overlay = cb(map);
            map.addOverlay(overlay);
            return { map, overlay };
        });
    }
    /**
     * @param {?} overlay
     * @return {?}
     */
    removeOverlay(overlay) {
        return this._map.then((map) => {
            map.removeOverlay(overlay);
        });
    }
    /**
     * @param {?} cb
     * @return {?}
     */
    addTileLayer(cb) {
        return this._map.then((map) => {
            const /** @type {?} */ tilelayer = cb(map);
            map.addTileLayer(tilelayer);
            return { map, tilelayer };
        });
    }
    /**
     * @param {?} tilelayer
     * @return {?}
     */
    removeTileLayer(tilelayer) {
        return this._map.then((map) => {
            map.removeOverlay(tilelayer);
        });
    }
    /**
     * @param {?} cb
     * @return {?}
     */
    addControl(cb) {
        return this._map.then((map) => {
            const /** @type {?} */ control = cb(map);
            map.addControl(control);
            return { map, control };
        });
    }
    /**
     * @param {?} control
     * @return {?}
     */
    removeControl(control) {
        return this._map.then((map) => {
            map.removeControl(control);
        });
    }
    /**
     * @return {?}
     */
    getNativeMap() {
        return this._map;
    }
}
MapService.decorators = [
    { type: Injectable },
];
/** @nocollapse */
MapService.ctorParameters = () => [
    { type: ScriptLoaderConfig, decorators: [{ type: Inject, args: [ScriptLoaderConfig,] },] },
    { type: ScriptLoader, },
];

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
class ControlComponent {
    /**
     * @param {?} _service
     */
    constructor(_service) {
        this._service = _service;
        this.loaded = new EventEmitter();
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        nullCheck(this.type, 'type is required for <control>');
        this._service
            .addControl(() => {
            this.control = this.createControl(this.type, this.options);
            return this.control;
        })
            .then(({ control }) => {
            this.loaded.emit(control);
        });
    }
    /**
     * @return {?}
     */
    ngOnDestroy() {
        this._service.removeControl(this.control);
    }
    /**
     * @param {?} type
     * @param {?} options
     * @return {?}
     */
    createControl(type, options) {
        if (type === 'navigation') {
            return new window.BMap.NavigationControl(toNavigationControlOptions(options));
        }
        if (type === 'overviewmap') {
            return new window.BMap.OverviewMapControl(toOverviewMapControlOptions(options));
        }
        if (type === 'scale') {
            return new window.BMap.ScaleControl(toScaleControlOptions(options));
        }
        if (type === 'maptype') {
            return new window.BMap.MapTypeControl(toMapTypeControlOptions(options));
        }
        if (type === 'geolocation') {
            return new window.BMap.GeolocationControl(toGeolocationOptions(options));
        }
        if (type === 'panorama') {
            return new window.BMap.PanoramaControl();
        }
        throw new Error(`Unsupported type:${type} of control`);
    }
}
ControlComponent.decorators = [
    { type: Directive, args: [{
                selector: 'control'
            },] },
];
/** @nocollapse */
ControlComponent.ctorParameters = () => [
    { type: MapService, },
];
ControlComponent.propDecorators = {
    "type": [{ type: Input },],
    "options": [{ type: Input },],
    "loaded": [{ type: Output },],
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
class MapComponent {
    /**
     * @param {?} _service
     */
    constructor(_service) {
        this._service = _service;
        this.loaded = new EventEmitter();
        this.clicked = new EventEmitter();
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        nullCheck(this.options, 'options is required for <baidu-map>');
        nullCheck(this.options.centerAndZoom, 'options.centerAndZoom is required for <baidu-map>');
        this._service
            .createMap(this.mapInstance.nativeElement, this.options)
            .then(map => {
            this.loaded.emit(map);
            return map;
        })
            .then(map => {
            this.addListener(map);
        });
    }
    /**
     * @param {?} changes
     * @return {?}
     */
    ngOnChanges(changes) {
        const /** @type {?} */ opts = /** @type {?} */ (changes["options"].currentValue);
        if (!opts) {
            return console.warn('MapOptions change was ignored since you are passing empty value');
        }
        this._service.setOptions(opts);
    }
    /**
     * @return {?}
     */
    ngOnDestroy() {
        console.log('on map destroy');
    }
    /**
     * @param {?} map
     * @return {?}
     */
    addListener(map) {
        map.addEventListener('click', (e) => {
            this.clicked.emit(e);
        });
    }
}
MapComponent.decorators = [
    { type: Component, args: [{
                providers: [MapService],
                selector: 'baidu-map',
                styles: [
                    `
        .baidu-map-instance {
            width: 100%;
            height: 100%;
            display: none;
        }
        .baidu-map-offline {
            width: 100%;
            height: 100%;
            background-color: #E6E6E6;
            position: relative;
            display: none;
        }
        .baidu-map-offline label {
            fontSize: 30px;
            margin: 0;
            position: absolute;
            top: 50%;
            left: 50%;
            margin-right: -50%;
            transform: translate(-50%, -50%);
        }
        .tranclude-content {
            display: none;
        }
        `
                ],
                template: `
    <div #mapinstance class="baidu-map-instance"></div>
    <div class="baidu-map-offline">
        <label>{{ 'NO_NETWORK' }}</label>
    </div>
    <div class="tranclude-content">
        <ng-content></ng-content>
    </div>
    `
            },] },
];
/** @nocollapse */
MapComponent.ctorParameters = () => [
    { type: MapService, },
];
MapComponent.propDecorators = {
    "options": [{ type: Input },],
    "loaded": [{ type: Output },],
    "clicked": [{ type: Output },],
    "mapInstance": [{ type: ViewChild, args: ['mapinstance',] },],
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
class MarkerComponent {
    /**
     * @param {?} _service
     */
    constructor(_service) {
        this._service = _service;
        this.loaded = new EventEmitter();
        this.clicked = new EventEmitter();
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        nullCheck(this.point, 'point is required for <marker>');
        this._service
            .addOverlay(() => {
            return (this.marker = new window.BMap.Marker(toPoint(this.point), toMarkerOptions(this.options)));
        })
            .then(({ map }) => {
            this.loaded.emit(this.marker);
            this.addListener(this.marker, map);
        })
            .then(() => {
            // workaround: it's weird that postion is set while constructing phase will make click event not working
            this.marker.setPosition(new window.BMap.Point(this.point.lng, this.point.lat));
        });
    }
    /**
     * @param {?} changes
     * @return {?}
     */
    ngOnChanges(changes) {
        if (changes["point"] && !changes["point"].isFirstChange()) {
            this.marker.setPosition(toPoint(changes["point"].currentValue));
        }
        if (changes["options"] && !changes["options"].isFirstChange()) {
            this.setOptions(changes["options"].currentValue);
        }
    }
    /**
     * @return {?}
     */
    ngOnDestroy() {
        this._service.removeOverlay(this.marker);
    }
    /**
     * @param {?} options
     * @return {?}
     */
    setOptions(options) {
        if (isNull(options)) {
            return;
        }
        if (!isNull(options.offset)) {
            this.marker.setOffset(toSize(options.offset));
        }
        if (!isNull(options.icon)) {
            this.marker.setIcon(toIcon(options.icon.imageUrl, options.icon.size, options.icon));
        }
        if (!isNull(options.enableMassClear)) {
            this.marker[(options.enableMassClear ? 'enable' : 'disable') + 'MassClear']();
        }
        if (!isNull(options.enableDragging)) {
            this.marker[(options.enableDragging ? 'enable' : 'disable') + 'Dragging']();
        }
        if (!isNull(options.rotation)) {
            this.marker.setRotation(options.rotation);
        }
        if (!isNull(options.shadow)) {
            this.marker.setShadow(toIcon(options.shadow.imageUrl, options.shadow.size, options.shadow));
        }
        if (!isNull(options.title)) {
            this.marker.setTitle(options.title);
        }
    }
    /**
     * @param {?} marker
     * @param {?} map
     * @return {?}
     */
    addListener(marker, map) {
        marker.addEventListener('click', (e) => {
            this.clicked.emit({
                e,
                map,
                marker
            });
        });
    }
}
MarkerComponent.decorators = [
    { type: Directive, args: [{
                selector: 'marker'
            },] },
];
/** @nocollapse */
MarkerComponent.ctorParameters = () => [
    { type: MapService, },
];
MarkerComponent.propDecorators = {
    "point": [{ type: Input },],
    "options": [{ type: Input },],
    "loaded": [{ type: Output },],
    "clicked": [{ type: Output },],
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
class PolylineComponent {
    /**
     * @param {?} _service
     */
    constructor(_service) {
        this._service = _service;
        this.loaded = new EventEmitter();
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        nullCheck(this.points, 'points is required for <polyline>');
        this._service
            .addOverlay(() => {
            return (this.polyline = new window.BMap.Polyline(toPoints(this.points), this.options));
        })
            .then(() => {
            this.loaded.emit(this.polyline);
        });
    }
    /**
     * @param {?} changes
     * @return {?}
     */
    ngOnChanges(changes) {
        if (changes["points"] && !changes["points"].isFirstChange()) {
            this.polyline.setPath(toPoints(changes["points"].currentValue));
        }
        if (changes["options"] && !changes["options"].isFirstChange()) {
            this.setOptions(changes["options"].currentValue);
        }
    }
    /**
     * @return {?}
     */
    ngOnDestroy() {
        this._service.removeOverlay(this.polyline);
    }
    /**
     * @param {?} options
     * @return {?}
     */
    setOptions(options) {
        if (isNull(options)) {
            return;
        }
        if (!isUndefined(options.enableEditing)) {
            if (options.enableEditing) {
                this.polyline.enableEditing();
            }
            else {
                this.polyline.disableEditing();
            }
        }
        if (!isUndefined(options.enableMassClear)) {
            if (options.enableEditing) {
                this.polyline.enableMassClear();
            }
            else {
                this.polyline.disableMassClear();
            }
        }
        if (!isUndefined(options.strokeColor)) {
            this.polyline.setStrokeColor(options.strokeColor);
        }
        if (!isUndefined(options.strokeOpacity)) {
            this.polyline.setStrokeOpacity(options.strokeOpacity);
        }
        if (!isUndefined(options.strokeStyle)) {
            this.polyline.setStrokeStyle(options.strokeStyle);
        }
        if (!isUndefined(options.strokeWeight)) {
            this.polyline.setStrokeWeight(options.strokeWeight);
        }
    }
}
PolylineComponent.decorators = [
    { type: Directive, args: [{
                selector: 'polyline'
            },] },
];
/** @nocollapse */
PolylineComponent.ctorParameters = () => [
    { type: MapService, },
];
PolylineComponent.propDecorators = {
    "points": [{ type: Input },],
    "options": [{ type: Input },],
    "loaded": [{ type: Output },],
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
class CircleComponent {
    /**
     * @param {?} _service
     */
    constructor(_service) {
        this._service = _service;
        this.loaded = new EventEmitter();
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        nullCheck(this.center, 'center is required for <circle>');
        nullCheck(this.radius, 'center is required for <circle>');
        this._service
            .addOverlay(() => {
            return (this.circle = new window.BMap.Circle(toPoint(this.center), this.radius, this.options));
        })
            .then(() => {
            this.loaded.emit(this.circle);
        });
    }
    /**
     * @param {?} changes
     * @return {?}
     */
    ngOnChanges(changes) {
        if (changes["center"] && !changes["center"].isFirstChange()) {
            this.circle.setCenter(toPoint(changes["center"].currentValue));
        }
        if (changes["radius"] && !changes["radius"].isFirstChange()) {
            this.circle.setRadius(changes["radius"].currentValue);
        }
        if (changes["options"] && !changes["options"].isFirstChange()) {
            this.setOptions(changes["options"].currentValue);
        }
    }
    /**
     * @return {?}
     */
    ngOnDestroy() {
        this._service.removeOverlay(this.circle);
    }
    /**
     * @param {?} options
     * @return {?}
     */
    setOptions(options) {
        if (isNull(options)) {
            return;
        }
        if (!isUndefined(options.enableEditing)) {
            if (options.enableEditing) {
                this.circle.enableEditing();
            }
            else {
                this.circle.disableEditing();
            }
        }
        if (!isUndefined(options.enableMassClear)) {
            if (options.enableEditing) {
                this.circle.enableMassClear();
            }
            else {
                this.circle.disableMassClear();
            }
        }
        if (!isUndefined(options.strokeColor)) {
            this.circle.setStrokeColor(options.strokeColor);
        }
        if (!isUndefined(options.fillColor)) {
            this.circle.setFillColor(options.fillColor);
        }
        if (!isUndefined(options.strokeOpacity)) {
            this.circle.setStrokeOpacity(options.strokeOpacity);
        }
        if (!isUndefined(options.fillOpacity)) {
            this.circle.setFillOpacity(options.fillOpacity);
        }
        if (!isUndefined(options.strokeStyle)) {
            this.circle.setStrokeStyle(options.strokeStyle);
        }
        if (!isUndefined(options.strokeWeight)) {
            this.circle.setStrokeWeight(options.strokeWeight);
        }
    }
}
CircleComponent.decorators = [
    { type: Directive, args: [{
                selector: 'circle'
            },] },
];
/** @nocollapse */
CircleComponent.ctorParameters = () => [
    { type: MapService, },
];
CircleComponent.propDecorators = {
    "center": [{ type: Input },],
    "radius": [{ type: Input },],
    "options": [{ type: Input },],
    "loaded": [{ type: Output },],
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
class PolygonComponent {
    /**
     * @param {?} _service
     */
    constructor(_service) {
        this._service = _service;
        this.loaded = new EventEmitter();
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        nullCheck(this.points, 'points is required for <polygon>');
        this._service
            .addOverlay(() => {
            return (this.polygon = new window.BMap.Polygon(toPoints(this.points), this.options));
        })
            .then(() => {
            this.loaded.emit(this.polygon);
        });
    }
    /**
     * @param {?} changes
     * @return {?}
     */
    ngOnChanges(changes) {
        if (changes["points"] && !changes["points"].isFirstChange()) {
            this.polygon.setPath(toPoints(changes["points"].currentValue));
        }
        if (changes["options"] && !changes["options"].isFirstChange()) {
            this.setOptions(changes["options"].currentValue);
        }
    }
    /**
     * @return {?}
     */
    ngOnDestroy() {
        this._service.removeOverlay(this.polygon);
    }
    /**
     * @param {?} options
     * @return {?}
     */
    setOptions(options) {
        if (isNull(options)) {
            return;
        }
        if (!isUndefined(options.enableEditing)) {
            if (options.enableEditing) {
                this.polygon.enableEditing();
            }
            else {
                this.polygon.disableEditing();
            }
        }
        if (!isUndefined(options.enableMassClear)) {
            if (options.enableEditing) {
                this.polygon.enableMassClear();
            }
            else {
                this.polygon.disableMassClear();
            }
        }
        if (!isUndefined(options.strokeColor)) {
            this.polygon.setStrokeColor(options.strokeColor);
        }
        if (!isUndefined(options.fillColor)) {
            this.polygon.setFillColor(options.fillColor);
        }
        if (!isUndefined(options.strokeOpacity)) {
            this.polygon.setStrokeOpacity(options.strokeOpacity);
        }
        if (!isUndefined(options.fillOpacity)) {
            this.polygon.setFillOpacity(options.fillOpacity);
        }
        if (!isUndefined(options.strokeStyle)) {
            this.polygon.setStrokeStyle(options.strokeStyle);
        }
        if (!isUndefined(options.strokeWeight)) {
            this.polygon.setStrokeWeight(options.strokeWeight);
        }
    }
}
PolygonComponent.decorators = [
    { type: Directive, args: [{
                selector: 'polygon'
            },] },
];
/** @nocollapse */
PolygonComponent.ctorParameters = () => [
    { type: MapService, },
];
PolygonComponent.propDecorators = {
    "points": [{ type: Input },],
    "options": [{ type: Input },],
    "loaded": [{ type: Output },],
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
const /** @type {?} */ LIB_URL = `https://api.map.baidu.com/library/Heatmap/2.0/src/Heatmap_min.js`;
class HeatmapComponent {
    /**
     * @param {?} _service
     * @param {?} scriptLoader
     */
    constructor(_service, scriptLoader) {
        this._service = _service;
        this.scriptLoader = scriptLoader;
        this.loaded = new EventEmitter();
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        nullCheck(this.dataset, 'dataset is required for <heatmap>');
        this._service.getNativeMap().then(() => {
            return this.scriptLoader.load(LIB_URL, false, () => {
                this._service
                    .addOverlay(() => {
                    return (this.heatmap = new window.BMapLib.HeatmapOverlay(this.options));
                })
                    .then(() => {
                    this.loaded.emit(this.heatmap);
                    if (this.dataset) {
                        this.heatmap.setDataSet(this.dataset);
                    }
                });
            });
        });
    }
    /**
     * @param {?} changes
     * @return {?}
     */
    ngOnChanges(changes) {
        if (changes["dataset"] && !changes["dataset"].isFirstChange()) {
            this.heatmap.setDataSet(changes["dataset"].currentValue);
        }
        if (changes["options"] && !changes["options"].isFirstChange()) {
            this.heatmap.setOptions(changes["options"].currentValue);
        }
    }
    /**
     * @return {?}
     */
    ngOnDestroy() {
        this._service.removeOverlay(this.heatmap);
    }
}
HeatmapComponent.decorators = [
    { type: Directive, args: [{
                selector: 'heatmap'
            },] },
];
/** @nocollapse */
HeatmapComponent.ctorParameters = () => [
    { type: MapService, },
    { type: ScriptLoader, },
];
HeatmapComponent.propDecorators = {
    "dataset": [{ type: Input },],
    "options": [{ type: Input },],
    "loaded": [{ type: Output },],
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
class TileLayderComponent {
    /**
     * @param {?} _service
     */
    constructor(_service) {
        this._service = _service;
        this.loaded = new EventEmitter();
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        const /** @type {?} */ func = this.getTilesUrl;
        this._service
            .addTileLayer(() => {
            this.tilelayer = new window.BMap.TileLayer(this.options);
            if (this.getTilesUrl) {
                this.tilelayer.getTilesUrl = function (tileCoord, zoom) {
                    return func(tileCoord, zoom);
                };
            }
            return this.tilelayer;
        })
            .then(() => {
            this.loaded.emit(this.tilelayer);
        });
    }
    /**
     * @return {?}
     */
    ngOnDestroy() {
        this._service.removeTileLayer(this.tilelayer);
    }
}
TileLayderComponent.decorators = [
    { type: Directive, args: [{
                selector: 'tilelayer'
            },] },
];
/** @nocollapse */
TileLayderComponent.ctorParameters = () => [
    { type: MapService, },
];
TileLayderComponent.propDecorators = {
    "getTilesUrl": [{ type: Input },],
    "options": [{ type: Input },],
    "loaded": [{ type: Output },],
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
class TrafficLayderComponent {
    /**
     * @param {?} _service
     */
    constructor(_service) {
        this._service = _service;
        this.loaded = new EventEmitter();
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        this._service
            .addTileLayer(() => {
            this.trafficlayer = new window.BMap.TrafficLayer(this.options);
            return this.trafficlayer;
        })
            .then(() => {
            this.loaded.emit(this.trafficlayer);
        });
    }
    /**
     * @return {?}
     */
    ngOnDestroy() {
        this._service.removeTileLayer(this.trafficlayer);
    }
}
TrafficLayderComponent.decorators = [
    { type: Directive, args: [{
                selector: 'trafficlayer'
            },] },
];
/** @nocollapse */
TrafficLayderComponent.ctorParameters = () => [
    { type: MapService, },
];
TrafficLayderComponent.propDecorators = {
    "options": [{ type: Input },],
    "loaded": [{ type: Output },],
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
const /** @type {?} */ LIB_URLS = {
    key: 'markerClusterer',
    scripts: [
        'https://api.map.baidu.com/library/MarkerClusterer/1.2/src/MarkerClusterer_min.js',
        'https://api.map.baidu.com/library/TextIconOverlay/1.2/src/TextIconOverlay_min.js'
    ]
};
class MarkerClustererComponent {
    /**
     * @param {?} _service
     * @param {?} scriptLoader
     */
    constructor(_service, scriptLoader) {
        this._service = _service;
        this.scriptLoader = scriptLoader;
        this.loaded = new EventEmitter();
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        nullCheck(this.options, 'options is required for <marker-clusterer>');
        this._service.getNativeMap().then((map) => {
            return this.scriptLoader.load(LIB_URLS, false, () => {
                this.markerClusterer = new window.BMapLib.MarkerClusterer(map, toMarkerClustererOptions(this.options));
                this.loaded.emit(this.markerClusterer);
            });
        });
    }
    /**
     * @param {?} changes
     * @return {?}
     */
    ngOnChanges(changes) {
        if (changes["options"] && !changes["options"].isFirstChange()) {
            this.resetOptions(changes["options"].currentValue);
        }
    }
    /**
     * @param {?} options
     * @return {?}
     */
    resetOptions(options) {
        if (options.markers) {
            this.markerClusterer.clearMarkers();
            this.markerClusterer.addMarkers(options.markers.map(m => new window.BMap.Marker(toPoint(m.point), toMarkerOptions(m.options))));
        }
        if (!isUndefined(options.girdSize)) {
            this.markerClusterer.setGridSize(options.girdSize);
        }
        if (!isUndefined(options.maxZoom)) {
            this.markerClusterer.setMaxZoom(options.maxZoom);
        }
        if (options.styles) {
            this.markerClusterer.setStyles(options.styles.filter(s => s).map(s => toTextIconStyle(s)));
        }
    }
    /**
     * @return {?}
     */
    ngOnDestroy() {
        this.markerClusterer.clearMarkers();
    }
}
MarkerClustererComponent.decorators = [
    { type: Directive, args: [{
                selector: 'marker-clusterer'
            },] },
];
/** @nocollapse */
MarkerClustererComponent.ctorParameters = () => [
    { type: MapService, },
    { type: ScriptLoader, },
];
MarkerClustererComponent.propDecorators = {
    "options": [{ type: Input },],
    "loaded": [{ type: Output },],
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
/** @enum {number} */
const ControlAnchor = {
    BMAP_ANCHOR_TOP_LEFT: 0,
    BMAP_ANCHOR_TOP_RIGHT: 1,
    BMAP_ANCHOR_BOTTOM_LEFT: 2,
    BMAP_ANCHOR_BOTTOM_RIGHT: 3,
};
ControlAnchor[ControlAnchor.BMAP_ANCHOR_TOP_LEFT] = "BMAP_ANCHOR_TOP_LEFT";
ControlAnchor[ControlAnchor.BMAP_ANCHOR_TOP_RIGHT] = "BMAP_ANCHOR_TOP_RIGHT";
ControlAnchor[ControlAnchor.BMAP_ANCHOR_BOTTOM_LEFT] = "BMAP_ANCHOR_BOTTOM_LEFT";
ControlAnchor[ControlAnchor.BMAP_ANCHOR_BOTTOM_RIGHT] = "BMAP_ANCHOR_BOTTOM_RIGHT";
/** @enum {number} */
const NavigationControlType = {
    BMAP_NAVIGATION_CONTROL_LARGE: 0,
    BMAP_NAVIGATION_CONTROL_SMALL: 1,
    BMAP_NAVIGATION_CONTROL_PAN: 2,
    BMAP_NAVIGATION_CONTROL_ZOOM: 3,
};
NavigationControlType[NavigationControlType.BMAP_NAVIGATION_CONTROL_LARGE] = "BMAP_NAVIGATION_CONTROL_LARGE";
NavigationControlType[NavigationControlType.BMAP_NAVIGATION_CONTROL_SMALL] = "BMAP_NAVIGATION_CONTROL_SMALL";
NavigationControlType[NavigationControlType.BMAP_NAVIGATION_CONTROL_PAN] = "BMAP_NAVIGATION_CONTROL_PAN";
NavigationControlType[NavigationControlType.BMAP_NAVIGATION_CONTROL_ZOOM] = "BMAP_NAVIGATION_CONTROL_ZOOM";
/** @enum {number} */
const MapTypeControlType = {
    BMAP_MAPTYPE_CONTROL_HORIZONTAL: 0,
    BMAP_MAPTYPE_CONTROL_DROPDOWN: 1,
    BMAP_MAPTYPE_CONTROL_MAP: 2,
};
MapTypeControlType[MapTypeControlType.BMAP_MAPTYPE_CONTROL_HORIZONTAL] = "BMAP_MAPTYPE_CONTROL_HORIZONTAL";
MapTypeControlType[MapTypeControlType.BMAP_MAPTYPE_CONTROL_DROPDOWN] = "BMAP_MAPTYPE_CONTROL_DROPDOWN";
MapTypeControlType[MapTypeControlType.BMAP_MAPTYPE_CONTROL_MAP] = "BMAP_MAPTYPE_CONTROL_MAP";
/** @enum {string} */
const LengthUnit = {
    BMAP_UNIT_METRIC: 'metric',
    BMAP_UNIT_IMPERIAL: 'us',
};

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
class BaiduMapModule {
    /**
     * @param {?=} _config
     * @return {?}
     */
    static forRoot(_config) {
        return {
            ngModule: BaiduMapModule,
            providers: [{ provide: ScriptLoaderConfig, useValue: _config }, ScriptLoader]
        };
    }
}
BaiduMapModule.decorators = [
    { type: NgModule, args: [{
                declarations: [
                    MapComponent,
                    MarkerComponent,
                    ControlComponent,
                    PolylineComponent,
                    CircleComponent,
                    PolygonComponent,
                    HeatmapComponent,
                    TileLayderComponent,
                    TrafficLayderComponent,
                    MarkerClustererComponent
                ],
                exports: [
                    MapComponent,
                    MarkerComponent,
                    ControlComponent,
                    PolylineComponent,
                    CircleComponent,
                    PolygonComponent,
                    HeatmapComponent,
                    TileLayderComponent,
                    TrafficLayderComponent,
                    MarkerClustererComponent
                ]
            },] },
];

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */

export { BaiduMapModule, MapTypeEnum, ControlAnchor, LengthUnit, NavigationControlType, MapTypeControlType, CircleComponent as ɵh, ControlComponent as ɵf, HeatmapComponent as ɵj, MapComponent as ɵa, MarkerComponent as ɵe, MarkerClustererComponent as ɵm, PolygonComponent as ɵi, PolylineComponent as ɵg, TileLayderComponent as ɵk, TrafficLayderComponent as ɵl, MapService as ɵb, ScriptLoader as ɵd, ScriptLoaderConfig as ɵc };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5ndWxhcjItYmFpZHUtbWFwLmpzLm1hcCIsInNvdXJjZXMiOlsibmc6Ly9hbmd1bGFyMi1iYWlkdS1tYXAvaGVscGVycy9vYmplY3QudHMiLCJuZzovL2FuZ3VsYXIyLWJhaWR1LW1hcC9oZWxwZXJzL3RyYW5zZm9ybWVyLnRzIiwibmc6Ly9hbmd1bGFyMi1iYWlkdS1tYXAvaGVscGVycy92YWxpZGF0ZS50cyIsIm5nOi8vYW5ndWxhcjItYmFpZHUtbWFwL3Byb3ZpZGVycy9zY3JpcHRMb2FkZXIudHMiLCJuZzovL2FuZ3VsYXIyLWJhaWR1LW1hcC90eXBlcy9NYXAudHMiLCJuZzovL2FuZ3VsYXIyLWJhaWR1LW1hcC9wcm92aWRlcnMvbWFwU2VydmljZS50cyIsIm5nOi8vYW5ndWxhcjItYmFpZHUtbWFwL2NvbXBvbmVudHMvY29udHJvbC5jb21wb25lbnQudHMiLCJuZzovL2FuZ3VsYXIyLWJhaWR1LW1hcC9jb21wb25lbnRzL21hcC5jb21wb25lbnQudHMiLCJuZzovL2FuZ3VsYXIyLWJhaWR1LW1hcC9jb21wb25lbnRzL21hcmtlci5jb21wb25lbnQudHMiLCJuZzovL2FuZ3VsYXIyLWJhaWR1LW1hcC9jb21wb25lbnRzL3BvbHlsaW5lLmNvbXBvbmVudC50cyIsIm5nOi8vYW5ndWxhcjItYmFpZHUtbWFwL2NvbXBvbmVudHMvY2lyY2xlLmNvbXBvbmVudC50cyIsIm5nOi8vYW5ndWxhcjItYmFpZHUtbWFwL2NvbXBvbmVudHMvcG9seWdvbi5jb21wb25lbnQudHMiLCJuZzovL2FuZ3VsYXIyLWJhaWR1LW1hcC9jb21wb25lbnRzL2hlYXRtYXAuY29tcG9uZW50LnRzIiwibmc6Ly9hbmd1bGFyMi1iYWlkdS1tYXAvY29tcG9uZW50cy90aWxlbGF5ZXIuY29tcG9uZW50LnRzIiwibmc6Ly9hbmd1bGFyMi1iYWlkdS1tYXAvY29tcG9uZW50cy90cmFmZmljbGF5ZXIuY29tcG9uZW50LnRzIiwibmc6Ly9hbmd1bGFyMi1iYWlkdS1tYXAvY29tcG9uZW50cy9tYXJrZXJDbHVzdGVyZXIuY29tcG9uZW50LnRzIiwibmc6Ly9hbmd1bGFyMi1iYWlkdS1tYXAvdHlwZXMvQ29udHJvbC50cyIsIm5nOi8vYW5ndWxhcjItYmFpZHUtbWFwL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBpc051bGwob2JqOiBhbnkpIHtcbiAgcmV0dXJuIG9iaiA9PT0gbnVsbCB8fCBvYmogPT09IHVuZGVmaW5lZFxufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNVbmRlZmluZWQob2JqOiBhbnkpIHtcbiAgcmV0dXJuIG9iaiA9PT0gdW5kZWZpbmVkXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Jvb2xlYW4ob2JqOiBhbnkpOiBvYmogaXMgYm9vbGVhbiB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgQm9vbGVhbl0nXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uKG9iajogYW55KTogb2JqIGlzIGJvb2xlYW4ge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSdcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzU3RyaW5nKG9iajogYW55KTogb2JqIGlzIGJvb2xlYW4ge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IFN0cmluZ10nXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvbWl0PFQ+KG9iajogVCwgLi4ua2V5czogQXJyYXk8c3RyaW5nPik6IFQge1xuICBjb25zdCByYXdLZXlzID0gT2JqZWN0LmtleXMob2JqKVxuICBjb25zdCBmaW5hbEtleXMgPSByYXdLZXlzLmZpbHRlcihrID0+IGtleXMuaW5kZXhPZihrKSA8IDApXG4gIHJldHVybiBmaW5hbEtleXMucmVkdWNlKFxuICAgIChwLCB2KSA9PiB7XG4gICAgICBwW3ZdID0gb2JqW3ZdXG4gICAgICByZXR1cm4gcFxuICAgIH0sXG4gICAgPFQ+e31cbiAgKVxufVxuIiwiaW1wb3J0IHtcbiAgQkdlb2xvY2F0aW9uQ29udHJvbE9wdGlvbnMsXG4gIEJNYXBUeXBlQ29udHJvbE9wdGlvbnMsXG4gIEJOYXZpZ2F0aW9uQ29udHJvbE9wdGlvbnMsXG4gIEJPdmVydmlld01hcENvbnRyb2xPcHRpb25zLFxuICBCU2NhbGVDb250cm9sT3B0aW9ucyxcbiAgR2VvbG9jYXRpb25Db250cm9sT3B0aW9ucyxcbiAgTWFwVHlwZUNvbnRyb2xPcHRpb25zLFxuICBOYXZpZ2F0aW9uQ29udHJvbE9wdGlvbnMsXG4gIE92ZXJ2aWV3TWFwQ29udHJvbE9wdGlvbnMsXG4gIFNjYWxlQ29udHJvbE9wdGlvbnNcbn0gZnJvbSAnLi4vdHlwZXMvQ29udHJvbCdcbmltcG9ydCB7IEJJY29uLCBJY29uT3B0aW9ucyB9IGZyb20gJy4uL3R5cGVzL0ljb24nXG5pbXBvcnQgeyBCTWFya2VyT3B0aW9ucywgTWFya2VyT3B0aW9ucyB9IGZyb20gJy4uL3R5cGVzL01hcmtlcidcbmltcG9ydCB7IEJQb2ludCwgUG9pbnQgfSBmcm9tICcuLi90eXBlcy9Qb2ludCdcbmltcG9ydCB7IEJTaXplLCBTaXplIH0gZnJvbSAnLi4vdHlwZXMvU2l6ZSdcblxuaW1wb3J0IHsgaXNOdWxsIH0gZnJvbSAnLi9vYmplY3QnXG5pbXBvcnQgeyBCTWFya2VyQ2x1c3RlcmVyT3B0aW9ucywgTWFya2VyQ2x1c3RlcmVyT3B0aW9ucyB9IGZyb20gJy4uL3R5cGVzL01hcmtlckNsdXN0ZXJlcidcbmltcG9ydCB7IFRleHRJY29uU3R5bGUsIEJUZXh0SWNvblN0eWxlIH0gZnJvbSAnLi4vdHlwZXMvVGV4dEljb25PdmVybGF5J1xuXG5leHBvcnQgZnVuY3Rpb24gdG9Qb2ludChvcHRzOiBQb2ludCk6IEJQb2ludCB7XG4gIGlmICghb3B0cykge1xuICAgIHJldHVybiBuZXcgd2luZG93LkJNYXAuUG9pbnQoKVxuICB9XG4gIHJldHVybiBuZXcgd2luZG93LkJNYXAuUG9pbnQob3B0cy5sbmcsIG9wdHMubGF0KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9Qb2ludHMob3B0czogQXJyYXk8UG9pbnQ+KTogQXJyYXk8QlBvaW50PiB7XG4gIGlmICghb3B0cykge1xuICAgIHJldHVybiBbXVxuICB9XG4gIHJldHVybiBvcHRzLm1hcChwID0+IHtcbiAgICByZXR1cm4gbmV3IHdpbmRvdy5CTWFwLlBvaW50KHAubG5nLCBwLmxhdClcbiAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvU2l6ZShvcHRzOiBTaXplKTogQlNpemUge1xuICBpZiAoIW9wdHMpIHtcbiAgICByZXR1cm4gbmV3IHdpbmRvdy5CTWFwLlNpemUoKVxuICB9XG4gIHJldHVybiBuZXcgd2luZG93LkJNYXAuU2l6ZShvcHRzLndpZHRoLCBvcHRzLmhlaWdodClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvSWNvbih1cmw6IHN0cmluZywgc2l6ZTogU2l6ZSwgb3B0aW9uczogSWNvbk9wdGlvbnMpOiBCSWNvbiB7XG4gIGlmICghc2l6ZSAmJiAhb3B0aW9ucykge1xuICAgIHJldHVybiBuZXcgd2luZG93LkJNYXAuSWNvbih1cmwpXG4gIH1cbiAgaWYgKCFzaXplKSB7XG4gICAgcmV0dXJuIG5ldyB3aW5kb3cuQk1hcC5JY29uKHVybCwgdG9TaXplKHNpemUpKVxuICB9XG4gIGNvbnN0IGljb25PcHRpb25zOiBhbnkgPSB7XG4gICAgYW5jaG9yOiB0b1NpemUob3B0aW9ucy5hbmNob3IpLFxuICAgIGltYWdlT2Zmc2V0OiB0b1NpemUob3B0aW9ucy5pbWFnZU9mZnNldCksXG4gICAgaW5mb1dpbmRvd0FuY2hvcjogdG9TaXplKG9wdGlvbnMuaW5mb1dpbmRvd0FuY2hvciksXG4gICAgcHJpbnRJbWFnZVVybDogb3B0aW9ucy5wcmludEltYWdlVXJsXG4gIH1cbiAgY29uc3QgaWNvbiA9IG5ldyB3aW5kb3cuQk1hcC5JY29uKHVybCwgdG9TaXplKHNpemUpLCBpY29uT3B0aW9ucylcbiAgaWYgKG9wdGlvbnMuaW1hZ2VTaXplKSB7XG4gICAgaWNvbi5zZXRJbWFnZVNpemUodG9TaXplKG9wdGlvbnMuaW1hZ2VTaXplKSlcbiAgfVxuICByZXR1cm4gaWNvblxufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9NYXJrZXJPcHRpb25zKG9wdGlvbnM6IE1hcmtlck9wdGlvbnMpOiBCTWFya2VyT3B0aW9ucyB7XG4gIGNvbnN0IG9wdHM6IEJNYXJrZXJPcHRpb25zID0ge31cblxuICBpZiAoIW9wdGlvbnMpIHtcbiAgICByZXR1cm4gb3B0c1xuICB9XG5cbiAgaWYgKG9wdGlvbnMub2Zmc2V0KSB7XG4gICAgb3B0cy5vZmZzZXQgPSB0b1NpemUob3B0aW9ucy5vZmZzZXQpXG4gIH1cblxuICBpZiAob3B0aW9ucy5pY29uKSB7XG4gICAgb3B0cy5pY29uID0gdG9JY29uKG9wdGlvbnMuaWNvbi5pbWFnZVVybCwgb3B0aW9ucy5pY29uLnNpemUsIG9wdGlvbnMuaWNvbilcbiAgfVxuICBpZiAoIWlzTnVsbChvcHRpb25zLmVuYWJsZU1hc3NDbGVhcikpIHtcbiAgICBvcHRzLmVuYWJsZU1hc3NDbGVhciA9IG9wdGlvbnMuZW5hYmxlTWFzc0NsZWFyXG4gIH1cbiAgaWYgKCFpc051bGwob3B0aW9ucy5lbmFibGVEcmFnZ2luZykpIHtcbiAgICBvcHRzLmVuYWJsZURyYWdnaW5nID0gb3B0aW9ucy5lbmFibGVEcmFnZ2luZ1xuICB9XG4gIGlmICghaXNOdWxsKG9wdGlvbnMuZW5hYmxlQ2xpY2tpbmcpKSB7XG4gICAgb3B0cy5lbmFibGVDbGlja2luZyA9IG9wdGlvbnMuZW5hYmxlQ2xpY2tpbmdcbiAgfVxuICBpZiAoIWlzTnVsbChvcHRpb25zLnJhaXNlT25EcmFnKSkge1xuICAgIG9wdHMucmFpc2VPbkRyYWcgPSBvcHRpb25zLnJhaXNlT25EcmFnXG4gIH1cbiAgaWYgKCFpc051bGwob3B0aW9ucy5kcmFnZ2luZ0N1cnNvcikpIHtcbiAgICBvcHRzLmRyYWdnaW5nQ3Vyc29yID0gb3B0aW9ucy5kcmFnZ2luZ0N1cnNvclxuICB9XG4gIGlmICghaXNOdWxsKG9wdGlvbnMucm90YXRpb24pKSB7XG4gICAgb3B0cy5yb3RhdGlvbiA9IG9wdGlvbnMucm90YXRpb25cbiAgfVxuICBpZiAoIWlzTnVsbChvcHRpb25zLnRpdGxlKSkge1xuICAgIG9wdHMudGl0bGUgPSBvcHRpb25zLnRpdGxlXG4gIH1cbiAgaWYgKCFpc051bGwob3B0aW9ucy5zaGFkb3cpKSB7XG4gICAgb3B0cy5zaGFkb3cgPSB0b0ljb24ob3B0aW9ucy5zaGFkb3cuaW1hZ2VVcmwsIG9wdGlvbnMuc2hhZG93LnNpemUsIG9wdGlvbnMuc2hhZG93KVxuICB9XG5cbiAgcmV0dXJuIG9wdHNcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvTmF2aWdhdGlvbkNvbnRyb2xPcHRpb25zKG9wdGlvbnM6IE5hdmlnYXRpb25Db250cm9sT3B0aW9ucyk6IEJOYXZpZ2F0aW9uQ29udHJvbE9wdGlvbnMge1xuICBjb25zdCBvcHRzOiBCTmF2aWdhdGlvbkNvbnRyb2xPcHRpb25zID0ge31cblxuICBpZiAoIW9wdGlvbnMpIHtcbiAgICByZXR1cm4gb3B0c1xuICB9XG5cbiAgaWYgKCFpc051bGwob3B0aW9ucy5hbmNob3IpKSB7XG4gICAgb3B0cy5hbmNob3IgPSBvcHRpb25zLmFuY2hvclxuICB9XG4gIGlmICghaXNOdWxsKG9wdGlvbnMuZW5hYmxlR2VvbG9jYXRpb24pKSB7XG4gICAgb3B0cy5lbmFibGVHZW9sb2NhdGlvbiA9IG9wdGlvbnMuZW5hYmxlR2VvbG9jYXRpb25cbiAgfVxuICBpZiAoIWlzTnVsbChvcHRpb25zLm9mZnNldCkpIHtcbiAgICBvcHRzLm9mZnNldCA9IHRvU2l6ZShvcHRpb25zLm9mZnNldClcbiAgfVxuICBpZiAoIWlzTnVsbChvcHRpb25zLnNob3dab29tSW5mbykpIHtcbiAgICBvcHRzLnNob3dab29tSW5mbyA9IG9wdGlvbnMuc2hvd1pvb21JbmZvXG4gIH1cblxuICBpZiAoIWlzTnVsbChvcHRpb25zLnR5cGUpKSB7XG4gICAgb3B0cy50eXBlID0gb3B0aW9ucy50eXBlXG4gIH1cbiAgcmV0dXJuIG9wdHNcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvT3ZlcnZpZXdNYXBDb250cm9sT3B0aW9ucyhvcHRpb25zOiBPdmVydmlld01hcENvbnRyb2xPcHRpb25zKTogQk92ZXJ2aWV3TWFwQ29udHJvbE9wdGlvbnMge1xuICBjb25zdCBvcHRzOiBCT3ZlcnZpZXdNYXBDb250cm9sT3B0aW9ucyA9IHt9XG5cbiAgaWYgKCFvcHRpb25zKSB7XG4gICAgcmV0dXJuIG9wdHNcbiAgfVxuXG4gIGlmICghaXNOdWxsKG9wdGlvbnMuYW5jaG9yKSkge1xuICAgIG9wdHMuYW5jaG9yID0gb3B0aW9ucy5hbmNob3JcbiAgfVxuICBpZiAoIWlzTnVsbChvcHRpb25zLmlzT3BlbikpIHtcbiAgICBvcHRzLmlzT3BlbiA9IG9wdGlvbnMuaXNPcGVuXG4gIH1cbiAgaWYgKCFpc051bGwob3B0aW9ucy5vZmZzZXQpKSB7XG4gICAgb3B0cy5vZmZzZXQgPSB0b1NpemUob3B0aW9ucy5vZmZzZXQpXG4gIH1cbiAgaWYgKCFpc051bGwob3B0aW9ucy5zaXplKSkge1xuICAgIG9wdHMuc2l6ZSA9IHRvU2l6ZShvcHRpb25zLnNpemUpXG4gIH1cbiAgcmV0dXJuIG9wdHNcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvU2NhbGVDb250cm9sT3B0aW9ucyhvcHRpb25zOiBTY2FsZUNvbnRyb2xPcHRpb25zKTogQlNjYWxlQ29udHJvbE9wdGlvbnMge1xuICBjb25zdCBvcHRzOiBCU2NhbGVDb250cm9sT3B0aW9ucyA9IHt9XG5cbiAgaWYgKCFvcHRpb25zKSB7XG4gICAgcmV0dXJuIG9wdHNcbiAgfVxuXG4gIGlmICghaXNOdWxsKG9wdGlvbnMuYW5jaG9yKSkge1xuICAgIG9wdHMuYW5jaG9yID0gb3B0aW9ucy5hbmNob3JcbiAgfVxuICBpZiAoIWlzTnVsbChvcHRpb25zLm9mZnNldCkpIHtcbiAgICBvcHRzLm9mZnNldCA9IHRvU2l6ZShvcHRpb25zLm9mZnNldClcbiAgfVxuICByZXR1cm4gb3B0c1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9NYXBUeXBlQ29udHJvbE9wdGlvbnMob3B0aW9uczogTWFwVHlwZUNvbnRyb2xPcHRpb25zKTogQk1hcFR5cGVDb250cm9sT3B0aW9ucyB7XG4gIGNvbnN0IG9wdHM6IEJNYXBUeXBlQ29udHJvbE9wdGlvbnMgPSB7fVxuXG4gIGlmICghb3B0aW9ucykge1xuICAgIHJldHVybiBvcHRzXG4gIH1cblxuICBpZiAoIWlzTnVsbChvcHRpb25zLnR5cGUpKSB7XG4gICAgb3B0cy50eXBlID0gb3B0aW9ucy50eXBlXG4gIH1cbiAgcmV0dXJuIG9wdHNcbn1cbmV4cG9ydCBmdW5jdGlvbiB0b0dlb2xvY2F0aW9uT3B0aW9ucyhvcHRpb25zOiBHZW9sb2NhdGlvbkNvbnRyb2xPcHRpb25zKTogQkdlb2xvY2F0aW9uQ29udHJvbE9wdGlvbnMge1xuICBjb25zdCBvcHRzOiBCR2VvbG9jYXRpb25Db250cm9sT3B0aW9ucyA9IHt9XG5cbiAgaWYgKCFvcHRpb25zKSB7XG4gICAgcmV0dXJuIG9wdHNcbiAgfVxuXG4gIGlmICghaXNOdWxsKG9wdGlvbnMuYW5jaG9yKSkge1xuICAgIG9wdHMuYW5jaG9yID0gb3B0aW9ucy5hbmNob3JcbiAgfVxuICBpZiAoIWlzTnVsbChvcHRpb25zLm9mZnNldCkpIHtcbiAgICBvcHRzLm9mZnNldCA9IHRvU2l6ZShvcHRpb25zLm9mZnNldClcbiAgfVxuICBpZiAoIWlzTnVsbChvcHRpb25zLmVuYWJsZUF1dG9Mb2NhdGlvbikpIHtcbiAgICBvcHRzLmVuYWJsZUF1dG9Mb2NhdGlvbiA9IG9wdGlvbnMuZW5hYmxlQXV0b0xvY2F0aW9uXG4gIH1cbiAgaWYgKCFpc051bGwob3B0aW9ucy5sb2NhdGlvbkljb24pKSB7XG4gICAgb3B0cy5sb2NhdGlvbkljb24gPSB0b0ljb24ob3B0aW9ucy5sb2NhdGlvbkljb24uaW1hZ2VVcmwsIG9wdGlvbnMubG9jYXRpb25JY29uLnNpemUsIG9wdGlvbnMubG9jYXRpb25JY29uKVxuICB9XG4gIGlmICghaXNOdWxsKG9wdGlvbnMuc2hvd0FkZHJlc3NCYXIpKSB7XG4gICAgb3B0cy5zaG93QWRkcmVzc0JhciA9IG9wdGlvbnMuc2hvd0FkZHJlc3NCYXJcbiAgfVxuICByZXR1cm4gb3B0c1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9UZXh0SWNvblN0eWxlKHN0eWxlOiBUZXh0SWNvblN0eWxlKTogQlRleHRJY29uU3R5bGUge1xuICBjb25zdCByZWFsU3R5bGU6IEJUZXh0SWNvblN0eWxlID0ge1xuICAgIHVybDogc3R5bGUudXJsLFxuICAgIHNpemU6IHRvU2l6ZShzdHlsZS5zaXplKVxuICB9XG4gIGlmIChzdHlsZS5hbmNob3IpIHtcbiAgICByZWFsU3R5bGUuYW5jaG9yID0gdG9TaXplKHN0eWxlLmFuY2hvcilcbiAgfVxuICBpZiAoc3R5bGUub2Zmc2V0KSB7XG4gICAgcmVhbFN0eWxlLm9mZnNldCA9IHRvU2l6ZShzdHlsZS5vZmZzZXQpXG4gIH1cbiAgaWYgKCFpc051bGwoc3R5bGUudGV4dFNpemUpKSB7XG4gICAgcmVhbFN0eWxlLnRleHRTaXplID0gc3R5bGUudGV4dFNpemVcbiAgfVxuICBpZiAoIWlzTnVsbChzdHlsZS50ZXh0Q29sb3IpKSB7XG4gICAgcmVhbFN0eWxlLnRleHRDb2xvciA9IHN0eWxlLnRleHRDb2xvclxuICB9XG5cbiAgcmV0dXJuIHJlYWxTdHlsZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9NYXJrZXJDbHVzdGVyZXJPcHRpb25zKG9wdGlvbnM6IE1hcmtlckNsdXN0ZXJlck9wdGlvbnMpOiBCTWFya2VyQ2x1c3RlcmVyT3B0aW9ucyB7XG4gIGNvbnN0IG9wdHM6IEJNYXJrZXJDbHVzdGVyZXJPcHRpb25zID0ge31cblxuICBpZiAoIW9wdGlvbnMpIHtcbiAgICByZXR1cm4gb3B0c1xuICB9XG5cbiAgaWYgKG9wdGlvbnMubWFya2Vycykge1xuICAgIG9wdHMubWFya2VycyA9IG9wdGlvbnMubWFya2Vycy5tYXAoXG4gICAgICBtID0+IG5ldyB3aW5kb3cuQk1hcC5NYXJrZXIodG9Qb2ludChtLnBvaW50KSwgdG9NYXJrZXJPcHRpb25zKG0ub3B0aW9ucykpXG4gICAgKVxuICB9XG5cbiAgaWYgKCFpc051bGwob3B0aW9ucy5naXJkU2l6ZSkpIHtcbiAgICBvcHRzLmdpcmRTaXplID0gb3B0aW9ucy5naXJkU2l6ZVxuICB9XG4gIGlmICghaXNOdWxsKG9wdGlvbnMubWF4Wm9vbSkpIHtcbiAgICBvcHRzLm1heFpvb20gPSBvcHRpb25zLm1heFpvb21cbiAgfVxuICBpZiAoIWlzTnVsbChvcHRpb25zLm1pbkNsdXN0ZXJTaXplKSkge1xuICAgIG9wdHMubWluQ2x1c3RlclNpemUgPSBvcHRpb25zLm1pbkNsdXN0ZXJTaXplXG4gIH1cbiAgaWYgKCFpc051bGwob3B0aW9ucy5pc0F2ZXJhbmdlQ2VudGVyKSkge1xuICAgIG9wdHMuaXNBdmVyYW5nZUNlbnRlciA9IG9wdGlvbnMuaXNBdmVyYW5nZUNlbnRlclxuICB9XG4gIGlmIChvcHRpb25zLnN0eWxlcykge1xuICAgIG9wdHMuc3R5bGVzID0gb3B0aW9ucy5zdHlsZXMuZmlsdGVyKHMgPT4gcykubWFwKHMgPT4gdG9UZXh0SWNvblN0eWxlKHMpKVxuICB9XG5cbiAgcmV0dXJuIG9wdHNcbn1cbiIsImltcG9ydCB7IGlzTnVsbCB9IGZyb20gJy4vb2JqZWN0J1xuXG5leHBvcnQgZnVuY3Rpb24gbnVsbENoZWNrKG9iajogYW55LCBtc2c6IHN0cmluZykge1xuICBpZiAoaXNOdWxsKG9iaikpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IobXNnKVxuICB9XG59XG4iLCJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSdcbmltcG9ydCB7IGlzU3RyaW5nIH0gZnJvbSAnLi4vaGVscGVycy9vYmplY3QnXG5pbXBvcnQgeyBTY3JpcHRUeXBlIH0gZnJvbSAnLi4vdHlwZXMvU2NyaXB0J1xuXG5leHBvcnQgZW51bSBMT0FESU5HX1NUQVRFIHtcbiAgTk9OID0gMCxcbiAgTE9BREVEID0gMSxcbiAgTE9BRElORyA9IDJcbn1cblxuZXhwb3J0IGNsYXNzIFNjcmlwdExvYWRlckNvbmZpZyB7XG4gIHB1YmxpYyBhazogc3RyaW5nID0gJydcbn1cblxud2luZG93Ll9zY3JpcHRMb2FkU3RhdGUgPSB7fVxud2luZG93Ll9sb2FkaW5nQ2FsbGJhY2tzID0ge31cblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIFNjcmlwdExvYWRlciB7XG4gIHB1YmxpYyBsb2FkKHVybDogc3RyaW5nIHwgU2NyaXB0VHlwZSwgaXNNYWluOiBib29sZWFuID0gZmFsc2UsIGNiOiAoKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgY29uc3Qgc2NyaXB0S2V5ID0gaXNTdHJpbmcodXJsKSA/IHVybCA6IHVybFsna2V5J11cbiAgICBjb25zdCBzY3JpcHRVcmxzID0gaXNTdHJpbmcodXJsKSA/IFt1cmxdIDogdXJsWydzY3JpcHRzJ11cblxuICAgIGlmICh3aW5kb3cuX3NjcmlwdExvYWRTdGF0ZVtzY3JpcHRLZXldID09PSBMT0FESU5HX1NUQVRFLkxPQURFRCkge1xuICAgICAgaWYgKGlzTWFpbikge1xuICAgICAgICBzd2l0Y2hEaXNwbGF5KCdiYWlkdS1tYXAgLmJhaWR1LW1hcC1pbnN0YW5jZScsICdibG9jaycpXG4gICAgICAgIHN3aXRjaERpc3BsYXkoJ2JhaWR1LW1hcCAuYmFpZHUtbWFwLW9mZmxpbmUnLCAnbm9uZScpXG4gICAgICB9XG4gICAgICByZXR1cm4gY2IoKVxuICAgIH1cbiAgICBpZiAoIXdpbmRvdy5fbG9hZGluZ0NhbGxiYWNrc1tzY3JpcHRLZXldKSB7XG4gICAgICB3aW5kb3cuX2xvYWRpbmdDYWxsYmFja3Nbc2NyaXB0S2V5XSA9IFtdXG4gICAgfVxuICAgIGlmICh3aW5kb3cuX3NjcmlwdExvYWRTdGF0ZVtzY3JpcHRLZXldID09PSBMT0FESU5HX1NUQVRFLkxPQURJTkcpIHtcbiAgICAgIHdpbmRvdy5fbG9hZGluZ0NhbGxiYWNrc1tzY3JpcHRLZXldLnB1c2goY2IpXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgd2luZG93Ll9zY3JpcHRMb2FkU3RhdGVbc2NyaXB0S2V5XSA9IExPQURJTkdfU1RBVEUuTE9BRElOR1xuICAgIHdpbmRvdy5fbG9hZGluZ0NhbGxiYWNrc1tzY3JpcHRLZXldLnB1c2goY2IpXG5cbiAgICBpZiAoaXNNYWluKSB7XG4gICAgICB3aW5kb3cuYmFpZHVtYXBpbml0ID0gKCkgPT4ge1xuICAgICAgICB3aW5kb3cuX3NjcmlwdExvYWRTdGF0ZVtzY3JpcHRLZXldID0gTE9BRElOR19TVEFURS5MT0FERURcbiAgICAgICAgc3dpdGNoRGlzcGxheSgnYmFpZHUtbWFwIC5iYWlkdS1tYXAtaW5zdGFuY2UnLCAnYmxvY2snKVxuICAgICAgICBzd2l0Y2hEaXNwbGF5KCdiYWlkdS1tYXAgLmJhaWR1LW1hcC1vZmZsaW5lJywgJ25vbmUnKVxuICAgICAgICB3aW5kb3cuX2xvYWRpbmdDYWxsYmFja3Nbc2NyaXB0S2V5XS5mb3JFYWNoKChjOiAoKSA9PiB2b2lkKSA9PiB7XG4gICAgICAgICAgYygpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuICAgIGFwcGVuZFNjcmlwdHNUYWcoc2NyaXB0S2V5LCBzY3JpcHRVcmxzLCBpc01haW4pXG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwZW5kU2NyaXB0c1RhZyhzY3JpcHRLZXk6IHN0cmluZywgdXJsczogQXJyYXk8c3RyaW5nPiwgaXNNYWluOiBib29sZWFuKSB7XG4gIGNvbnN0IGxlZnRPYmogPSB7XG4gICAgY291bnQ6IHVybHMubGVuZ3RoXG4gIH1cbiAgdXJscy5mb3JFYWNoKHVybCA9PiB7XG4gICAgYXBwZW5kU2NyaXB0VGFnKHNjcmlwdEtleSwgdXJsLCBpc01haW4sIGxlZnRPYmopXG4gIH0pXG59XG5cbmZ1bmN0aW9uIGFwcGVuZFNjcmlwdFRhZyhzY3JpcHRLZXk6IHN0cmluZywgdXJsOiBzdHJpbmcsIGlzTWFpbjogYm9vbGVhbiwgbGVmdE9iajogeyBjb3VudDogbnVtYmVyIH0pIHtcbiAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0JylcbiAgc2NyaXB0LnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0J1xuICBzY3JpcHQuc3JjID0gdXJsXG4gIHNjcmlwdC5vbmVycm9yID0gKCkgPT4ge1xuICAgIGlmIChpc01haW4pIHtcbiAgICAgIHN3aXRjaERpc3BsYXkoJ2JhaWR1LW1hcCAuYmFpZHUtbWFwLW9mZmxpbmUnLCAnYmxvY2snKVxuICAgICAgc3dpdGNoRGlzcGxheSgnYmFpZHUtbWFwIC5iYWlkdS1tYXAtaW5zdGFuY2UnLCAnbm9uZScpXG4gICAgfVxuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoc2NyaXB0KVxuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBhcHBlbmRTY3JpcHRUYWcoc2NyaXB0S2V5LCB1cmwsIGlzTWFpbiwgbGVmdE9iailcbiAgICB9LCAzMDAwMClcbiAgfVxuXG4gIGlmICghaXNNYWluKSB7XG4gICAgc2NyaXB0Lm9ubG9hZCA9ICgpID0+IHtcbiAgICAgIGxlZnRPYmouY291bnQtLVxuICAgICAgaWYgKGxlZnRPYmouY291bnQpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICB3aW5kb3cuX3NjcmlwdExvYWRTdGF0ZVtzY3JpcHRLZXldID0gTE9BRElOR19TVEFURS5MT0FERURcbiAgICAgIHdpbmRvdy5fbG9hZGluZ0NhbGxiYWNrc1tzY3JpcHRLZXldLmZvckVhY2goKGM6ICgpID0+IHZvaWQpID0+IHtcbiAgICAgICAgYygpXG4gICAgICB9KVxuICAgIH1cbiAgfVxuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdClcbn1cblxuZnVuY3Rpb24gc3dpdGNoRGlzcGxheShzZWxlY3Rvcjogc3RyaW5nLCBzdGF0ZTogc3RyaW5nKSB7XG4gIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKS5mb3JFYWNoKChub2RlOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgIG5vZGUuc3R5bGUuZGlzcGxheSA9IHN0YXRlXG4gIH0pXG59XG4iLCJpbXBvcnQgeyBCQm91bmRzIH0gZnJvbSAnLi9Cb3VuZHMnXG5pbXBvcnQgeyBCQ29udHJvbCB9IGZyb20gJy4vQ29udHJvbCdcbmltcG9ydCB7IE92ZXJsYXkgfSBmcm9tICcuL092ZXJsYXknXG5pbXBvcnQgeyBCUG9pbnQsIFBvaW50IH0gZnJvbSAnLi9Qb2ludCdcbmltcG9ydCB7IEJUaWxlTGF5ZXIgfSBmcm9tICcuL1RpbGVMYXllcidcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi9oZWxwZXJzL29iamVjdCdcbmltcG9ydCB7IEJTaXplIH0gZnJvbSAnLi9TaXplJ1xuaW1wb3J0IHsgQk1hcFR5cGUgfSBmcm9tICcuL01hcFR5cGUnXG5cbmV4cG9ydCBpbnRlcmZhY2UgQk1hcENvbnN0cnVjdG9yIHtcbiAgbmV3IChlbDogSFRNTEVsZW1lbnQgfCBzdHJpbmcsIG9wdHM6IE1hcE9wdGlvbnMpOiBCTWFwSW5zdGFuY2Vcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCTWFwSW5zdGFuY2Uge1xuICBkaXNhYmxlRHJhZ2dpbmcoKTogdm9pZFxuICBlbmFibGVEcmFnZ2luZygpOiB2b2lkXG5cbiAgZGlzYWJsZVNjcm9sbFdoZWVsWm9vbSgpOiB2b2lkXG4gIGVuYWJsZVNjcm9sbFdoZWVsWm9vbSgpOiB2b2lkXG5cbiAgZGlzYWJsZURvdWJsZUNsaWNrWm9vbSgpOiB2b2lkXG4gIGVuYWJsZURvdWJsZUNsaWNrWm9vbSgpOiB2b2lkXG5cbiAgZGlzYWJsZUtleWJvYXJkKCk6IHZvaWRcbiAgZW5hYmxlS2V5Ym9hcmQoKTogdm9pZFxuXG4gIGRpc2FibGVJbmVydGlhbERyYWdnaW5nKCk6IHZvaWRcbiAgZW5hYmxlSW5lcnRpYWxEcmFnZ2luZygpOiB2b2lkXG5cbiAgZGlzYWJsZUNvbnRpbnVvdXNab29tKCk6IHZvaWRcbiAgZW5hYmxlQ29udGludW91c1pvb20oKTogdm9pZFxuXG4gIGRpc2FibGVQaW5jaFRvWm9vbSgpOiB2b2lkXG4gIGVuYWJsZVBpbmNoVG9ab29tKCk6IHZvaWRcblxuICBkaXNhYmxlQXV0b1Jlc2l6ZSgpOiB2b2lkXG4gIGVuYWJsZUF1dG9SZXNpemUoKTogdm9pZFxuXG4gIGFkZENvbnRyb2woY29udHJvbDogQkNvbnRyb2wpOiB2b2lkXG4gIHJlbW92ZUNvbnRyb2woY29udHJvbDogQkNvbnRyb2wpOiB2b2lkXG5cbiAgYWRkT3ZlcmxheShjb250cm9sOiBPdmVybGF5KTogdm9pZFxuICByZW1vdmVPdmVybGF5KGNvbnRyb2w6IE92ZXJsYXkpOiB2b2lkXG4gIGNsZWFyT3ZlcmxheXMoKTogdm9pZFxuXG4gIGFkZFRpbGVMYXllcih0aWxlTGF5ZXI6IEJUaWxlTGF5ZXIpOiB2b2lkXG4gIHJlbW92ZVRpbGVMYXllcih0aWxlTGF5ZXI6IEJUaWxlTGF5ZXIpOiB2b2lkXG5cbiAgc2V0RGVmYXVsdEN1cnNvcihjdXJzb3I6IHN0cmluZyk6IHZvaWRcbiAgZ2V0RGVmYXVsdEN1cnNvcigpOiBzdHJpbmdcblxuICBzZXREcmFnZ2luZ0N1cnNvcihkcmFnZ2luZ0N1cnNvcjogc3RyaW5nKTogdm9pZFxuICBnZXREcmFnZ2luZ0N1cnNvcigpOiBzdHJpbmdcblxuICBzZXRNaW5ab29tKHpvb206IG51bWJlcik6IHZvaWRcbiAgc2V0TWF4Wm9vbSh6b29tOiBudW1iZXIpOiB2b2lkXG5cbiAgZ2V0Qm91bmRzKCk6IEJCb3VuZHNcblxuICBzZXRDZW50ZXIoY2VudGVyOiBCUG9pbnQgfCBzdHJpbmcpOiB2b2lkXG4gIGdldENlbnRlcigpOiBCUG9pbnRcblxuICBnZXREaXN0YW5jZShzdGFydDogQlBvaW50LCBlbmQ6IEJQb2ludCk6IG51bWJlclxuXG4gIHNldEN1cnJlbnRDaXR5KGNpdHk6IHN0cmluZyk6IHZvaWRcbiAgY2VudGVyQW5kWm9vbShjZW50ZXI6IEJQb2ludCwgem9vbTogbnVtYmVyKTogdm9pZFxuXG4gIHNldE1hcFR5cGUobWFwVHlwZTogQk1hcFR5cGUgfCBNYXBUeXBlRW51bSk6IHZvaWRcbiAgZ2V0TWFwVHlwZSgpOiBCTWFwVHlwZVxuXG4gIGdldFNpemUoKTogQlNpemVcblxuICBzZXRab29tKHpvb206IG51bWJlcik6IHZvaWRcbiAgZ2V0Wm9vbSgpOiBudW1iZXJcblxuICBwYW5UbyhjZW50ZXI6IEJQb2ludCwgb3B0czogQlBhbk9wdGlvbnMpOiB2b2lkXG5cbiAgcGFuQnkoeDogbnVtYmVyLCB5OiBudW1iZXIsIG9wdHM6IEJQYW5PcHRpb25zKTogdm9pZFxuXG4gIHJlc2V0KCk6IHZvaWRcblxuICBoaWdoUmVzb2x1dGlvbkVuYWJsZWQoKTogYm9vbGVhblxuXG4gIHpvb21JbigpOiB2b2lkXG4gIHpvb21PdXQoKTogdm9pZFxuXG4gIGdldENvbnRhaW5lcigpOiBIVE1MRWxlbWVudFxuXG4gIGNsb3NlSW5mb1dpbmRvdygpOiB2b2lkXG5cbiAgYWRkRXZlbnRMaXN0ZW5lcihldmVudDogc3RyaW5nLCBoYW5kbGVyOiAoZTogYW55KSA9PiB2b2lkKTogdm9pZFxuICByZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50OiBzdHJpbmcsIGhhbmRsZXI6ICgpID0+IHZvaWQpOiB2b2lkXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWFwT3B0aW9ucyB7XG4gIG1pblpvb20/OiBudW1iZXJcbiAgbWF4Wm9vbT86IG51bWJlclxuICBlbmFibGVIaWdoUmVzb2x1dGlvbj86IGJvb2xlYW5cbiAgZW5hYmxlQXV0b1Jlc2l6ZT86IGJvb2xlYW5cbiAgZW5hYmxlTWFwQ2xpY2s/OiBib29sZWFuXG5cbiAgZGlzYWJsZURyYWdnaW5nPzogYm9vbGVhblxuICBlbmFibGVTY3JvbGxXaGVlbFpvb20/OiBib29sZWFuXG4gIGRpc2FibGVEb3VibGVDbGlja1pvb20/OiBib29sZWFuXG4gIGVuYWJsZUtleWJvYXJkPzogYm9vbGVhblxuICBlbmFibGVJbmVydGlhbERyYWdnaW5nPzogYm9vbGVhblxuICBlbmFibGVDb250aW51b3VzWm9vbT86IGJvb2xlYW5cbiAgZGlzYWJsZVBpbmNoVG9ab29tPzogYm9vbGVhblxuXG4gIGN1cnNvcj86IHN0cmluZ1xuICBkcmFnZ2luZ0N1cnNvcj86IHN0cmluZ1xuICBjdXJyZW50Q2l0eT86IHN0cmluZ1xuICBjZW50ZXJBbmRab29tPzogQ2VudGVyQW5kWm9vbVxuXG4gIG1hcFR5cGU/OiBCTWFwVHlwZSB8IE1hcFR5cGVFbnVtXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2VudGVyQW5kWm9vbSBleHRlbmRzIFBvaW50IHtcbiAgem9vbT86IG51bWJlclxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJQYW5PcHRpb25zIHtcbiAgbm9BbmltYXRpb246IGJvb2xlYW5cbn1cblxuZXhwb3J0IGVudW0gTWFwVHlwZUVudW0ge1xuICBCTUFQX05PUk1BTF9NQVAgPSAnQk1BUF9OT1JNQUxfTUFQJyxcbiAgQk1BUF9QRVJTUEVDVElWRV9NQVAgPSAnQk1BUF9QRVJTUEVDVElWRV9NQVAnLFxuICBCTUFQX1NBVEVMTElURV9NQVAgPSAnQk1BUF9TQVRFTExJVEVfTUFQJyxcbiAgQk1BUF9IWUJSSURfTUFQID0gJ0JNQVBfSFlCUklEX01BUCdcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTWFwVHlwZUVudW0obWFwdHlwZTogTWFwVHlwZUVudW0gfCBCTWFwVHlwZSk6IG1hcHR5cGUgaXMgTWFwVHlwZUVudW0ge1xuICByZXR1cm4gIWlzRnVuY3Rpb24oKDxCTWFwVHlwZT5tYXB0eXBlKS5nZXRUaWxlTGF5ZXIpXG59XG4iLCJpbXBvcnQgeyBJbmplY3RhYmxlLCBJbmplY3QgfSBmcm9tICdAYW5ndWxhci9jb3JlJ1xuaW1wb3J0IHsgaXNCb29sZWFuLCBpc051bGwsIG9taXQgfSBmcm9tICcuLi9oZWxwZXJzL29iamVjdCdcbmltcG9ydCB7IG51bGxDaGVjayB9IGZyb20gJy4uL2hlbHBlcnMvdmFsaWRhdGUnXG5pbXBvcnQgeyBCQ29udHJvbCB9IGZyb20gJy4uL3R5cGVzL0NvbnRyb2wnXG5pbXBvcnQgeyBTY3JpcHRMb2FkZXJDb25maWcgfSBmcm9tICcuL3NjcmlwdExvYWRlcidcbmltcG9ydCB7IEJNYXBJbnN0YW5jZSwgTWFwT3B0aW9ucywgaXNNYXBUeXBlRW51bSB9IGZyb20gJy4uL3R5cGVzL01hcCdcbmltcG9ydCB7IE92ZXJsYXkgfSBmcm9tICcuLi90eXBlcy9PdmVybGF5J1xuaW1wb3J0IHsgQlRpbGVMYXllciB9IGZyb20gJy4uL3R5cGVzL1RpbGVMYXllcidcblxuaW1wb3J0IHsgdG9Qb2ludCB9IGZyb20gJy4uL2hlbHBlcnMvdHJhbnNmb3JtZXInXG5cbmltcG9ydCB7IFNjcmlwdExvYWRlciB9IGZyb20gJy4vc2NyaXB0TG9hZGVyJ1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgTWFwU2VydmljZSB7XG4gIHByaXZhdGUgX2NvbmZpZzogU2NyaXB0TG9hZGVyQ29uZmlnXG5cbiAgcHJpdmF0ZSBfbWFwOiBQcm9taXNlPEJNYXBJbnN0YW5jZT5cbiAgcHJpdmF0ZSBfbWFwUmVzb2x2ZXI6ICh2YWx1ZTogQk1hcEluc3RhbmNlKSA9PiB2b2lkXG5cbiAgY29uc3RydWN0b3IoQEluamVjdChTY3JpcHRMb2FkZXJDb25maWcpIGNvbmZpZzogU2NyaXB0TG9hZGVyQ29uZmlnLCBwcml2YXRlIF9sb2FkZXI6IFNjcmlwdExvYWRlcikge1xuICAgIG51bGxDaGVjayhjb25maWcuYWssICdhayBtdXN0IGJlIHByb3ZpZGVkJylcblxuICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZ1xuXG4gICAgdGhpcy5fbWFwID0gbmV3IFByb21pc2U8Qk1hcEluc3RhbmNlPigocmVzb2x2ZTogKCkgPT4gdm9pZCkgPT4ge1xuICAgICAgdGhpcy5fbWFwUmVzb2x2ZXIgPSByZXNvbHZlXG4gICAgfSlcbiAgfVxuXG4gIHB1YmxpYyBjcmVhdGVNYXAoZWw6IEhUTUxFbGVtZW50LCBtYXBPcHRpb25zOiBNYXBPcHRpb25zKTogUHJvbWlzZTxCTWFwSW5zdGFuY2U+IHtcbiAgICBjb25zdCBVUkwgPSBgaHR0cHM6Ly9hcGkubWFwLmJhaWR1LmNvbS9hcGk/dj0yLjAmYWs9JHt0aGlzLl9jb25maWcuYWt9JmNhbGxiYWNrPWJhaWR1bWFwaW5pdCZzPTFgXG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICB0aGlzLl9sb2FkZXIubG9hZChVUkwsIHRydWUsICgpID0+IHtcbiAgICAgICAgY29uc3QgbWFwID0gbmV3IHdpbmRvdy5CTWFwLk1hcChlbCwgb21pdChtYXBPcHRpb25zLCAnbWFwVHlwZScpKVxuICAgICAgICB0aGlzLnNldE9wdGlvbnMobWFwT3B0aW9ucylcbiAgICAgICAgdGhpcy5fbWFwUmVzb2x2ZXIobWFwKVxuICAgICAgICByZXNvbHZlKG1hcClcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIHB1YmxpYyBzZXRPcHRpb25zKG9wdHM6IE1hcE9wdGlvbnMpOiB2b2lkIHtcbiAgICBjb25zdCB7XG4gICAgICBkaXNhYmxlRHJhZ2dpbmcsXG4gICAgICBlbmFibGVTY3JvbGxXaGVlbFpvb20sXG4gICAgICBkaXNhYmxlRG91YmxlQ2xpY2tab29tLFxuICAgICAgZW5hYmxlS2V5Ym9hcmQsXG4gICAgICBlbmFibGVJbmVydGlhbERyYWdnaW5nLFxuICAgICAgZW5hYmxlQXV0b1Jlc2l6ZSxcbiAgICAgIGVuYWJsZUNvbnRpbnVvdXNab29tLFxuICAgICAgZGlzYWJsZVBpbmNoVG9ab29tXG4gICAgfSA9IG9wdHNcblxuICAgIGlmIChpc0Jvb2xlYW4oZGlzYWJsZURyYWdnaW5nKSkge1xuICAgICAgdGhpcy5fbWFwLnRoZW4obWFwID0+IG1hcFsoZGlzYWJsZURyYWdnaW5nID8gJ2Rpc2FibGUnIDogJ2VuYWJsZScpICsgJ0RyYWdnaW5nJ10oKSlcbiAgICB9XG4gICAgaWYgKGlzQm9vbGVhbihlbmFibGVTY3JvbGxXaGVlbFpvb20pKSB7XG4gICAgICB0aGlzLl9tYXAudGhlbihtYXAgPT4gbWFwWyhlbmFibGVTY3JvbGxXaGVlbFpvb20gPyAnZW5hYmxlJyA6ICdkaXNhYmxlJykgKyAnU2Nyb2xsV2hlZWxab29tJ10oKSlcbiAgICB9XG4gICAgaWYgKGlzQm9vbGVhbihlbmFibGVBdXRvUmVzaXplKSkge1xuICAgICAgdGhpcy5fbWFwLnRoZW4obWFwID0+IG1hcFsoZW5hYmxlQXV0b1Jlc2l6ZSA/ICdlbmFibGUnIDogJ2Rpc2FibGUnKSArICdBdXRvUmVzaXplJ10oKSlcbiAgICB9XG4gICAgaWYgKGlzQm9vbGVhbihkaXNhYmxlRG91YmxlQ2xpY2tab29tKSkge1xuICAgICAgdGhpcy5fbWFwLnRoZW4obWFwID0+IG1hcFsoZGlzYWJsZURvdWJsZUNsaWNrWm9vbSA/ICdkaXNhYmxlJyA6ICdlbmFibGUnKSArICdEb3VibGVDbGlja1pvb20nXSgpKVxuICAgIH1cbiAgICBpZiAoaXNCb29sZWFuKGVuYWJsZUtleWJvYXJkKSkge1xuICAgICAgdGhpcy5fbWFwLnRoZW4obWFwID0+IG1hcFsoZW5hYmxlS2V5Ym9hcmQgPyAnZW5hYmxlJyA6ICdkaXNhYmxlJykgKyAnS2V5Ym9hcmQnXSgpKVxuICAgIH1cbiAgICBpZiAoaXNCb29sZWFuKGVuYWJsZUluZXJ0aWFsRHJhZ2dpbmcpKSB7XG4gICAgICB0aGlzLl9tYXAudGhlbihtYXAgPT4gbWFwWyhlbmFibGVJbmVydGlhbERyYWdnaW5nID8gJ2VuYWJsZScgOiAnZGlzYWJsZScpICsgJ0luZXJ0aWFsRHJhZ2dpbmcnXSgpKVxuICAgIH1cbiAgICBpZiAoaXNCb29sZWFuKGVuYWJsZUNvbnRpbnVvdXNab29tKSkge1xuICAgICAgdGhpcy5fbWFwLnRoZW4obWFwID0+IG1hcFsoZW5hYmxlQ29udGludW91c1pvb20gPyAnZW5hYmxlJyA6ICdkaXNhYmxlJykgKyAnQ29udGludW91c1pvb20nXSgpKVxuICAgIH1cbiAgICBpZiAoaXNCb29sZWFuKGRpc2FibGVQaW5jaFRvWm9vbSkpIHtcbiAgICAgIHRoaXMuX21hcC50aGVuKG1hcCA9PiBtYXBbKGRpc2FibGVQaW5jaFRvWm9vbSA/ICdkaXNhYmxlJyA6ICdlbmFibGUnKSArICdQaW5jaFRvWm9vbSddKCkpXG4gICAgfVxuICAgIGlmICghaXNOdWxsKG9wdHMuY3Vyc29yKSkge1xuICAgICAgdGhpcy5fbWFwLnRoZW4obWFwID0+IG1hcC5zZXREZWZhdWx0Q3Vyc29yKG9wdHMuY3Vyc29yKSlcbiAgICB9XG4gICAgaWYgKCFpc051bGwob3B0cy5kcmFnZ2luZ0N1cnNvcikpIHtcbiAgICAgIHRoaXMuX21hcC50aGVuKG1hcCA9PiBtYXAuc2V0RHJhZ2dpbmdDdXJzb3Iob3B0cy5kcmFnZ2luZ0N1cnNvcikpXG4gICAgfVxuICAgIGlmICghaXNOdWxsKG9wdHMuY3VycmVudENpdHkpKSB7XG4gICAgICB0aGlzLl9tYXAudGhlbihtYXAgPT4gbWFwLnNldEN1cnJlbnRDaXR5KG9wdHMuY3VycmVudENpdHkpKVxuICAgIH1cbiAgICBpZiAoIWlzTnVsbChvcHRzLmNlbnRlckFuZFpvb20pKSB7XG4gICAgICB0aGlzLl9tYXAudGhlbihtYXAgPT4ge1xuICAgICAgICBtYXAuY2VudGVyQW5kWm9vbSh0b1BvaW50KG9wdHMuY2VudGVyQW5kWm9vbSksIG9wdHMuY2VudGVyQW5kWm9vbS56b29tKVxuICAgICAgfSlcbiAgICB9XG4gICAgaWYgKCFpc051bGwob3B0cy5tYXBUeXBlKSkge1xuICAgICAgdGhpcy5fbWFwLnRoZW4obWFwID0+IHtcbiAgICAgICAgY29uc3QgcmVhbFR5cGUgPSBpc01hcFR5cGVFbnVtKG9wdHMubWFwVHlwZSkgPyB3aW5kb3dbb3B0cy5tYXBUeXBlXSA6IG9wdHMubWFwVHlwZVxuICAgICAgICBtYXAuc2V0TWFwVHlwZShyZWFsVHlwZSlcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgcHVibGljIGFkZE92ZXJsYXkoY2I6IChtYXA6IEJNYXBJbnN0YW5jZSkgPT4gT3ZlcmxheSk6IFByb21pc2U8eyBtYXA6IEJNYXBJbnN0YW5jZTsgb3ZlcmxheTogT3ZlcmxheSB9PiB7XG4gICAgcmV0dXJuIHRoaXMuX21hcC50aGVuKChtYXA6IEJNYXBJbnN0YW5jZSkgPT4ge1xuICAgICAgY29uc3Qgb3ZlcmxheSA9IGNiKG1hcClcbiAgICAgIG1hcC5hZGRPdmVybGF5KG92ZXJsYXkpXG4gICAgICByZXR1cm4geyBtYXAsIG92ZXJsYXkgfVxuICAgIH0pXG4gIH1cblxuICBwdWJsaWMgcmVtb3ZlT3ZlcmxheShvdmVybGF5OiBPdmVybGF5KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIHRoaXMuX21hcC50aGVuKChtYXA6IEJNYXBJbnN0YW5jZSkgPT4ge1xuICAgICAgbWFwLnJlbW92ZU92ZXJsYXkob3ZlcmxheSlcbiAgICB9KVxuICB9XG5cbiAgcHVibGljIGFkZFRpbGVMYXllcihcbiAgICBjYjogKG1hcDogQk1hcEluc3RhbmNlKSA9PiBCVGlsZUxheWVyXG4gICk6IFByb21pc2U8eyBtYXA6IEJNYXBJbnN0YW5jZTsgdGlsZWxheWVyOiBCVGlsZUxheWVyIH0+IHtcbiAgICByZXR1cm4gdGhpcy5fbWFwLnRoZW4oKG1hcDogQk1hcEluc3RhbmNlKSA9PiB7XG4gICAgICBjb25zdCB0aWxlbGF5ZXIgPSBjYihtYXApXG4gICAgICBtYXAuYWRkVGlsZUxheWVyKHRpbGVsYXllcilcbiAgICAgIHJldHVybiB7IG1hcCwgdGlsZWxheWVyIH1cbiAgICB9KVxuICB9XG5cbiAgcHVibGljIHJlbW92ZVRpbGVMYXllcih0aWxlbGF5ZXI6IEJUaWxlTGF5ZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gdGhpcy5fbWFwLnRoZW4oKG1hcDogQk1hcEluc3RhbmNlKSA9PiB7XG4gICAgICBtYXAucmVtb3ZlT3ZlcmxheSh0aWxlbGF5ZXIpXG4gICAgfSlcbiAgfVxuXG4gIHB1YmxpYyBhZGRDb250cm9sKGNiOiAobWFwOiBCTWFwSW5zdGFuY2UpID0+IEJDb250cm9sKTogUHJvbWlzZTx7IG1hcDogQk1hcEluc3RhbmNlOyBjb250cm9sOiBCQ29udHJvbCB9PiB7XG4gICAgcmV0dXJuIHRoaXMuX21hcC50aGVuKChtYXA6IEJNYXBJbnN0YW5jZSkgPT4ge1xuICAgICAgY29uc3QgY29udHJvbCA9IGNiKG1hcClcbiAgICAgIG1hcC5hZGRDb250cm9sKGNvbnRyb2wpXG4gICAgICByZXR1cm4geyBtYXAsIGNvbnRyb2wgfVxuICAgIH0pXG4gIH1cblxuICBwdWJsaWMgcmVtb3ZlQ29udHJvbChjb250cm9sOiBCQ29udHJvbCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiB0aGlzLl9tYXAudGhlbigobWFwOiBCTWFwSW5zdGFuY2UpID0+IHtcbiAgICAgIG1hcC5yZW1vdmVDb250cm9sKGNvbnRyb2wpXG4gICAgfSlcbiAgfVxuXG4gIHB1YmxpYyBnZXROYXRpdmVNYXAoKTogUHJvbWlzZTxCTWFwSW5zdGFuY2U+IHtcbiAgICByZXR1cm4gdGhpcy5fbWFwXG4gIH1cbn1cbiIsImltcG9ydCB7IERpcmVjdGl2ZSwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT3V0cHV0LCBPbkRlc3Ryb3ksIE9uSW5pdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnXG5cbmltcG9ydCB7XG4gIHRvR2VvbG9jYXRpb25PcHRpb25zLFxuICB0b01hcFR5cGVDb250cm9sT3B0aW9ucyxcbiAgdG9OYXZpZ2F0aW9uQ29udHJvbE9wdGlvbnMsXG4gIHRvT3ZlcnZpZXdNYXBDb250cm9sT3B0aW9ucyxcbiAgdG9TY2FsZUNvbnRyb2xPcHRpb25zXG59IGZyb20gJy4uL2hlbHBlcnMvdHJhbnNmb3JtZXInXG5pbXBvcnQgeyBudWxsQ2hlY2sgfSBmcm9tICcuLi9oZWxwZXJzL3ZhbGlkYXRlJ1xuaW1wb3J0IHsgTWFwU2VydmljZSB9IGZyb20gJy4uL3Byb3ZpZGVycy9tYXBTZXJ2aWNlJ1xuaW1wb3J0IHsgQkNvbnRyb2wsIENvbnRyb2xUeXBlIH0gZnJvbSAnLi4vdHlwZXMvQ29udHJvbCdcblxuQERpcmVjdGl2ZSh7XG4gIHNlbGVjdG9yOiAnY29udHJvbCdcbn0pXG5leHBvcnQgY2xhc3MgQ29udHJvbENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25EZXN0cm95IHtcbiAgQElucHV0KCkgcHJpdmF0ZSB0eXBlOiBDb250cm9sVHlwZVxuICBASW5wdXQoKSBwcml2YXRlIG9wdGlvbnM6IHsgW2tleTogc3RyaW5nXTogYW55IH1cblxuICBAT3V0cHV0KCkgcHJpdmF0ZSBsb2FkZWQgPSBuZXcgRXZlbnRFbWl0dGVyKClcblxuICBwcml2YXRlIGNvbnRyb2w6IEJDb250cm9sXG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBfc2VydmljZTogTWFwU2VydmljZSkge31cblxuICBwdWJsaWMgbmdPbkluaXQoKSB7XG4gICAgbnVsbENoZWNrKHRoaXMudHlwZSwgJ3R5cGUgaXMgcmVxdWlyZWQgZm9yIDxjb250cm9sPicpXG5cbiAgICB0aGlzLl9zZXJ2aWNlXG4gICAgICAuYWRkQ29udHJvbCgoKSA9PiB7XG4gICAgICAgIHRoaXMuY29udHJvbCA9IHRoaXMuY3JlYXRlQ29udHJvbCh0aGlzLnR5cGUsIHRoaXMub3B0aW9ucylcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udHJvbFxuICAgICAgfSlcbiAgICAgIC50aGVuKCh7IGNvbnRyb2wgfSkgPT4ge1xuICAgICAgICB0aGlzLmxvYWRlZC5lbWl0KGNvbnRyb2wpXG4gICAgICB9KVxuICB9XG5cbiAgcHVibGljIG5nT25EZXN0cm95KCkge1xuICAgIHRoaXMuX3NlcnZpY2UucmVtb3ZlQ29udHJvbCh0aGlzLmNvbnRyb2wpXG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZUNvbnRyb2wodHlwZTogQ29udHJvbFR5cGUsIG9wdGlvbnM6IHsgW2tleTogc3RyaW5nXTogYW55IH0pOiBCQ29udHJvbCB7XG4gICAgaWYgKHR5cGUgPT09ICduYXZpZ2F0aW9uJykge1xuICAgICAgcmV0dXJuIG5ldyB3aW5kb3cuQk1hcC5OYXZpZ2F0aW9uQ29udHJvbCh0b05hdmlnYXRpb25Db250cm9sT3B0aW9ucyhvcHRpb25zKSlcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09ICdvdmVydmlld21hcCcpIHtcbiAgICAgIHJldHVybiBuZXcgd2luZG93LkJNYXAuT3ZlcnZpZXdNYXBDb250cm9sKHRvT3ZlcnZpZXdNYXBDb250cm9sT3B0aW9ucyhvcHRpb25zKSlcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09ICdzY2FsZScpIHtcbiAgICAgIHJldHVybiBuZXcgd2luZG93LkJNYXAuU2NhbGVDb250cm9sKHRvU2NhbGVDb250cm9sT3B0aW9ucyhvcHRpb25zKSlcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09ICdtYXB0eXBlJykge1xuICAgICAgcmV0dXJuIG5ldyB3aW5kb3cuQk1hcC5NYXBUeXBlQ29udHJvbCh0b01hcFR5cGVDb250cm9sT3B0aW9ucyhvcHRpb25zKSlcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09ICdnZW9sb2NhdGlvbicpIHtcbiAgICAgIHJldHVybiBuZXcgd2luZG93LkJNYXAuR2VvbG9jYXRpb25Db250cm9sKHRvR2VvbG9jYXRpb25PcHRpb25zKG9wdGlvbnMpKVxuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gJ3Bhbm9yYW1hJykge1xuICAgICAgcmV0dXJuIG5ldyB3aW5kb3cuQk1hcC5QYW5vcmFtYUNvbnRyb2woKVxuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIHR5cGU6JHt0eXBlfSBvZiBjb250cm9sYClcbiAgfVxufVxuIiwiaW1wb3J0IHtcbiAgQ29tcG9uZW50LFxuICBFbGVtZW50UmVmLFxuICBFdmVudEVtaXR0ZXIsXG4gIElucHV0LFxuICBPbkNoYW5nZXMsXG4gIE9uSW5pdCxcbiAgT3V0cHV0LFxuICBTaW1wbGVDaGFuZ2UsXG4gIFZpZXdDaGlsZFxufSBmcm9tICdAYW5ndWxhci9jb3JlJ1xuXG5pbXBvcnQgeyBNYXBTZXJ2aWNlIH0gZnJvbSAnLi4vcHJvdmlkZXJzL21hcFNlcnZpY2UnXG5pbXBvcnQgeyBCTWFwSW5zdGFuY2UsIE1hcE9wdGlvbnMgfSBmcm9tICcuLi90eXBlcy9NYXAnXG5cbmltcG9ydCB7IG51bGxDaGVjayB9IGZyb20gJy4uL2hlbHBlcnMvdmFsaWRhdGUnXG5cbkBDb21wb25lbnQoe1xuICBwcm92aWRlcnM6IFtNYXBTZXJ2aWNlXSxcbiAgc2VsZWN0b3I6ICdiYWlkdS1tYXAnLFxuICBzdHlsZXM6IFtcbiAgICBgXG4gICAgICAgIC5iYWlkdS1tYXAtaW5zdGFuY2Uge1xuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgICB9XG4gICAgICAgIC5iYWlkdS1tYXAtb2ZmbGluZSB7XG4gICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNFNkU2RTY7XG4gICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgICB9XG4gICAgICAgIC5iYWlkdS1tYXAtb2ZmbGluZSBsYWJlbCB7XG4gICAgICAgICAgICBmb250U2l6ZTogMzBweDtcbiAgICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICAgIHRvcDogNTAlO1xuICAgICAgICAgICAgbGVmdDogNTAlO1xuICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAtNTAlO1xuICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XG4gICAgICAgIH1cbiAgICAgICAgLnRyYW5jbHVkZS1jb250ZW50IHtcbiAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICAgIH1cbiAgICAgICAgYFxuICBdLFxuICB0ZW1wbGF0ZTogYFxuICAgIDxkaXYgI21hcGluc3RhbmNlIGNsYXNzPVwiYmFpZHUtbWFwLWluc3RhbmNlXCI+PC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cImJhaWR1LW1hcC1vZmZsaW5lXCI+XG4gICAgICAgIDxsYWJlbD57eyAnTk9fTkVUV09SSycgfX08L2xhYmVsPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJ0cmFuY2x1ZGUtY29udGVudFwiPlxuICAgICAgICA8bmctY29udGVudD48L25nLWNvbnRlbnQ+XG4gICAgPC9kaXY+XG4gICAgYFxufSlcbmV4cG9ydCBjbGFzcyBNYXBDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uQ2hhbmdlcyB7XG4gIEBJbnB1dCgpIHByaXZhdGUgb3B0aW9uczogTWFwT3B0aW9uc1xuXG4gIEBPdXRwdXQoKSBwcml2YXRlIGxvYWRlZCA9IG5ldyBFdmVudEVtaXR0ZXIoKVxuICBAT3V0cHV0KCkgcHJpdmF0ZSBjbGlja2VkID0gbmV3IEV2ZW50RW1pdHRlcigpXG5cbiAgQFZpZXdDaGlsZCgnbWFwaW5zdGFuY2UnKSBwcml2YXRlIG1hcEluc3RhbmNlOiBFbGVtZW50UmVmXG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBfc2VydmljZTogTWFwU2VydmljZSkge31cblxuICBwdWJsaWMgbmdPbkluaXQoKSB7XG4gICAgbnVsbENoZWNrKHRoaXMub3B0aW9ucywgJ29wdGlvbnMgaXMgcmVxdWlyZWQgZm9yIDxiYWlkdS1tYXA+JylcbiAgICBudWxsQ2hlY2sodGhpcy5vcHRpb25zLmNlbnRlckFuZFpvb20sICdvcHRpb25zLmNlbnRlckFuZFpvb20gaXMgcmVxdWlyZWQgZm9yIDxiYWlkdS1tYXA+JylcblxuICAgIHRoaXMuX3NlcnZpY2VcbiAgICAgIC5jcmVhdGVNYXAodGhpcy5tYXBJbnN0YW5jZS5uYXRpdmVFbGVtZW50LCB0aGlzLm9wdGlvbnMpXG4gICAgICAudGhlbihtYXAgPT4ge1xuICAgICAgICB0aGlzLmxvYWRlZC5lbWl0KG1hcClcbiAgICAgICAgcmV0dXJuIG1hcFxuICAgICAgfSlcbiAgICAgIC50aGVuKG1hcCA9PiB7XG4gICAgICAgIHRoaXMuYWRkTGlzdGVuZXIobWFwKVxuICAgICAgfSlcbiAgfVxuXG4gIHB1YmxpYyBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiB7IFtwcm9wZXJ0eU5hbWU6IHN0cmluZ106IFNpbXBsZUNoYW5nZSB9KSB7XG4gICAgY29uc3Qgb3B0cyA9IGNoYW5nZXMub3B0aW9ucy5jdXJyZW50VmFsdWUgYXMgTWFwT3B0aW9uc1xuICAgIGlmICghb3B0cykge1xuICAgICAgcmV0dXJuIGNvbnNvbGUud2FybignTWFwT3B0aW9ucyBjaGFuZ2Ugd2FzIGlnbm9yZWQgc2luY2UgeW91IGFyZSBwYXNzaW5nIGVtcHR5IHZhbHVlJylcbiAgICB9XG4gICAgdGhpcy5fc2VydmljZS5zZXRPcHRpb25zKG9wdHMpXG4gIH1cblxuICBwdWJsaWMgbmdPbkRlc3Ryb3koKSB7XG4gICAgY29uc29sZS5sb2coJ29uIG1hcCBkZXN0cm95JylcbiAgfVxuXG4gIHByaXZhdGUgYWRkTGlzdGVuZXIobWFwOiBCTWFwSW5zdGFuY2UpIHtcbiAgICBtYXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZTogYW55KSA9PiB7XG4gICAgICB0aGlzLmNsaWNrZWQuZW1pdChlKVxuICAgIH0pXG4gIH1cbn1cbiIsImltcG9ydCB7XG4gIERpcmVjdGl2ZSxcbiAgRXZlbnRFbWl0dGVyLFxuICBJbnB1dCxcbiAgT25DaGFuZ2VzLFxuICBPbkRlc3Ryb3ksXG4gIE9uSW5pdCxcbiAgT3V0cHV0LFxuICBTaW1wbGVDaGFuZ2Vcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSdcblxuaW1wb3J0IHsgaXNOdWxsIH0gZnJvbSAnLi4vaGVscGVycy9vYmplY3QnXG5pbXBvcnQgeyB0b0ljb24sIHRvTWFya2VyT3B0aW9ucywgdG9Qb2ludCwgdG9TaXplIH0gZnJvbSAnLi4vaGVscGVycy90cmFuc2Zvcm1lcidcbmltcG9ydCB7IG51bGxDaGVjayB9IGZyb20gJy4uL2hlbHBlcnMvdmFsaWRhdGUnXG5pbXBvcnQgeyBNYXBTZXJ2aWNlIH0gZnJvbSAnLi4vcHJvdmlkZXJzL21hcFNlcnZpY2UnXG5pbXBvcnQgeyBCTWFwSW5zdGFuY2UgfSBmcm9tICcuLi90eXBlcy9NYXAnXG5pbXBvcnQgeyBCTWFya2VyLCBNYXJrZXJPcHRpb25zIH0gZnJvbSAnLi4vdHlwZXMvTWFya2VyJ1xuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICcuLi90eXBlcy9Qb2ludCdcblxuQERpcmVjdGl2ZSh7XG4gIHNlbGVjdG9yOiAnbWFya2VyJ1xufSlcbmV4cG9ydCBjbGFzcyBNYXJrZXJDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uQ2hhbmdlcywgT25EZXN0cm95IHtcbiAgQElucHV0KCkgcHJpdmF0ZSBwb2ludDogUG9pbnRcbiAgQElucHV0KCkgcHJpdmF0ZSBvcHRpb25zOiBNYXJrZXJPcHRpb25zXG5cbiAgQE91dHB1dCgpIHByaXZhdGUgbG9hZGVkID0gbmV3IEV2ZW50RW1pdHRlcigpXG4gIEBPdXRwdXQoKSBwcml2YXRlIGNsaWNrZWQgPSBuZXcgRXZlbnRFbWl0dGVyKClcblxuICBwcml2YXRlIG1hcmtlcjogQk1hcmtlclxuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgX3NlcnZpY2U6IE1hcFNlcnZpY2UpIHt9XG5cbiAgcHVibGljIG5nT25Jbml0KCkge1xuICAgIG51bGxDaGVjayh0aGlzLnBvaW50LCAncG9pbnQgaXMgcmVxdWlyZWQgZm9yIDxtYXJrZXI+JylcblxuICAgIHRoaXMuX3NlcnZpY2VcbiAgICAgIC5hZGRPdmVybGF5KCgpID0+IHtcbiAgICAgICAgcmV0dXJuICh0aGlzLm1hcmtlciA9IG5ldyB3aW5kb3cuQk1hcC5NYXJrZXIodG9Qb2ludCh0aGlzLnBvaW50KSwgdG9NYXJrZXJPcHRpb25zKHRoaXMub3B0aW9ucykpKVxuICAgICAgfSlcbiAgICAgIC50aGVuKCh7IG1hcCB9KSA9PiB7XG4gICAgICAgIHRoaXMubG9hZGVkLmVtaXQodGhpcy5tYXJrZXIpXG4gICAgICAgIHRoaXMuYWRkTGlzdGVuZXIodGhpcy5tYXJrZXIsIG1hcClcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIC8vIHdvcmthcm91bmQ6IGl0J3Mgd2VpcmQgdGhhdCBwb3N0aW9uIGlzIHNldCB3aGlsZSBjb25zdHJ1Y3RpbmcgcGhhc2Ugd2lsbCBtYWtlIGNsaWNrIGV2ZW50IG5vdCB3b3JraW5nXG4gICAgICAgIHRoaXMubWFya2VyLnNldFBvc2l0aW9uKG5ldyB3aW5kb3cuQk1hcC5Qb2ludCh0aGlzLnBvaW50LmxuZywgdGhpcy5wb2ludC5sYXQpKVxuICAgICAgfSlcbiAgfVxuXG4gIHB1YmxpYyBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiB7IFtwcm9wZXJ0eU5hbWU6IHN0cmluZ106IFNpbXBsZUNoYW5nZSB9KSB7XG4gICAgaWYgKGNoYW5nZXMucG9pbnQgJiYgIWNoYW5nZXMucG9pbnQuaXNGaXJzdENoYW5nZSgpKSB7XG4gICAgICB0aGlzLm1hcmtlci5zZXRQb3NpdGlvbih0b1BvaW50KGNoYW5nZXMucG9pbnQuY3VycmVudFZhbHVlKSlcbiAgICB9XG4gICAgaWYgKGNoYW5nZXMub3B0aW9ucyAmJiAhY2hhbmdlcy5vcHRpb25zLmlzRmlyc3RDaGFuZ2UoKSkge1xuICAgICAgdGhpcy5zZXRPcHRpb25zKGNoYW5nZXMub3B0aW9ucy5jdXJyZW50VmFsdWUpXG4gICAgfVxuICB9XG5cbiAgcHVibGljIG5nT25EZXN0cm95KCkge1xuICAgIHRoaXMuX3NlcnZpY2UucmVtb3ZlT3ZlcmxheSh0aGlzLm1hcmtlcilcbiAgfVxuXG4gIHByaXZhdGUgc2V0T3B0aW9ucyhvcHRpb25zOiBNYXJrZXJPcHRpb25zKTogdm9pZCB7XG4gICAgaWYgKGlzTnVsbChvcHRpb25zKSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmICghaXNOdWxsKG9wdGlvbnMub2Zmc2V0KSkge1xuICAgICAgdGhpcy5tYXJrZXIuc2V0T2Zmc2V0KHRvU2l6ZShvcHRpb25zLm9mZnNldCkpXG4gICAgfVxuICAgIGlmICghaXNOdWxsKG9wdGlvbnMuaWNvbikpIHtcbiAgICAgIHRoaXMubWFya2VyLnNldEljb24odG9JY29uKG9wdGlvbnMuaWNvbi5pbWFnZVVybCwgb3B0aW9ucy5pY29uLnNpemUsIG9wdGlvbnMuaWNvbikpXG4gICAgfVxuICAgIGlmICghaXNOdWxsKG9wdGlvbnMuZW5hYmxlTWFzc0NsZWFyKSkge1xuICAgICAgdGhpcy5tYXJrZXJbKG9wdGlvbnMuZW5hYmxlTWFzc0NsZWFyID8gJ2VuYWJsZScgOiAnZGlzYWJsZScpICsgJ01hc3NDbGVhciddKClcbiAgICB9XG4gICAgaWYgKCFpc051bGwob3B0aW9ucy5lbmFibGVEcmFnZ2luZykpIHtcbiAgICAgIHRoaXMubWFya2VyWyhvcHRpb25zLmVuYWJsZURyYWdnaW5nID8gJ2VuYWJsZScgOiAnZGlzYWJsZScpICsgJ0RyYWdnaW5nJ10oKVxuICAgIH1cbiAgICBpZiAoIWlzTnVsbChvcHRpb25zLnJvdGF0aW9uKSkge1xuICAgICAgdGhpcy5tYXJrZXIuc2V0Um90YXRpb24ob3B0aW9ucy5yb3RhdGlvbilcbiAgICB9XG4gICAgaWYgKCFpc051bGwob3B0aW9ucy5zaGFkb3cpKSB7XG4gICAgICB0aGlzLm1hcmtlci5zZXRTaGFkb3codG9JY29uKG9wdGlvbnMuc2hhZG93LmltYWdlVXJsLCBvcHRpb25zLnNoYWRvdy5zaXplLCBvcHRpb25zLnNoYWRvdykpXG4gICAgfVxuICAgIGlmICghaXNOdWxsKG9wdGlvbnMudGl0bGUpKSB7XG4gICAgICB0aGlzLm1hcmtlci5zZXRUaXRsZShvcHRpb25zLnRpdGxlKVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYWRkTGlzdGVuZXIobWFya2VyOiBCTWFya2VyLCBtYXA6IEJNYXBJbnN0YW5jZSkge1xuICAgIG1hcmtlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlOiBhbnkpID0+IHtcbiAgICAgIHRoaXMuY2xpY2tlZC5lbWl0KHtcbiAgICAgICAgZSxcbiAgICAgICAgbWFwLFxuICAgICAgICBtYXJrZXJcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuIiwiaW1wb3J0IHtcbiAgRGlyZWN0aXZlLFxuICBFdmVudEVtaXR0ZXIsXG4gIElucHV0LFxuICBPbkNoYW5nZXMsXG4gIE9uRGVzdHJveSxcbiAgT25Jbml0LFxuICBPdXRwdXQsXG4gIFNpbXBsZUNoYW5nZVxufSBmcm9tICdAYW5ndWxhci9jb3JlJ1xuXG5pbXBvcnQgeyBpc051bGwsIGlzVW5kZWZpbmVkIH0gZnJvbSAnLi4vaGVscGVycy9vYmplY3QnXG5pbXBvcnQgeyB0b1BvaW50cyB9IGZyb20gJy4uL2hlbHBlcnMvdHJhbnNmb3JtZXInXG5pbXBvcnQgeyBudWxsQ2hlY2sgfSBmcm9tICcuLi9oZWxwZXJzL3ZhbGlkYXRlJ1xuaW1wb3J0IHsgTWFwU2VydmljZSB9IGZyb20gJy4uL3Byb3ZpZGVycy9tYXBTZXJ2aWNlJ1xuaW1wb3J0IHsgQlBvbHlsaW5lLCBQb2x5bGluZU9wdGlvbnMgfSBmcm9tICcuLi90eXBlcy9Qb2x5bGluZSdcbmltcG9ydCB7IFBvaW50IH0gZnJvbSAnLi4vdHlwZXMvUG9pbnQnXG5cbkBEaXJlY3RpdmUoe1xuICBzZWxlY3RvcjogJ3BvbHlsaW5lJ1xufSlcbmV4cG9ydCBjbGFzcyBQb2x5bGluZUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25DaGFuZ2VzLCBPbkRlc3Ryb3kge1xuICBASW5wdXQoKSBwcml2YXRlIHBvaW50czogQXJyYXk8UG9pbnQ+XG4gIEBJbnB1dCgpIHByaXZhdGUgb3B0aW9uczogUG9seWxpbmVPcHRpb25zXG5cbiAgQE91dHB1dCgpIHByaXZhdGUgbG9hZGVkID0gbmV3IEV2ZW50RW1pdHRlcigpXG5cbiAgcHJpdmF0ZSBwb2x5bGluZTogQlBvbHlsaW5lXG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBfc2VydmljZTogTWFwU2VydmljZSkge31cblxuICBwdWJsaWMgbmdPbkluaXQoKSB7XG4gICAgbnVsbENoZWNrKHRoaXMucG9pbnRzLCAncG9pbnRzIGlzIHJlcXVpcmVkIGZvciA8cG9seWxpbmU+JylcblxuICAgIHRoaXMuX3NlcnZpY2VcbiAgICAgIC5hZGRPdmVybGF5KCgpID0+IHtcbiAgICAgICAgcmV0dXJuICh0aGlzLnBvbHlsaW5lID0gbmV3IHdpbmRvdy5CTWFwLlBvbHlsaW5lKHRvUG9pbnRzKHRoaXMucG9pbnRzKSwgdGhpcy5vcHRpb25zKSlcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIHRoaXMubG9hZGVkLmVtaXQodGhpcy5wb2x5bGluZSlcbiAgICAgIH0pXG4gIH1cblxuICBwdWJsaWMgbmdPbkNoYW5nZXMoY2hhbmdlczogeyBbcHJvcGVydHlOYW1lOiBzdHJpbmddOiBTaW1wbGVDaGFuZ2UgfSkge1xuICAgIGlmIChjaGFuZ2VzLnBvaW50cyAmJiAhY2hhbmdlcy5wb2ludHMuaXNGaXJzdENoYW5nZSgpKSB7XG4gICAgICB0aGlzLnBvbHlsaW5lLnNldFBhdGgodG9Qb2ludHMoY2hhbmdlcy5wb2ludHMuY3VycmVudFZhbHVlKSlcbiAgICB9XG4gICAgaWYgKGNoYW5nZXMub3B0aW9ucyAmJiAhY2hhbmdlcy5vcHRpb25zLmlzRmlyc3RDaGFuZ2UoKSkge1xuICAgICAgdGhpcy5zZXRPcHRpb25zKGNoYW5nZXMub3B0aW9ucy5jdXJyZW50VmFsdWUpXG4gICAgfVxuICB9XG5cbiAgcHVibGljIG5nT25EZXN0cm95KCkge1xuICAgIHRoaXMuX3NlcnZpY2UucmVtb3ZlT3ZlcmxheSh0aGlzLnBvbHlsaW5lKVxuICB9XG5cbiAgcHJpdmF0ZSBzZXRPcHRpb25zKG9wdGlvbnM6IFBvbHlsaW5lT3B0aW9ucyk6IHZvaWQge1xuICAgIGlmIChpc051bGwob3B0aW9ucykpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKG9wdGlvbnMuZW5hYmxlRWRpdGluZykpIHtcbiAgICAgIGlmIChvcHRpb25zLmVuYWJsZUVkaXRpbmcpIHtcbiAgICAgICAgdGhpcy5wb2x5bGluZS5lbmFibGVFZGl0aW5nKClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucG9seWxpbmUuZGlzYWJsZUVkaXRpbmcoKVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKG9wdGlvbnMuZW5hYmxlTWFzc0NsZWFyKSkge1xuICAgICAgaWYgKG9wdGlvbnMuZW5hYmxlRWRpdGluZykge1xuICAgICAgICB0aGlzLnBvbHlsaW5lLmVuYWJsZU1hc3NDbGVhcigpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnBvbHlsaW5lLmRpc2FibGVNYXNzQ2xlYXIoKVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKG9wdGlvbnMuc3Ryb2tlQ29sb3IpKSB7XG4gICAgICB0aGlzLnBvbHlsaW5lLnNldFN0cm9rZUNvbG9yKG9wdGlvbnMuc3Ryb2tlQ29sb3IpXG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQob3B0aW9ucy5zdHJva2VPcGFjaXR5KSkge1xuICAgICAgdGhpcy5wb2x5bGluZS5zZXRTdHJva2VPcGFjaXR5KG9wdGlvbnMuc3Ryb2tlT3BhY2l0eSlcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChvcHRpb25zLnN0cm9rZVN0eWxlKSkge1xuICAgICAgdGhpcy5wb2x5bGluZS5zZXRTdHJva2VTdHlsZShvcHRpb25zLnN0cm9rZVN0eWxlKVxuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKG9wdGlvbnMuc3Ryb2tlV2VpZ2h0KSkge1xuICAgICAgdGhpcy5wb2x5bGluZS5zZXRTdHJva2VXZWlnaHQob3B0aW9ucy5zdHJva2VXZWlnaHQpXG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQge1xuICBEaXJlY3RpdmUsXG4gIEV2ZW50RW1pdHRlcixcbiAgSW5wdXQsXG4gIE9uQ2hhbmdlcyxcbiAgT25EZXN0cm95LFxuICBPbkluaXQsXG4gIE91dHB1dCxcbiAgU2ltcGxlQ2hhbmdlXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnXG5cbmltcG9ydCB7IGlzTnVsbCwgaXNVbmRlZmluZWQgfSBmcm9tICcuLi9oZWxwZXJzL29iamVjdCdcbmltcG9ydCB7IHRvUG9pbnQgfSBmcm9tICcuLi9oZWxwZXJzL3RyYW5zZm9ybWVyJ1xuaW1wb3J0IHsgbnVsbENoZWNrIH0gZnJvbSAnLi4vaGVscGVycy92YWxpZGF0ZSdcbmltcG9ydCB7IE1hcFNlcnZpY2UgfSBmcm9tICcuLi9wcm92aWRlcnMvbWFwU2VydmljZSdcbmltcG9ydCB7IEJDaXJjbGUsIENpcmNsZU9wdGlvbnMgfSBmcm9tICcuLi90eXBlcy9DaXJjbGUnXG5pbXBvcnQgeyBQb2ludCB9IGZyb20gJy4uL3R5cGVzL1BvaW50J1xuXG5ARGlyZWN0aXZlKHtcbiAgc2VsZWN0b3I6ICdjaXJjbGUnXG59KVxuZXhwb3J0IGNsYXNzIENpcmNsZUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25DaGFuZ2VzLCBPbkRlc3Ryb3kge1xuICBASW5wdXQoKSBwcml2YXRlIGNlbnRlcjogUG9pbnRcbiAgQElucHV0KCkgcHJpdmF0ZSByYWRpdXM6IG51bWJlclxuICBASW5wdXQoKSBwcml2YXRlIG9wdGlvbnM6IENpcmNsZU9wdGlvbnNcblxuICBAT3V0cHV0KCkgcHJpdmF0ZSBsb2FkZWQgPSBuZXcgRXZlbnRFbWl0dGVyKClcblxuICBwcml2YXRlIGNpcmNsZTogQkNpcmNsZVxuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgX3NlcnZpY2U6IE1hcFNlcnZpY2UpIHt9XG5cbiAgcHVibGljIG5nT25Jbml0KCkge1xuICAgIG51bGxDaGVjayh0aGlzLmNlbnRlciwgJ2NlbnRlciBpcyByZXF1aXJlZCBmb3IgPGNpcmNsZT4nKVxuICAgIG51bGxDaGVjayh0aGlzLnJhZGl1cywgJ2NlbnRlciBpcyByZXF1aXJlZCBmb3IgPGNpcmNsZT4nKVxuXG4gICAgdGhpcy5fc2VydmljZVxuICAgICAgLmFkZE92ZXJsYXkoKCkgPT4ge1xuICAgICAgICByZXR1cm4gKHRoaXMuY2lyY2xlID0gbmV3IHdpbmRvdy5CTWFwLkNpcmNsZSh0b1BvaW50KHRoaXMuY2VudGVyKSwgdGhpcy5yYWRpdXMsIHRoaXMub3B0aW9ucykpXG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICB0aGlzLmxvYWRlZC5lbWl0KHRoaXMuY2lyY2xlKVxuICAgICAgfSlcbiAgfVxuXG4gIHB1YmxpYyBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiB7IFtwcm9wZXJ0eU5hbWU6IHN0cmluZ106IFNpbXBsZUNoYW5nZSB9KSB7XG4gICAgaWYgKGNoYW5nZXMuY2VudGVyICYmICFjaGFuZ2VzLmNlbnRlci5pc0ZpcnN0Q2hhbmdlKCkpIHtcbiAgICAgIHRoaXMuY2lyY2xlLnNldENlbnRlcih0b1BvaW50KGNoYW5nZXMuY2VudGVyLmN1cnJlbnRWYWx1ZSkpXG4gICAgfVxuICAgIGlmIChjaGFuZ2VzLnJhZGl1cyAmJiAhY2hhbmdlcy5yYWRpdXMuaXNGaXJzdENoYW5nZSgpKSB7XG4gICAgICB0aGlzLmNpcmNsZS5zZXRSYWRpdXMoY2hhbmdlcy5yYWRpdXMuY3VycmVudFZhbHVlKVxuICAgIH1cbiAgICBpZiAoY2hhbmdlcy5vcHRpb25zICYmICFjaGFuZ2VzLm9wdGlvbnMuaXNGaXJzdENoYW5nZSgpKSB7XG4gICAgICB0aGlzLnNldE9wdGlvbnMoY2hhbmdlcy5vcHRpb25zLmN1cnJlbnRWYWx1ZSlcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgbmdPbkRlc3Ryb3koKSB7XG4gICAgdGhpcy5fc2VydmljZS5yZW1vdmVPdmVybGF5KHRoaXMuY2lyY2xlKVxuICB9XG5cbiAgcHJpdmF0ZSBzZXRPcHRpb25zKG9wdGlvbnM6IENpcmNsZU9wdGlvbnMpOiB2b2lkIHtcbiAgICBpZiAoaXNOdWxsKG9wdGlvbnMpKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChvcHRpb25zLmVuYWJsZUVkaXRpbmcpKSB7XG4gICAgICBpZiAob3B0aW9ucy5lbmFibGVFZGl0aW5nKSB7XG4gICAgICAgIHRoaXMuY2lyY2xlLmVuYWJsZUVkaXRpbmcoKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jaXJjbGUuZGlzYWJsZUVkaXRpbmcoKVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKG9wdGlvbnMuZW5hYmxlTWFzc0NsZWFyKSkge1xuICAgICAgaWYgKG9wdGlvbnMuZW5hYmxlRWRpdGluZykge1xuICAgICAgICB0aGlzLmNpcmNsZS5lbmFibGVNYXNzQ2xlYXIoKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jaXJjbGUuZGlzYWJsZU1hc3NDbGVhcigpXG4gICAgICB9XG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQob3B0aW9ucy5zdHJva2VDb2xvcikpIHtcbiAgICAgIHRoaXMuY2lyY2xlLnNldFN0cm9rZUNvbG9yKG9wdGlvbnMuc3Ryb2tlQ29sb3IpXG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQob3B0aW9ucy5maWxsQ29sb3IpKSB7XG4gICAgICB0aGlzLmNpcmNsZS5zZXRGaWxsQ29sb3Iob3B0aW9ucy5maWxsQ29sb3IpXG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQob3B0aW9ucy5zdHJva2VPcGFjaXR5KSkge1xuICAgICAgdGhpcy5jaXJjbGUuc2V0U3Ryb2tlT3BhY2l0eShvcHRpb25zLnN0cm9rZU9wYWNpdHkpXG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQob3B0aW9ucy5maWxsT3BhY2l0eSkpIHtcbiAgICAgIHRoaXMuY2lyY2xlLnNldEZpbGxPcGFjaXR5KG9wdGlvbnMuZmlsbE9wYWNpdHkpXG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQob3B0aW9ucy5zdHJva2VTdHlsZSkpIHtcbiAgICAgIHRoaXMuY2lyY2xlLnNldFN0cm9rZVN0eWxlKG9wdGlvbnMuc3Ryb2tlU3R5bGUpXG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQob3B0aW9ucy5zdHJva2VXZWlnaHQpKSB7XG4gICAgICB0aGlzLmNpcmNsZS5zZXRTdHJva2VXZWlnaHQob3B0aW9ucy5zdHJva2VXZWlnaHQpXG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQge1xuICBEaXJlY3RpdmUsXG4gIEV2ZW50RW1pdHRlcixcbiAgSW5wdXQsXG4gIE9uQ2hhbmdlcyxcbiAgT25EZXN0cm95LFxuICBPbkluaXQsXG4gIE91dHB1dCxcbiAgU2ltcGxlQ2hhbmdlXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnXG5cbmltcG9ydCB7IGlzTnVsbCwgaXNVbmRlZmluZWQgfSBmcm9tICcuLi9oZWxwZXJzL29iamVjdCdcbmltcG9ydCB7IHRvUG9pbnRzIH0gZnJvbSAnLi4vaGVscGVycy90cmFuc2Zvcm1lcidcbmltcG9ydCB7IG51bGxDaGVjayB9IGZyb20gJy4uL2hlbHBlcnMvdmFsaWRhdGUnXG5pbXBvcnQgeyBNYXBTZXJ2aWNlIH0gZnJvbSAnLi4vcHJvdmlkZXJzL21hcFNlcnZpY2UnXG5pbXBvcnQgeyBCUG9seWdvbiwgUG9seWdvbk9wdGlvbnMgfSBmcm9tICcuLi90eXBlcy9Qb2x5Z29uJ1xuaW1wb3J0IHsgUG9pbnQgfSBmcm9tICcuLi90eXBlcy9Qb2ludCdcblxuQERpcmVjdGl2ZSh7XG4gIHNlbGVjdG9yOiAncG9seWdvbidcbn0pXG5leHBvcnQgY2xhc3MgUG9seWdvbkNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25DaGFuZ2VzLCBPbkRlc3Ryb3kge1xuICBASW5wdXQoKSBwcml2YXRlIHBvaW50czogQXJyYXk8UG9pbnQ+XG4gIEBJbnB1dCgpIHByaXZhdGUgb3B0aW9uczogUG9seWdvbk9wdGlvbnNcblxuICBAT3V0cHV0KCkgcHJpdmF0ZSBsb2FkZWQgPSBuZXcgRXZlbnRFbWl0dGVyKClcblxuICBwcml2YXRlIHBvbHlnb246IEJQb2x5Z29uXG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBfc2VydmljZTogTWFwU2VydmljZSkge31cblxuICBwdWJsaWMgbmdPbkluaXQoKSB7XG4gICAgbnVsbENoZWNrKHRoaXMucG9pbnRzLCAncG9pbnRzIGlzIHJlcXVpcmVkIGZvciA8cG9seWdvbj4nKVxuXG4gICAgdGhpcy5fc2VydmljZVxuICAgICAgLmFkZE92ZXJsYXkoKCkgPT4ge1xuICAgICAgICByZXR1cm4gKHRoaXMucG9seWdvbiA9IG5ldyB3aW5kb3cuQk1hcC5Qb2x5Z29uKHRvUG9pbnRzKHRoaXMucG9pbnRzKSwgdGhpcy5vcHRpb25zKSlcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIHRoaXMubG9hZGVkLmVtaXQodGhpcy5wb2x5Z29uKVxuICAgICAgfSlcbiAgfVxuXG4gIHB1YmxpYyBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiB7IFtwcm9wZXJ0eU5hbWU6IHN0cmluZ106IFNpbXBsZUNoYW5nZSB9KSB7XG4gICAgaWYgKGNoYW5nZXMucG9pbnRzICYmICFjaGFuZ2VzLnBvaW50cy5pc0ZpcnN0Q2hhbmdlKCkpIHtcbiAgICAgIHRoaXMucG9seWdvbi5zZXRQYXRoKHRvUG9pbnRzKGNoYW5nZXMucG9pbnRzLmN1cnJlbnRWYWx1ZSkpXG4gICAgfVxuICAgIGlmIChjaGFuZ2VzLm9wdGlvbnMgJiYgIWNoYW5nZXMub3B0aW9ucy5pc0ZpcnN0Q2hhbmdlKCkpIHtcbiAgICAgIHRoaXMuc2V0T3B0aW9ucyhjaGFuZ2VzLm9wdGlvbnMuY3VycmVudFZhbHVlKVxuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBuZ09uRGVzdHJveSgpIHtcbiAgICB0aGlzLl9zZXJ2aWNlLnJlbW92ZU92ZXJsYXkodGhpcy5wb2x5Z29uKVxuICB9XG5cbiAgcHJpdmF0ZSBzZXRPcHRpb25zKG9wdGlvbnM6IFBvbHlnb25PcHRpb25zKTogdm9pZCB7XG4gICAgaWYgKGlzTnVsbChvcHRpb25zKSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQob3B0aW9ucy5lbmFibGVFZGl0aW5nKSkge1xuICAgICAgaWYgKG9wdGlvbnMuZW5hYmxlRWRpdGluZykge1xuICAgICAgICB0aGlzLnBvbHlnb24uZW5hYmxlRWRpdGluZygpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnBvbHlnb24uZGlzYWJsZUVkaXRpbmcoKVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKG9wdGlvbnMuZW5hYmxlTWFzc0NsZWFyKSkge1xuICAgICAgaWYgKG9wdGlvbnMuZW5hYmxlRWRpdGluZykge1xuICAgICAgICB0aGlzLnBvbHlnb24uZW5hYmxlTWFzc0NsZWFyKClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucG9seWdvbi5kaXNhYmxlTWFzc0NsZWFyKClcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChvcHRpb25zLnN0cm9rZUNvbG9yKSkge1xuICAgICAgdGhpcy5wb2x5Z29uLnNldFN0cm9rZUNvbG9yKG9wdGlvbnMuc3Ryb2tlQ29sb3IpXG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQob3B0aW9ucy5maWxsQ29sb3IpKSB7XG4gICAgICB0aGlzLnBvbHlnb24uc2V0RmlsbENvbG9yKG9wdGlvbnMuZmlsbENvbG9yKVxuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKG9wdGlvbnMuc3Ryb2tlT3BhY2l0eSkpIHtcbiAgICAgIHRoaXMucG9seWdvbi5zZXRTdHJva2VPcGFjaXR5KG9wdGlvbnMuc3Ryb2tlT3BhY2l0eSlcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChvcHRpb25zLmZpbGxPcGFjaXR5KSkge1xuICAgICAgdGhpcy5wb2x5Z29uLnNldEZpbGxPcGFjaXR5KG9wdGlvbnMuZmlsbE9wYWNpdHkpXG4gICAgfVxuICAgIGlmICghaXNVbmRlZmluZWQob3B0aW9ucy5zdHJva2VTdHlsZSkpIHtcbiAgICAgIHRoaXMucG9seWdvbi5zZXRTdHJva2VTdHlsZShvcHRpb25zLnN0cm9rZVN0eWxlKVxuICAgIH1cbiAgICBpZiAoIWlzVW5kZWZpbmVkKG9wdGlvbnMuc3Ryb2tlV2VpZ2h0KSkge1xuICAgICAgdGhpcy5wb2x5Z29uLnNldFN0cm9rZVdlaWdodChvcHRpb25zLnN0cm9rZVdlaWdodClcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7XG4gIERpcmVjdGl2ZSxcbiAgRXZlbnRFbWl0dGVyLFxuICBJbnB1dCxcbiAgT25DaGFuZ2VzLFxuICBPbkRlc3Ryb3ksXG4gIE9uSW5pdCxcbiAgT3V0cHV0LFxuICBTaW1wbGVDaGFuZ2Vcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSdcblxuaW1wb3J0IHsgbnVsbENoZWNrIH0gZnJvbSAnLi4vaGVscGVycy92YWxpZGF0ZSdcbmltcG9ydCB7IE1hcFNlcnZpY2UgfSBmcm9tICcuLi9wcm92aWRlcnMvbWFwU2VydmljZSdcbmltcG9ydCB7IEJIZWF0bWFwLCBIZWF0bWFwT3B0aW9ucywgSGVhdG1hcERhdGEgfSBmcm9tICcuLi90eXBlcy9IZWF0bWFwJ1xuaW1wb3J0IHsgU2NyaXB0TG9hZGVyIH0gZnJvbSAnLi4vcHJvdmlkZXJzL3NjcmlwdExvYWRlcidcblxuY29uc3QgTElCX1VSTCA9IGBodHRwczovL2FwaS5tYXAuYmFpZHUuY29tL2xpYnJhcnkvSGVhdG1hcC8yLjAvc3JjL0hlYXRtYXBfbWluLmpzYFxuXG5ARGlyZWN0aXZlKHtcbiAgc2VsZWN0b3I6ICdoZWF0bWFwJ1xufSlcbmV4cG9ydCBjbGFzcyBIZWF0bWFwQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkNoYW5nZXMsIE9uRGVzdHJveSB7XG4gIEBJbnB1dCgpIHByaXZhdGUgZGF0YXNldDogSGVhdG1hcERhdGFcbiAgQElucHV0KCkgcHJpdmF0ZSBvcHRpb25zOiBIZWF0bWFwT3B0aW9uc1xuXG4gIEBPdXRwdXQoKSBwcml2YXRlIGxvYWRlZCA9IG5ldyBFdmVudEVtaXR0ZXIoKVxuXG4gIHByaXZhdGUgaGVhdG1hcDogQkhlYXRtYXBcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9zZXJ2aWNlOiBNYXBTZXJ2aWNlLCBwcml2YXRlIHNjcmlwdExvYWRlcjogU2NyaXB0TG9hZGVyKSB7fVxuXG4gIHB1YmxpYyBuZ09uSW5pdCgpIHtcbiAgICBudWxsQ2hlY2sodGhpcy5kYXRhc2V0LCAnZGF0YXNldCBpcyByZXF1aXJlZCBmb3IgPGhlYXRtYXA+JylcblxuICAgIHRoaXMuX3NlcnZpY2UuZ2V0TmF0aXZlTWFwKCkudGhlbigoKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5zY3JpcHRMb2FkZXIubG9hZChMSUJfVVJMLCBmYWxzZSwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9zZXJ2aWNlXG4gICAgICAgICAgLmFkZE92ZXJsYXkoKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICh0aGlzLmhlYXRtYXAgPSBuZXcgd2luZG93LkJNYXBMaWIuSGVhdG1hcE92ZXJsYXkodGhpcy5vcHRpb25zKSlcbiAgICAgICAgICB9KVxuICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubG9hZGVkLmVtaXQodGhpcy5oZWF0bWFwKVxuICAgICAgICAgICAgaWYgKHRoaXMuZGF0YXNldCkge1xuICAgICAgICAgICAgICB0aGlzLmhlYXRtYXAuc2V0RGF0YVNldCh0aGlzLmRhdGFzZXQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIHB1YmxpYyBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiB7IFtwcm9wZXJ0eU5hbWU6IHN0cmluZ106IFNpbXBsZUNoYW5nZSB9KSB7XG4gICAgaWYgKGNoYW5nZXMuZGF0YXNldCAmJiAhY2hhbmdlcy5kYXRhc2V0LmlzRmlyc3RDaGFuZ2UoKSkge1xuICAgICAgdGhpcy5oZWF0bWFwLnNldERhdGFTZXQoY2hhbmdlcy5kYXRhc2V0LmN1cnJlbnRWYWx1ZSlcbiAgICB9XG4gICAgaWYgKGNoYW5nZXMub3B0aW9ucyAmJiAhY2hhbmdlcy5vcHRpb25zLmlzRmlyc3RDaGFuZ2UoKSkge1xuICAgICAgdGhpcy5oZWF0bWFwLnNldE9wdGlvbnMoY2hhbmdlcy5vcHRpb25zLmN1cnJlbnRWYWx1ZSlcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgbmdPbkRlc3Ryb3koKSB7XG4gICAgdGhpcy5fc2VydmljZS5yZW1vdmVPdmVybGF5KHRoaXMuaGVhdG1hcClcbiAgfVxufVxuIiwiaW1wb3J0IHsgRGlyZWN0aXZlLCBFdmVudEVtaXR0ZXIsIElucHV0LCBPbkRlc3Ryb3ksIE9uSW5pdCwgT3V0cHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSdcblxuaW1wb3J0IHsgTWFwU2VydmljZSB9IGZyb20gJy4uL3Byb3ZpZGVycy9tYXBTZXJ2aWNlJ1xuaW1wb3J0IHsgQlRpbGVMYXllciwgVGlsZUxheWVyT3B0aW9ucywgZ2V0VGlsZXNVcmxGdW5jIH0gZnJvbSAnLi4vdHlwZXMvVGlsZUxheWVyJ1xuaW1wb3J0IHsgQlBpeGVsIH0gZnJvbSAnLi4vdHlwZXMvUGl4ZWwnXG5cbkBEaXJlY3RpdmUoe1xuICBzZWxlY3RvcjogJ3RpbGVsYXllcidcbn0pXG5leHBvcnQgY2xhc3MgVGlsZUxheWRlckNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25EZXN0cm95IHtcbiAgQElucHV0KCkgcHJpdmF0ZSBnZXRUaWxlc1VybDogZ2V0VGlsZXNVcmxGdW5jXG4gIEBJbnB1dCgpIHByaXZhdGUgb3B0aW9uczogVGlsZUxheWVyT3B0aW9uc1xuXG4gIEBPdXRwdXQoKSBwcml2YXRlIGxvYWRlZCA9IG5ldyBFdmVudEVtaXR0ZXIoKVxuXG4gIHByaXZhdGUgdGlsZWxheWVyOiBCVGlsZUxheWVyXG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBfc2VydmljZTogTWFwU2VydmljZSkge31cblxuICBwdWJsaWMgbmdPbkluaXQoKSB7XG4gICAgY29uc3QgZnVuYyA9IHRoaXMuZ2V0VGlsZXNVcmxcblxuICAgIHRoaXMuX3NlcnZpY2VcbiAgICAgIC5hZGRUaWxlTGF5ZXIoKCkgPT4ge1xuICAgICAgICB0aGlzLnRpbGVsYXllciA9IG5ldyB3aW5kb3cuQk1hcC5UaWxlTGF5ZXIodGhpcy5vcHRpb25zKVxuXG4gICAgICAgIGlmICh0aGlzLmdldFRpbGVzVXJsKSB7XG4gICAgICAgICAgdGhpcy50aWxlbGF5ZXIuZ2V0VGlsZXNVcmwgPSBmdW5jdGlvbih0aWxlQ29vcmQ6IEJQaXhlbCwgem9vbTogbnVtYmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuYyh0aWxlQ29vcmQsIHpvb20pXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnRpbGVsYXllclxuICAgICAgfSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgdGhpcy5sb2FkZWQuZW1pdCh0aGlzLnRpbGVsYXllcilcbiAgICAgIH0pXG4gIH1cblxuICBwdWJsaWMgbmdPbkRlc3Ryb3koKSB7XG4gICAgdGhpcy5fc2VydmljZS5yZW1vdmVUaWxlTGF5ZXIodGhpcy50aWxlbGF5ZXIpXG4gIH1cbn1cbiIsImltcG9ydCB7IERpcmVjdGl2ZSwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT25EZXN0cm95LCBPbkluaXQsIE91dHB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnXG5cbmltcG9ydCB7IE1hcFNlcnZpY2UgfSBmcm9tICcuLi9wcm92aWRlcnMvbWFwU2VydmljZSdcbmltcG9ydCB7IEJUcmFmZmljTGF5ZXIsIFRyYWZmaWNMYXllck9wdGlvbnMgfSBmcm9tICcuLi90eXBlcy9UcmFmZmljTGF5ZXInXG5cbkBEaXJlY3RpdmUoe1xuICBzZWxlY3RvcjogJ3RyYWZmaWNsYXllcidcbn0pXG5leHBvcnQgY2xhc3MgVHJhZmZpY0xheWRlckNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25EZXN0cm95IHtcbiAgQElucHV0KCkgcHJpdmF0ZSBvcHRpb25zOiBUcmFmZmljTGF5ZXJPcHRpb25zXG5cbiAgQE91dHB1dCgpIHByaXZhdGUgbG9hZGVkID0gbmV3IEV2ZW50RW1pdHRlcigpXG5cbiAgcHJpdmF0ZSB0cmFmZmljbGF5ZXI6IEJUcmFmZmljTGF5ZXJcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9zZXJ2aWNlOiBNYXBTZXJ2aWNlKSB7fVxuXG4gIHB1YmxpYyBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLl9zZXJ2aWNlXG4gICAgICAuYWRkVGlsZUxheWVyKCgpID0+IHtcbiAgICAgICAgdGhpcy50cmFmZmljbGF5ZXIgPSBuZXcgd2luZG93LkJNYXAuVHJhZmZpY0xheWVyKHRoaXMub3B0aW9ucylcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhZmZpY2xheWVyXG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICB0aGlzLmxvYWRlZC5lbWl0KHRoaXMudHJhZmZpY2xheWVyKVxuICAgICAgfSlcbiAgfVxuXG4gIHB1YmxpYyBuZ09uRGVzdHJveSgpIHtcbiAgICB0aGlzLl9zZXJ2aWNlLnJlbW92ZVRpbGVMYXllcih0aGlzLnRyYWZmaWNsYXllcilcbiAgfVxufVxuIiwiaW1wb3J0IHtcbiAgRGlyZWN0aXZlLFxuICBFdmVudEVtaXR0ZXIsXG4gIElucHV0LFxuICBPbkNoYW5nZXMsXG4gIE9uRGVzdHJveSxcbiAgT25Jbml0LFxuICBPdXRwdXQsXG4gIFNpbXBsZUNoYW5nZVxufSBmcm9tICdAYW5ndWxhci9jb3JlJ1xuXG5pbXBvcnQgeyBudWxsQ2hlY2sgfSBmcm9tICcuLi9oZWxwZXJzL3ZhbGlkYXRlJ1xuaW1wb3J0IHsgaXNVbmRlZmluZWQgfSBmcm9tICcuLi9oZWxwZXJzL29iamVjdCdcbmltcG9ydCB7IHRvTWFya2VyQ2x1c3RlcmVyT3B0aW9ucywgdG9Qb2ludCwgdG9NYXJrZXJPcHRpb25zLCB0b1RleHRJY29uU3R5bGUgfSBmcm9tICcuLi9oZWxwZXJzL3RyYW5zZm9ybWVyJ1xuaW1wb3J0IHsgTWFwU2VydmljZSB9IGZyb20gJy4uL3Byb3ZpZGVycy9tYXBTZXJ2aWNlJ1xuaW1wb3J0IHsgTWFya2VyQ2x1c3RlcmVyT3B0aW9ucywgQk1hcmtlckNsdXN0ZXJlciB9IGZyb20gJy4uL3R5cGVzL01hcmtlckNsdXN0ZXJlcidcbmltcG9ydCB7IFNjcmlwdExvYWRlciB9IGZyb20gJy4uL3Byb3ZpZGVycy9zY3JpcHRMb2FkZXInXG5pbXBvcnQgeyBCTWFwSW5zdGFuY2UgfSBmcm9tICcuLi90eXBlcy9NYXAnXG5cbmNvbnN0IExJQl9VUkxTID0ge1xuICBrZXk6ICdtYXJrZXJDbHVzdGVyZXInLFxuICBzY3JpcHRzOiBbXG4gICAgJ2h0dHBzOi8vYXBpLm1hcC5iYWlkdS5jb20vbGlicmFyeS9NYXJrZXJDbHVzdGVyZXIvMS4yL3NyYy9NYXJrZXJDbHVzdGVyZXJfbWluLmpzJyxcbiAgICAnaHR0cHM6Ly9hcGkubWFwLmJhaWR1LmNvbS9saWJyYXJ5L1RleHRJY29uT3ZlcmxheS8xLjIvc3JjL1RleHRJY29uT3ZlcmxheV9taW4uanMnXG4gIF1cbn1cblxuQERpcmVjdGl2ZSh7XG4gIHNlbGVjdG9yOiAnbWFya2VyLWNsdXN0ZXJlcidcbn0pXG5leHBvcnQgY2xhc3MgTWFya2VyQ2x1c3RlcmVyQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkNoYW5nZXMsIE9uRGVzdHJveSB7XG4gIEBJbnB1dCgpIHByaXZhdGUgb3B0aW9uczogTWFya2VyQ2x1c3RlcmVyT3B0aW9uc1xuXG4gIEBPdXRwdXQoKSBwcml2YXRlIGxvYWRlZCA9IG5ldyBFdmVudEVtaXR0ZXIoKVxuXG4gIHByaXZhdGUgbWFya2VyQ2x1c3RlcmVyOiBCTWFya2VyQ2x1c3RlcmVyXG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBfc2VydmljZTogTWFwU2VydmljZSwgcHJpdmF0ZSBzY3JpcHRMb2FkZXI6IFNjcmlwdExvYWRlcikge31cblxuICBwdWJsaWMgbmdPbkluaXQoKSB7XG4gICAgbnVsbENoZWNrKHRoaXMub3B0aW9ucywgJ29wdGlvbnMgaXMgcmVxdWlyZWQgZm9yIDxtYXJrZXItY2x1c3RlcmVyPicpXG5cbiAgICB0aGlzLl9zZXJ2aWNlLmdldE5hdGl2ZU1hcCgpLnRoZW4oKG1hcDogQk1hcEluc3RhbmNlKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5zY3JpcHRMb2FkZXIubG9hZChMSUJfVVJMUywgZmFsc2UsICgpID0+IHtcbiAgICAgICAgdGhpcy5tYXJrZXJDbHVzdGVyZXIgPSBuZXcgd2luZG93LkJNYXBMaWIuTWFya2VyQ2x1c3RlcmVyKG1hcCwgdG9NYXJrZXJDbHVzdGVyZXJPcHRpb25zKHRoaXMub3B0aW9ucykpXG5cbiAgICAgICAgdGhpcy5sb2FkZWQuZW1pdCh0aGlzLm1hcmtlckNsdXN0ZXJlcilcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIHB1YmxpYyBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiB7IFtwcm9wZXJ0eU5hbWU6IHN0cmluZ106IFNpbXBsZUNoYW5nZSB9KSB7XG4gICAgaWYgKGNoYW5nZXMub3B0aW9ucyAmJiAhY2hhbmdlcy5vcHRpb25zLmlzRmlyc3RDaGFuZ2UoKSkge1xuICAgICAgdGhpcy5yZXNldE9wdGlvbnMoY2hhbmdlcy5vcHRpb25zLmN1cnJlbnRWYWx1ZSlcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHJlc2V0T3B0aW9ucyhvcHRpb25zOiBNYXJrZXJDbHVzdGVyZXJPcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMubWFya2Vycykge1xuICAgICAgdGhpcy5tYXJrZXJDbHVzdGVyZXIuY2xlYXJNYXJrZXJzKClcbiAgICAgIHRoaXMubWFya2VyQ2x1c3RlcmVyLmFkZE1hcmtlcnMoXG4gICAgICAgIG9wdGlvbnMubWFya2Vycy5tYXAobSA9PiBuZXcgd2luZG93LkJNYXAuTWFya2VyKHRvUG9pbnQobS5wb2ludCksIHRvTWFya2VyT3B0aW9ucyhtLm9wdGlvbnMpKSlcbiAgICAgIClcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChvcHRpb25zLmdpcmRTaXplKSkge1xuICAgICAgdGhpcy5tYXJrZXJDbHVzdGVyZXIuc2V0R3JpZFNpemUob3B0aW9ucy5naXJkU2l6ZSlcbiAgICB9XG4gICAgaWYgKCFpc1VuZGVmaW5lZChvcHRpb25zLm1heFpvb20pKSB7XG4gICAgICB0aGlzLm1hcmtlckNsdXN0ZXJlci5zZXRNYXhab29tKG9wdGlvbnMubWF4Wm9vbSlcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuc3R5bGVzKSB7XG4gICAgICB0aGlzLm1hcmtlckNsdXN0ZXJlci5zZXRTdHlsZXMob3B0aW9ucy5zdHlsZXMuZmlsdGVyKHMgPT4gcykubWFwKHMgPT4gdG9UZXh0SWNvblN0eWxlKHMpKSlcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgbmdPbkRlc3Ryb3koKSB7XG4gICAgdGhpcy5tYXJrZXJDbHVzdGVyZXIuY2xlYXJNYXJrZXJzKClcbiAgfVxufVxuIiwiaW1wb3J0IHsgQkljb24sIEljb24gfSBmcm9tICcuL0ljb24nXG5pbXBvcnQgeyBCU2l6ZSwgU2l6ZSB9IGZyb20gJy4vU2l6ZSdcblxuZXhwb3J0IGludGVyZmFjZSBCQ29udHJvbENvbnN0cnVjdG9yIHtcbiAgbmV3IChvcHRzOiBhbnkpOiBCQ29udHJvbFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJDb250cm9sIHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgQk5hdmlnYXRpb25Db250cm9sQ29uc3RydWN0b3IgZXh0ZW5kcyBCQ29udHJvbENvbnN0cnVjdG9yIHtcbiAgbmV3IChvcHRzOiBCTmF2aWdhdGlvbkNvbnRyb2xPcHRpb25zKTogQk5hdmlnYXRpb25Db250cm9sXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQk92ZXJ2aWV3TWFwQ29udHJvbENvbnN0cnVjdG9yIGV4dGVuZHMgQkNvbnRyb2xDb25zdHJ1Y3RvciB7XG4gIG5ldyAob3B0czogQk92ZXJ2aWV3TWFwQ29udHJvbE9wdGlvbnMpOiBCT3ZlcnZpZXdNYXBDb250cm9sXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQlNjYWxlQ29udHJvbENvbnN0cnVjdG9yIGV4dGVuZHMgQkNvbnRyb2xDb25zdHJ1Y3RvciB7XG4gIG5ldyAob3B0czogQlNjYWxlQ29udHJvbE9wdGlvbnMpOiBCU2NhbGVDb250cm9sXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQk1hcFR5cGVDb250cm9sQ29uc3RydWN0b3IgZXh0ZW5kcyBCQ29udHJvbENvbnN0cnVjdG9yIHtcbiAgbmV3IChvcHRzOiBCTWFwVHlwZUNvbnRyb2xPcHRpb25zKTogQk1hcFR5cGVDb250cm9sXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQkdlb2xvY2F0aW9uQ29uc3RydWN0b3IgZXh0ZW5kcyBCQ29udHJvbENvbnN0cnVjdG9yIHtcbiAgbmV3IChvcHRzOiBCR2VvbG9jYXRpb25Db250cm9sT3B0aW9ucyk6IEJHZW9sb2NhdGlvbkNvbnRyb2xcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCUGFub3JhbWFDb250cm9sQ29uc3RydWN0b3IgZXh0ZW5kcyBCQ29udHJvbENvbnN0cnVjdG9yIHtcbiAgbmV3ICgpOiBCUGFub3JhbWFDb250cm9sQ29udHJvbFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJOYXZpZ2F0aW9uQ29udHJvbCBleHRlbmRzIEJDb250cm9sIHtcbiAgZ2V0VHlwZSgpOiBOYXZpZ2F0aW9uQ29udHJvbFR5cGVcbiAgc2V0VHlwZSh0eXBlOiBOYXZpZ2F0aW9uQ29udHJvbFR5cGUpOiB2b2lkXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQk92ZXJ2aWV3TWFwQ29udHJvbCBleHRlbmRzIEJDb250cm9sIHtcbiAgY2hhbmdlVmlldygpOiB2b2lkXG4gIHNldFNpemUoc2l6ZTogQlNpemUpOiB2b2lkXG4gIGdldFNpemUoKTogQlNpemVcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCU2NhbGVDb250cm9sIGV4dGVuZHMgQkNvbnRyb2wge1xuICBnZXRVbml0KCk6IExlbmd0aFVuaXRcbiAgc2V0VW5pdCh1bml0OiBMZW5ndGhVbml0KTogdm9pZFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJNYXBUeXBlQ29udHJvbCBleHRlbmRzIEJDb250cm9sIHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgQkdlb2xvY2F0aW9uQ29udHJvbCBleHRlbmRzIEJDb250cm9sIHtcbiAgbG9jYXRpb24oKTogdm9pZFxuICBnZXRBZGRyZXNzQ29tcG9uZW50KCk6IEFkZHJlc3NDb21wb25lbnRcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCUGFub3JhbWFDb250cm9sQ29udHJvbCBleHRlbmRzIEJDb250cm9sIHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29udHJvbE9wdGlvbnMge1xuICBhbmNob3I/OiBDb250cm9sQW5jaG9yXG4gIG9mZnNldD86IFNpemVcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCQ29udHJvbE9wdGlvbnMge1xuICBhbmNob3I/OiBDb250cm9sQW5jaG9yXG4gIG9mZnNldD86IEJTaXplXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTmF2aWdhdGlvbkNvbnRyb2xPcHRpb25zIGV4dGVuZHMgQ29udHJvbE9wdGlvbnMge1xuICB0eXBlPzogTmF2aWdhdGlvbkNvbnRyb2xUeXBlXG4gIHNob3dab29tSW5mbz86IGJvb2xlYW5cbiAgZW5hYmxlR2VvbG9jYXRpb24/OiBib29sZWFuXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQk5hdmlnYXRpb25Db250cm9sT3B0aW9ucyBleHRlbmRzIEJDb250cm9sT3B0aW9ucyB7XG4gIHR5cGU/OiBOYXZpZ2F0aW9uQ29udHJvbFR5cGVcbiAgc2hvd1pvb21JbmZvPzogYm9vbGVhblxuICBlbmFibGVHZW9sb2NhdGlvbj86IGJvb2xlYW5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBPdmVydmlld01hcENvbnRyb2xPcHRpb25zIGV4dGVuZHMgQ29udHJvbE9wdGlvbnMge1xuICBzaXplPzogU2l6ZVxuICBpc09wZW4/OiBib29sZWFuXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQk92ZXJ2aWV3TWFwQ29udHJvbE9wdGlvbnMgZXh0ZW5kcyBCQ29udHJvbE9wdGlvbnMge1xuICBzaXplPzogQlNpemVcbiAgaXNPcGVuPzogYm9vbGVhblxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNjYWxlQ29udHJvbE9wdGlvbnMgZXh0ZW5kcyBDb250cm9sT3B0aW9ucyB7fVxuXG5leHBvcnQgaW50ZXJmYWNlIEJTY2FsZUNvbnRyb2xPcHRpb25zIGV4dGVuZHMgQkNvbnRyb2xPcHRpb25zIHt9XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWFwVHlwZUNvbnRyb2xPcHRpb25zIHtcbiAgdHlwZT86IE1hcFR5cGVDb250cm9sVHlwZVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJNYXBUeXBlQ29udHJvbE9wdGlvbnMge1xuICB0eXBlPzogTWFwVHlwZUNvbnRyb2xUeXBlXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2VvbG9jYXRpb25Db250cm9sT3B0aW9ucyBleHRlbmRzIENvbnRyb2xPcHRpb25zIHtcbiAgc2hvd0FkZHJlc3NCYXI/OiBib29sZWFuXG4gIGVuYWJsZUF1dG9Mb2NhdGlvbj86IGJvb2xlYW5cbiAgbG9jYXRpb25JY29uPzogSWNvblxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJHZW9sb2NhdGlvbkNvbnRyb2xPcHRpb25zIGV4dGVuZHMgQkNvbnRyb2xPcHRpb25zIHtcbiAgc2hvd0FkZHJlc3NCYXI/OiBib29sZWFuXG4gIGVuYWJsZUF1dG9Mb2NhdGlvbj86IGJvb2xlYW5cbiAgbG9jYXRpb25JY29uPzogQkljb25cbn1cblxuZXhwb3J0IGVudW0gQ29udHJvbEFuY2hvciB7XG4gIEJNQVBfQU5DSE9SX1RPUF9MRUZUID0gMCxcbiAgQk1BUF9BTkNIT1JfVE9QX1JJR0hUID0gMSxcbiAgQk1BUF9BTkNIT1JfQk9UVE9NX0xFRlQgPSAyLFxuICBCTUFQX0FOQ0hPUl9CT1RUT01fUklHSFQgPSAzXG59XG5cbmV4cG9ydCBlbnVtIE5hdmlnYXRpb25Db250cm9sVHlwZSB7XG4gIEJNQVBfTkFWSUdBVElPTl9DT05UUk9MX0xBUkdFID0gMCxcbiAgQk1BUF9OQVZJR0FUSU9OX0NPTlRST0xfU01BTEwgPSAxLFxuICBCTUFQX05BVklHQVRJT05fQ09OVFJPTF9QQU4gPSAyLFxuICBCTUFQX05BVklHQVRJT05fQ09OVFJPTF9aT09NID0gM1xufVxuXG5leHBvcnQgZW51bSBNYXBUeXBlQ29udHJvbFR5cGUge1xuICBCTUFQX01BUFRZUEVfQ09OVFJPTF9IT1JJWk9OVEFMID0gMCxcbiAgQk1BUF9NQVBUWVBFX0NPTlRST0xfRFJPUERPV04gPSAxLFxuICBCTUFQX01BUFRZUEVfQ09OVFJPTF9NQVAgPSAyXG59XG5cbmV4cG9ydCBlbnVtIExlbmd0aFVuaXQge1xuICBCTUFQX1VOSVRfTUVUUklDID0gJ21ldHJpYycsXG4gIEJNQVBfVU5JVF9JTVBFUklBTCA9ICd1cydcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBZGRyZXNzQ29tcG9uZW50IHtcbiAgc3RyZWV0TnVtYmVyOiBzdHJpbmdcbiAgc3RyZWV0OiBzdHJpbmdcbiAgZGlzdHJpY3Q6IHN0cmluZ1xuICBjaXR5OiBzdHJpbmdcbiAgcHJvdmluY2U6IHN0cmluZ1xufVxuXG5leHBvcnQgdHlwZSBDb250cm9sVHlwZSA9ICduYXZpZ2F0aW9uJyB8ICdvdmVydmlld21hcCcgfCAnc2NhbGUnIHwgJ21hcHR5cGUnIHwgJ2dlb2xvY2F0aW9uJyB8ICdwYW5vcmFtYSdcbiIsImltcG9ydCB7IE1vZHVsZVdpdGhQcm92aWRlcnMsIE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSdcblxuaW1wb3J0IHsgQ29udHJvbENvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9jb250cm9sLmNvbXBvbmVudCdcbmltcG9ydCB7IE1hcENvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9tYXAuY29tcG9uZW50J1xuaW1wb3J0IHsgTWFya2VyQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL21hcmtlci5jb21wb25lbnQnXG5pbXBvcnQgeyBQb2x5bGluZUNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9wb2x5bGluZS5jb21wb25lbnQnXG5pbXBvcnQgeyBDaXJjbGVDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvY2lyY2xlLmNvbXBvbmVudCdcbmltcG9ydCB7IFBvbHlnb25Db21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvcG9seWdvbi5jb21wb25lbnQnXG5pbXBvcnQgeyBIZWF0bWFwQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL2hlYXRtYXAuY29tcG9uZW50J1xuaW1wb3J0IHsgVGlsZUxheWRlckNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy90aWxlbGF5ZXIuY29tcG9uZW50J1xuaW1wb3J0IHsgVHJhZmZpY0xheWRlckNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy90cmFmZmljbGF5ZXIuY29tcG9uZW50J1xuaW1wb3J0IHsgTWFya2VyQ2x1c3RlcmVyQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL21hcmtlckNsdXN0ZXJlci5jb21wb25lbnQnXG5pbXBvcnQgeyBMT0FESU5HX1NUQVRFLCBTY3JpcHRMb2FkZXIsIFNjcmlwdExvYWRlckNvbmZpZyB9IGZyb20gJy4vcHJvdmlkZXJzL3NjcmlwdExvYWRlcidcblxuaW1wb3J0IHsgQk1hcCB9IGZyb20gJy4vdHlwZXMvQk1hcCdcbmltcG9ydCB7IEJNYXBMaWIgfSBmcm9tICcuL3R5cGVzL0JNYXBMaWInXG5cbkBOZ01vZHVsZSh7XG4gIGRlY2xhcmF0aW9uczogW1xuICAgIE1hcENvbXBvbmVudCxcbiAgICBNYXJrZXJDb21wb25lbnQsXG4gICAgQ29udHJvbENvbXBvbmVudCxcbiAgICBQb2x5bGluZUNvbXBvbmVudCxcbiAgICBDaXJjbGVDb21wb25lbnQsXG4gICAgUG9seWdvbkNvbXBvbmVudCxcbiAgICBIZWF0bWFwQ29tcG9uZW50LFxuICAgIFRpbGVMYXlkZXJDb21wb25lbnQsXG4gICAgVHJhZmZpY0xheWRlckNvbXBvbmVudCxcbiAgICBNYXJrZXJDbHVzdGVyZXJDb21wb25lbnRcbiAgXSxcbiAgZXhwb3J0czogW1xuICAgIE1hcENvbXBvbmVudCxcbiAgICBNYXJrZXJDb21wb25lbnQsXG4gICAgQ29udHJvbENvbXBvbmVudCxcbiAgICBQb2x5bGluZUNvbXBvbmVudCxcbiAgICBDaXJjbGVDb21wb25lbnQsXG4gICAgUG9seWdvbkNvbXBvbmVudCxcbiAgICBIZWF0bWFwQ29tcG9uZW50LFxuICAgIFRpbGVMYXlkZXJDb21wb25lbnQsXG4gICAgVHJhZmZpY0xheWRlckNvbXBvbmVudCxcbiAgICBNYXJrZXJDbHVzdGVyZXJDb21wb25lbnRcbiAgXVxufSlcbmV4cG9ydCBjbGFzcyBCYWlkdU1hcE1vZHVsZSB7XG4gIHB1YmxpYyBzdGF0aWMgZm9yUm9vdChfY29uZmlnPzogU2NyaXB0TG9hZGVyQ29uZmlnKTogTW9kdWxlV2l0aFByb3ZpZGVycyB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5nTW9kdWxlOiBCYWlkdU1hcE1vZHVsZSxcbiAgICAgIHByb3ZpZGVyczogW3sgcHJvdmlkZTogU2NyaXB0TG9hZGVyQ29uZmlnLCB1c2VWYWx1ZTogX2NvbmZpZyB9LCBTY3JpcHRMb2FkZXJdXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IEJNYXBJbnN0YW5jZSwgTWFwT3B0aW9ucywgTWFwVHlwZUVudW0gfSBmcm9tICcuL3R5cGVzL01hcCdcbmV4cG9ydCB7IEJNYXBUeXBlIH0gZnJvbSAnLi90eXBlcy9NYXBUeXBlJ1xuZXhwb3J0IHsgQlByb2plY3Rpb24gfSBmcm9tICcuL3R5cGVzL1Byb2plY3Rpb24nXG5leHBvcnQgeyBQb2ludCB9IGZyb20gJy4vdHlwZXMvUG9pbnQnXG5leHBvcnQgeyBCTWFya2VyLCBNYXJrZXIsIE1hcmtlck9wdGlvbnMgfSBmcm9tICcuL3R5cGVzL01hcmtlcidcbmV4cG9ydCB7IEJQb2x5bGluZSwgUG9seWxpbmVPcHRpb25zIH0gZnJvbSAnLi90eXBlcy9Qb2x5bGluZSdcbmV4cG9ydCB7IEJDaXJjbGUsIENpcmNsZU9wdGlvbnMgfSBmcm9tICcuL3R5cGVzL0NpcmNsZSdcbmV4cG9ydCB7IEJQb2x5Z29uLCBQb2x5Z29uT3B0aW9ucyB9IGZyb20gJy4vdHlwZXMvUG9seWdvbidcbmV4cG9ydCB7IEJIZWF0bWFwLCBIZWF0bWFwT3B0aW9ucywgSGVhdG1hcERhdGEgfSBmcm9tICcuL3R5cGVzL0hlYXRtYXAnXG5leHBvcnQgeyBCVGlsZUxheWVyLCBUaWxlTGF5ZXJPcHRpb25zLCBnZXRUaWxlc1VybEZ1bmMgfSBmcm9tICcuL3R5cGVzL1RpbGVMYXllcidcbmV4cG9ydCB7IEJUcmFmZmljTGF5ZXIsIFRyYWZmaWNMYXllck9wdGlvbnMsIFByZWRpY3REYXRlIH0gZnJvbSAnLi90eXBlcy9UcmFmZmljTGF5ZXInXG5leHBvcnQgeyBCTWFya2VyQ2x1c3RlcmVyLCBNYXJrZXJDbHVzdGVyZXJPcHRpb25zIH0gZnJvbSAnLi90eXBlcy9NYXJrZXJDbHVzdGVyZXInXG5leHBvcnQgeyBUZXh0SWNvblN0eWxlIH0gZnJvbSAnLi90eXBlcy9UZXh0SWNvbk92ZXJsYXknXG5leHBvcnQge1xuICBCQ29udHJvbCxcbiAgQk5hdmlnYXRpb25Db250cm9sLFxuICBCT3ZlcnZpZXdNYXBDb250cm9sLFxuICBCU2NhbGVDb250cm9sLFxuICBCTWFwVHlwZUNvbnRyb2wsXG4gIEJHZW9sb2NhdGlvbkNvbnRyb2wsXG4gIEJQYW5vcmFtYUNvbnRyb2xDb250cm9sLFxuICBDb250cm9sVHlwZSxcbiAgQ29udHJvbEFuY2hvcixcbiAgR2VvbG9jYXRpb25Db250cm9sT3B0aW9ucyxcbiAgTGVuZ3RoVW5pdCxcbiAgTmF2aWdhdGlvbkNvbnRyb2xPcHRpb25zLFxuICBOYXZpZ2F0aW9uQ29udHJvbFR5cGUsXG4gIE92ZXJ2aWV3TWFwQ29udHJvbE9wdGlvbnMsXG4gIFNjYWxlQ29udHJvbE9wdGlvbnMsXG4gIE1hcFR5cGVDb250cm9sT3B0aW9ucyxcbiAgTWFwVHlwZUNvbnRyb2xUeXBlXG59IGZyb20gJy4vdHlwZXMvQ29udHJvbCdcbmV4cG9ydCB7IEJJbmZvV2luZG93Q29uc3RydWN0b3IsIEJJbmZvV2luZG93T3B0aW9ucyB9IGZyb20gJy4vdHlwZXMvSW5mb1dpbmRvdydcblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgV2luZG93IHtcbiAgICBfc2NyaXB0TG9hZFN0YXRlOiB7IFt1cmw6IHN0cmluZ106IExPQURJTkdfU1RBVEUgfVxuICAgIF9sb2FkaW5nQ2FsbGJhY2tzOiB7IFt1cmw6IHN0cmluZ106IEFycmF5PCgpID0+IHZvaWQ+IH1cbiAgICBCTWFwOiBCTWFwXG4gICAgQk1hcExpYjogQk1hcExpYlxuICAgIGJhaWR1bWFwaW5pdDogKCkgPT4gdm9pZFxuICAgIEJNQVBfUEVSU1BFQ1RJVkVfTUFQOiBhbnlc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